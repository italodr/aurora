module.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=45)}([function(e,t,n){"use strict";var r=n(9),i="undefined"==typeof navigator,o={e:{}},a,u="undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:void 0!==this?this:null;function s(){try{var e=a;return a=null,e.apply(this,arguments)}catch(e){return o.e=e,o}}function c(e){return a=e,s}var l=function(e,t){var n={}.hasOwnProperty;function r(){for(var r in this.constructor=e,this.constructor$=t,t.prototype)n.call(t.prototype,r)&&"$"!==r.charAt(r.length-1)&&(this[r+"$"]=t.prototype[r])}return r.prototype=t.prototype,e.prototype=new r,e.prototype};function f(e){return null==e||!0===e||!1===e||"string"==typeof e||"number"==typeof e}function p(e){return"function"==typeof e||"object"==typeof e&&null!==e}function h(e){return f(e)?new Error(j(e)):e}function d(e,t){var n,r=e.length,i=new Array(r+1);for(n=0;n<r;++n)i[n]=e[n];return i[n]=t,i}function _(e,t,n){if(!r.isES5)return{}.hasOwnProperty.call(e,t)?e[t]:void 0;var i=Object.getOwnPropertyDescriptor(e,t);return null!=i?null==i.get&&null==i.set?i.value:n:void 0}function v(e,t,n){if(f(e))return e;var i={value:n,configurable:!0,enumerable:!1,writable:!0};return r.defineProperty(e,t,i),e}function y(e){throw e}var m=function(){var e=[Array.prototype,Object.prototype,Function.prototype],t=function(t){for(var n=0;n<e.length;++n)if(e[n]===t)return!0;return!1};if(r.isES5){var n=Object.getOwnPropertyNames;return function(e){for(var i=[],o=Object.create(null);null!=e&&!t(e);){var a;try{a=n(e)}catch(e){return i}for(var u=0;u<a.length;++u){var s=a[u];if(!o[s]){o[s]=!0;var c=Object.getOwnPropertyDescriptor(e,s);null!=c&&null==c.get&&null==c.set&&i.push(s)}}e=r.getPrototypeOf(e)}return i}}var i={}.hasOwnProperty;return function(n){if(t(n))return[];var r=[];e:for(var o in n)if(i.call(n,o))r.push(o);else{for(var a=0;a<e.length;++a)if(i.call(e[a],o))continue e;r.push(o)}return r}}(),g=/this\s*\.\s*\S+\s*=/;function b(e){try{if("function"==typeof e){var t=r.names(e.prototype),n=r.isES5&&t.length>1,i=t.length>0&&!(1===t.length&&"constructor"===t[0]),o=g.test(e+"")&&r.names(e).length>0;if(n||i||o)return!0}return!1}catch(e){return!1}}function w(e){function t(){}t.prototype=e;for(var n=8;n--;)new t;return e}var E=/^[a-z$_][a-z$_0-9]*$/i;function x(e){return E.test(e)}function O(e,t,n){for(var r=new Array(e),i=0;i<e;++i)r[i]=t+i+n;return r}function j(e){try{return e+""}catch(e){return"[no string representation]"}}function S(e){return e instanceof Error||null!==e&&"object"==typeof e&&"string"==typeof e.message&&"string"==typeof e.name}function C(e){try{v(e,"isOperational",!0)}catch(e){}}function k(e){return null!=e&&(e instanceof Error.__BluebirdErrorTypes__.OperationalError||!0===e.isOperational)}function P(e){return S(e)&&r.propertyIsWritable(e,"stack")}var T="stack"in new Error?function(e){return P(e)?e:new Error(j(e))}:function(e){if(P(e))return e;try{throw new Error(j(e))}catch(e){return e}};function N(e){return{}.toString.call(e)}function M(e,t,n){for(var i=r.names(e),o=0;o<i.length;++o){var a=i[o];if(n(a))try{r.defineProperty(t,a,r.getDescriptor(e,a))}catch(e){}}}var R=function(e){return r.isArray(e)?e:null};if("undefined"!=typeof Symbol&&Symbol.iterator){var F="function"==typeof Array.from?function(e){return Array.from(e)}:function(e){for(var t,n=[],r=e[Symbol.iterator]();!(t=r.next()).done;)n.push(t.value);return n};R=function(e){return r.isArray(e)?e:null!=e&&"function"==typeof e[Symbol.iterator]?F(e):null}}var z="undefined"!=typeof process&&"[object process]"===N(process).toLowerCase(),I="undefined"!=typeof process&&void 0!==process.env;function A(e){return I?process.env[e]:void 0}function D(){if("function"==typeof Promise)try{var e=new Promise(function(){});if("[object Promise]"==={}.toString.call(e))return Promise}catch(e){}}function q(e,t){return e.bind(t)}var L={isClass:b,isIdentifier:x,inheritedDataKeys:m,getDataPropertyOrDefault:_,thrower:y,isArray:r.isArray,asArray:R,notEnumerableProp:v,isPrimitive:f,isObject:p,isError:S,canEvaluate:i,errorObj:o,tryCatch:c,inherits:l,withAppended:d,maybeWrapAsError:h,toFastProperties:w,filledRange:O,toString:j,canAttachTrace:P,ensureErrorObject:T,originatesFromRejection:k,markAsOriginatingFromRejection:C,classString:N,copyDescriptors:M,hasDevTools:"undefined"!=typeof chrome&&chrome&&"function"==typeof chrome.loadTimes,isNode:z,hasEnvVariables:I,env:A,global:u,getNativePromise:D,domainBind:q},B;L.isRecentNode=L.isNode&&(B=process.versions.node.split(".").map(Number),0===B[0]&&B[1]>10||B[0]>0),L.isNode&&L.toFastProperties(process);try{throw new Error}catch(e){L.lastLineError=e}e.exports=L},function(e,t){e.exports=require("react")},function(e,t){e.exports=require("styled-components")},function(e,t){e.exports=require("prop-types")},function(e,t){e.exports=require("react-redux")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SCREENS=t.SEARCH_NOTE=t.DELETE_NOTE=t.UPDATE_NOTE=t.SET_TOAST=t.SET_EDITOR_STATE=t.SELECT_NOTE=t.RECEIVED_NOTE_CONTENT=t.LOAD_NOTE_CONTENT=t.RECEIVED_NOTES=t.LOAD_NOTES=t.SET_PREFERENCES=t.SET_SCREEN=void 0,t.setScreen=function(e){return{type:o,screen:e}},t.setToast=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{type:h,message:e,toastType:t}},t.setPreferences=function(e){return{type:a,preferences:e}},t.selectNote=y,t.setQuery=function(e){return{type:v,query:e}},t.setEditorState=function(e){return{type:p,editorState:e}},t.updateNote=m,t.loadNoteContent=g,t.selectAndLoadNote=b,t.loadNotes=function(){return function(e){return e({type:u}),(0,r.loadNotes)().then(function(t){e(function(e){return{type:s,notes:e}}(t)),e(b((0,i.firstNoteIfDefined)(t)))})}},t.updateAndSaveNote=w,t.saveNote=function(e){(0,r.saveNote)(e)},t.newNote=function(e){return w(e)},t.deleteNote=function(e){return(0,r.deleteNote)(e),{type:_,note:e}};var r=n(15),i=n(43),o=t.SET_SCREEN="SET_SCREEN",a=t.SET_PREFERENCES="SET_PREFERENCES",u=t.LOAD_NOTES="LOAD_NOTES",s=t.RECEIVED_NOTES="RECEIVED_NOTES",c=t.LOAD_NOTE_CONTENT="LOAD_NOTE_CONTENT",l=t.RECEIVED_NOTE_CONTENT="RECEVED_NOTE_CONTENT",f=t.SELECT_NOTE="SELECT_NOTE",p=t.SET_EDITOR_STATE="SET_EDITOR_STATE",h=t.SET_TOAST="SET_TOAST",d=t.UPDATE_NOTE="UPDATE_NOTE",_=t.DELETE_NOTE="DELETE_NOTE",v=t.SEARCH_NOTE="SEARCH_NOTE";t.SCREENS={MAIN:"MAIN",STORE:"STORE"};function y(e){return{type:f,note:e}}function m(e){return{type:d,note:e}}function g(e){return function(t){return t(function(e){return{type:c,note:e}}()),e.getContent().then(function(n){t(function(e,t){return{type:l,content:t,note:e}}(e,n))})}}function b(e){return function(t){t(y(e)),null!==e&&t(g(e))}}function w(e){return function(t){(0,r.saveNote)(e).then(function(){t(m(e))})}}},function(e,t){e.exports=require("@react-mutate/core")},function(e,t,n){"use strict";var r,i,o=n(9),a=o.freeze,u=n(0),s=u.inherits,c=u.notEnumerableProp;function l(e,t){function n(r){if(!(this instanceof n))return new n(r);c(this,"message","string"==typeof r?r:t),c(this,"name",e),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):Error.call(this)}return s(n,Error),n}var f=l("Warning","warning"),p=l("CancellationError","cancellation error"),h=l("TimeoutError","timeout error"),d=l("AggregateError","aggregate error");try{r=TypeError,i=RangeError}catch(e){r=l("TypeError","type error"),i=l("RangeError","range error")}for(var _="join pop push shift unshift slice filter forEach some every map indexOf lastIndexOf reduce reduceRight sort reverse".split(" "),v=0;v<_.length;++v)"function"==typeof Array.prototype[_[v]]&&(d.prototype[_[v]]=Array.prototype[_[v]]);o.defineProperty(d.prototype,"length",{value:0,configurable:!1,writable:!0,enumerable:!0}),d.prototype.isOperational=!0;var y=0;function m(e){if(!(this instanceof m))return new m(e);c(this,"name","OperationalError"),c(this,"message",e),this.cause=e,this.isOperational=!0,e instanceof Error?(c(this,"message",e.message),c(this,"stack",e.stack)):Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}d.prototype.toString=function(){var e=Array(4*y+1).join(" "),t="\n"+e+"AggregateError of:\n";y++,e=Array(4*y+1).join(" ");for(var n=0;n<this.length;++n){for(var r=this[n]===this?"[Circular AggregateError]":this[n]+"",i=r.split("\n"),o=0;o<i.length;++o)i[o]=e+i[o];t+=(r=i.join("\n"))+"\n"}return y--,t},s(m,Error);var g=Error.__BluebirdErrorTypes__;g||(g=a({CancellationError:p,TimeoutError:h,OperationalError:m,RejectionError:m,AggregateError:d}),o.defineProperty(Error,"__BluebirdErrorTypes__",{value:g,writable:!1,enumerable:!1,configurable:!1})),e.exports={Error:Error,TypeError:r,RangeError:i,CancellationError:g.CancellationError,OperationalError:g.OperationalError,TimeoutError:g.TimeoutError,AggregateError:g.AggregateError,Warning:f}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.auroraRootPath=t.exists=t.throwIfNotNoteModel=t.configFilePath=t.dbFilePath=t.writeDatabaseJSON=t.dbConfigExists=t.executeIfDefined=t.readFromAsync=t.saveToAsync=t.deleteNoteContent=t.loadNoteContent=t.saveNoteContent=t.deleteFile=t.readFrom=t.saveTo=t.auroraDirContext=void 0;var r,i=n(68),o=(r=i)&&r.__esModule?r:{default:r},a=n(21),u=n(17);var s=n(27),c="notes",l="database.json",f=function(e){return e.uuid+".aur"},p=function(){return o.default.dir(s.homedir()).dir(".aurora")},h=function(){return p().dir("production")},d=function(){return p()};function _(e,t){void 0!==e&&(void 0!==t?e(t):e())}function v(e,t,n){return n.write(t,e)}function y(e,t,n,r,i){n.writeAsync(t,e).then(function(){_(r)}).catch(function(e){i(e)})}function m(e,t,n,r){t.readAsync(e).then(function(e){n(e)}).catch(function(e){r(e)})}t.auroraDirContext=h,t.saveTo=v,t.readFrom=function(e,t){return t.read(e)},t.deleteFile=function(e,t){return t.remove(e)},t.saveNoteContent=function(e){e.getContent().then(function(t){y(t,f(e),h().dir(c))})},t.loadNoteContent=function(e,t,n){m(f(e),h().dir(c),t,n)},t.deleteNoteContent=function(e){h().dir(c).remove(f(e))},t.saveToAsync=y,t.readFromAsync=m,t.executeIfDefined=_,t.dbConfigExists=function(){return d().exists(l)},t.writeDatabaseJSON=function(e){return v(e,l,d())},t.dbFilePath=function(e){return(0,u.auroraRootPath)()+"/"+e+"/"+e+".db"},t.configFilePath=function(){return(0,u.auroraRootPath)()+"/"+l},t.throwIfNotNoteModel=function(e){if(!(e instanceof a.NoteModel))throw new Error("Attempted to use something that is not a NoteModel.")},t.exists=function(e){return o.default.exists(e)},t.auroraRootPath=u.auroraRootPath},function(e,t){var n=function(){"use strict";return void 0===this}();if(n)e.exports={freeze:Object.freeze,defineProperty:Object.defineProperty,getDescriptor:Object.getOwnPropertyDescriptor,keys:Object.keys,names:Object.getOwnPropertyNames,getPrototypeOf:Object.getPrototypeOf,isArray:Array.isArray,isES5:n,propertyIsWritable:function(e,t){var n=Object.getOwnPropertyDescriptor(e,t);return!(n&&!n.writable&&!n.set)}};else{var r={}.hasOwnProperty,i={}.toString,o={}.constructor.prototype,a=function(e){var t=[];for(var n in e)r.call(e,n)&&t.push(n);return t};e.exports={isArray:function(e){try{return"[object Array]"===i.call(e)}catch(e){return!1}},keys:a,names:a,defineProperty:function(e,t,n){return e[t]=n.value,e},getDescriptor:function(e,t){return{value:e[t]}},freeze:function(e){return e},getPrototypeOf:function(e){try{return Object(e).constructor.prototype}catch(e){return o}},isES5:n,propertyIsWritable:function(){return!0}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e.app},i=(t.screen=function(e){return r(e).screen},t.toast=function(e){return r(e).toast},t.preferences=function(e){return r(e).preferences},function(e){return e.notes});t.isLoadingNotes=function(e){return i(e).isLoadingNotes},t.allNotes=function(e){return i(e).allNotes},t.selectedNote=function(e){return i(e).selectedNote},t.isLoadingContent=function(e){return i(e).isLoadingContent},t.editorState=function(e){return i(e).editorState},t.query=function(e){return i(e).query}},function(e,t){e.exports=require("lodash")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ensureDirExists=t.createDatabaseConfig=t.loadDB=t.bookshelf=void 0;var r=n(8),i=["test","production","development"];function o(){if(!(0,r.dbConfigExists)()){var e={defaultEnv:{ENV:"NODE_ENV"}},t=!0,n=!1,o=void 0;try{for(var a,u=i[Symbol.iterator]();!(t=(a=u.next()).done);t=!0){var s=a.value;e[s]={driver:"sqlite3",user:"root",filename:(0,r.dbFilePath)(s)}}}catch(e){n=!0,o=e}finally{try{!t&&u.return&&u.return()}finally{if(n)throw o}}(0,r.writeDatabaseJSON)(e)}}function a(){(0,r.auroraDirContext)()}o(),a();var u=n(75),s=(0,r.dbFilePath)("production"),c=n(76)({client:"sqlite3",connection:{filename:s},useNullAsDefault:!0}),l=n(77)(c),f=n(78);l.plugin(f);var p=u.getInstance(!0,{env:"production",config:(0,r.configFilePath)(),throwUncatched:!0});t.bookshelf=l,t.loadDB=function(){return global.DB_IS_UP?new Promise(function(e){return e()}):(global.DB_IS_UP=!0,p.silence(!0),p.up())},t.createDatabaseConfig=o,t.ensureDirExists=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SplitPanes=t.Draggable=t.Container=t.Sidebars=t.Background=t.Card=void 0;var r=c(n(28)),i=c(n(30)),o=c(n(31)),a=c(n(58)),u=c(n(32)),s=c(n(33));function c(e){return e&&e.__esModule?e:{default:e}}t.Card=r.default,t.Background=i.default,t.Sidebars=o.default,t.Container=a.default,t.Draggable=u.default,t.SplitPanes=s.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.withTheme=t.base=t.Themed=void 0;var r=a(n(18)),i=a(n(29)),o=a(n(57));function a(e){return e&&e.__esModule?e:{default:e}}t.Themed=i.default,t.base=r.default,t.withTheme=o.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.deleteTagFromDB=t.uninstallMutation=t.installNewMutation=t.ensureDirExists=t.createDatabaseConfig=t.deleteFile=t.readFrom=t.saveTo=t.readFromAsync=t.saveToAsync=t.auroraDirPath=t.auroraDirContext=t.loadNoteContent=t.updatePreferences=t.savePreferences=t.loadPreferences=t.deleteNote=t.loadNotes=t.saveNote=void 0;var r=n(37),i=n(8),o=n(12);t.saveNote=r.saveNote,t.loadNotes=r.loadNotes,t.deleteNote=r.deleteNote,t.loadPreferences=r.loadPreferences,t.savePreferences=r.savePreferences,t.updatePreferences=r.updatePreferences,t.loadNoteContent=i.loadNoteContent,t.auroraDirContext=i.auroraDirContext,t.auroraDirPath=i.auroraDirPath,t.saveToAsync=i.saveToAsync,t.readFromAsync=i.readFromAsync,t.saveTo=i.saveTo,t.readFrom=i.readFrom,t.deleteFile=i.deleteFile,t.createDatabaseConfig=o.createDatabaseConfig,t.ensureDirExists=o.ensureDirExists,t.installNewMutation=r.installNewMutation,t.uninstallMutation=r.uninstallMutation,t.deleteTagFromDB=r.deleteTagFromDB},function(e,t){e.exports=require("draft-js")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.auroraRootPath=a,t.auroraUserPath=u,t.auroraPreferencesFile=function(){return i.default.join(u(),"preferences.json")},t.auroraMutationPath=s,t.auroraMutationCachePath=c,t.auroraMutationPackageJSONPath=function(){return i.default.join(s(),"package.json")},t.auroraMutationFilesPath=function(e){return i.default.join(c(),e)};var r=o(n(27)),i=o(n(53));function o(e){return e&&e.__esModule?e:{default:e}}function a(){return i.default.join(r.default.homedir(),".aurora")}function u(){return i.default.join(a(),"production")}function s(){return i.default.join(u(),"mutations")}function c(){return i.default.join(s(),"node_modules")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={colors:{primary:"#9b59b6",success:"#2ecc71",danger:"#e74c3c",darkPrimary:"#8e44ad",darkSuccess:"#27ae60",darkDanger:"#c0392b",lightPrimary:"#F5E8FA",background:"#F9F7FA",secondaryBackground:"white",border:"#DED3E2",lightText:"#76657D",text:"#331340",insetText:"#9E96A1"},font:"Helvetica",fontSize:"14px",iconSizes:{small:"14px"},borderRadius:"5px",spacing:{lessPadding:"0.5em",padding:"1em",extraPadding:"2em",header:"3.5em"}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Input=void 0;var r,i,o,a=(r=["\n  border-radius: 5px;\n  padding: 0px 16px 0px 16px;\n  height: 40px;\n  background-color: ",";\n  color: ",";\n  border-width: 1px;\n  line-height: 24px;\n  border-style: solid;\n  border-color: ",";\n  border-image: initial;\n  transition: all 150ms cubic-bezier(0.4, 0, 0.2, 1);\n  font-size: ",";\n  box-sizing: border-box;\n"],i=["\n  border-radius: 5px;\n  padding: 0px 16px 0px 16px;\n  height: 40px;\n  background-color: ",";\n  color: ",";\n  border-width: 1px;\n  line-height: 24px;\n  border-style: solid;\n  border-color: ",";\n  border-image: initial;\n  transition: all 150ms cubic-bezier(0.4, 0, 0.2, 1);\n  font-size: ",";\n  box-sizing: border-box;\n"],Object.freeze(Object.defineProperties(r,{raw:{value:Object.freeze(i)}}))),u=n(2);var s=((o=u)&&o.__esModule?o:{default:o}).default.input(a,function(e){return e.theme.colors.secondaryBackground},function(e){return e.theme.colors.text},function(e){return e.theme.colors.border},function(e){return e.theme.fontSize});t.Input=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Tags=t.Tag=t.tagFromTagModel=t.noteFromNoteModel=t.Note=void 0;var r=n(12),i=r.bookshelf.Model,o=r.bookshelf.Model.extend({tableName:"Notes",hasTimestamps:!0,tag:function(){return this.hasMany(i,"note_id")}},{dependents:["tag"]});t.Tag=i=r.bookshelf.Model.extend({tableName:"Tags",hasTimestamps:!0,note:function(){return this.belongsTo(o,"note_id")}});var a=r.bookshelf.Collection.extend({model:i});t.Note=o,t.noteFromNoteModel=function(e){return new o({id:e.id,uuid:e.uuid,mutationName:e.mutationName,preview:JSON.stringify(e.getPreview())})},t.tagFromTagModel=function(e,t){return new i({id:e.id,value:e.value,note_id:t,uuid:e.uuid})},t.Tag=i,t.Tags=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Tag=t.NoteModel=void 0;var r=o(n(38)),i=o(n(22));function o(e){return e&&e.__esModule?e:{default:e}}t.NoteModel=r.default,t.Tag=i.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(39),o=(r=i)&&r.__esModule?r:{default:r};t.default=function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),n=n||{},this.value=t,this.id=n.id;var r=(0,o.default)();this.uuid=n.uuid?n.uuid:r}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.noteDictToArray=t.noteArrayToDict=t.newNote=void 0;var r,i=n(16),o=n(24),a=n(38),u=(r=a)&&r.__esModule?r:{default:r};t.newNote=function(e){return new u.default((0,o.serializeContent)(e?i.EditorState.createWithContent(i.ContentState.createFromText(e)):i.EditorState.createEmpty()),"BaseEditor",[])},t.noteArrayToDict=function(e){var t={};return e.forEach(function(e){t[e.uuid]=e}),t},t.noteDictToArray=function(e){var t=[];for(var n in e)t.push(e[n]);return t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.emptySerializedEditorState=t.emptyEditorState=t.EDITOR_NAME=t.deSerializeContent=t.serializeContent=t.Editor=void 0;var r,i=n(114),o=(r=i)&&r.__esModule?r:{default:r},a=n(40);t.Editor=o.default,t.serializeContent=a.serializeContent,t.deSerializeContent=a.deSerializeContent,t.EDITOR_NAME="BaseEditor",t.emptyEditorState=a.emptyEditorState,t.emptySerializedEditorState=a.emptySerializedEditorState},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MenuCard=t.MenuCardList=t.Menu=t.MenuItem=void 0;var r=l(["\n  width: 100%;\n  border-radius: ",";\n  padding: ",";\n  cursor: pointer;\n\n  color: ",";\n  background ",";\n\n  &:hover {\n      color: ",";\n  }\n"],["\n  width: 100%;\n  border-radius: ",";\n  padding: ",";\n  cursor: pointer;\n\n  color: ",";\n  background ",";\n\n  &:hover {\n      color: ",";\n  }\n"]),i=l(["\n  width: 100%;\n  height: 100%;\n  padding: ",";\n  display: flex;\n  flex-direction: column;\n"],["\n  width: 100%;\n  height: 100%;\n  padding: ",";\n  display: flex;\n  flex-direction: column;\n"]),o=l(["\n  width: 100%;\n  padding: ",";\n  padding-right: 0;\n  padding-left: 0;\n  padding-bottom: 0;\n"],["\n  width: 100%;\n  padding: ",";\n  padding-right: 0;\n  padding-left: 0;\n  padding-bottom: 0;\n"]),a=l(["\n  cursor: pointer;\n  margin-bottom: ",";\n  padding: ",";\n\n  &:hover {\n    border-color: ",";\n  }\n\n  border-color: ",";\n"],["\n  cursor: pointer;\n  margin-bottom: ",";\n  padding: ",";\n\n  &:hover {\n    border-color: ",";\n  }\n\n  border-color: ",";\n"]),u=c(n(2)),s=c(n(28));function c(e){return e&&e.__esModule?e:{default:e}}function l(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}t.MenuItem=u.default.a(r,function(e){return e.theme.borderRadius},function(e){return e.theme.spacing.padding},function(e){return e.active?e.theme.colors.primary:"initial"},function(e){return e.active?e.theme.colors.lightPrimary:"initial"},function(e){return e.theme.colors.primary}),t.Menu=u.default.div(i,function(e){return e.theme.spacing.padding}),t.MenuCardList=u.default.div(o,function(e){return e.theme.spacing.padding}),t.MenuCard=s.default.extend(a,function(e){return e.theme.spacing.padding},function(e){return e.theme.spacing.padding},function(e){return e.theme.colors.primary},function(e){return e.active?e.theme.colors.primary:e.theme.colors.border})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Store=t.withMutations=void 0;var r=o(n(51)),i=o(n(54));function o(e){return e&&e.__esModule?e:{default:e}}t.withMutations=r.default,t.Store=i.default},function(e,t){e.exports=require("os")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i,o,a=(r=["\n  background: ",";\n  border: 1px solid ",";\n  border-radius: ",";\n  width: ",";\n  padding: ",";\n  margin-bottom: ",";\n  box-sizing: border-box;\n  overflow: hidden;\n"],i=["\n  background: ",";\n  border: 1px solid ",";\n  border-radius: ",";\n  width: ",";\n  padding: ",";\n  margin-bottom: ",";\n  box-sizing: border-box;\n  overflow: hidden;\n"],Object.freeze(Object.defineProperties(r,{raw:{value:Object.freeze(i)}}))),u=n(2),s=(o=u)&&o.__esModule?o:{default:o},c=n(14);var l=s.default.div(a,function(e){return e.theme.colors.secondaryBackground},function(e){return e.theme.colors.border},function(e){return e.theme.borderRadius},function(e){return e.expanded?"100%":"initial"},function(e){return e.theme.spacing.extraPadding},function(e){return e.theme.spacing.extraPadding});l.defaultProps={theme:c.base},t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=f(["\n    html, body, #root {\n        font-family: ",";\n        height: 100%;\n        width: 100%;\n        padding: 0;\n        margin: 0;\n        background: ",";\n        color: ",";\n    }\n\n    * {\n      box-sizing: border-box;\n    }\n"],["\n    html, body, #root {\n        font-family: ",";\n        height: 100%;\n        width: 100%;\n        padding: 0;\n        margin: 0;\n        background: ",";\n        color: ",";\n    }\n\n    * {\n      box-sizing: border-box;\n    }\n"]),i=f(["\n  height: 100%;\n  width: 100%;\n  padding: 0;\n  margin: 0;\n"],["\n  height: 100%;\n  width: 100%;\n  padding: 0;\n  margin: 0;\n"]),o=l(n(18)),a=l(n(1)),u=l(n(3)),s=n(2),c=l(s);function l(e){return e&&e.__esModule?e:{default:e}}function f(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(0,s.injectGlobal)(r,o.default.font,o.default.colors.background,o.default.colors.text);var p=c.default.div(i),h=function(e){var t=e.children,n=e.theme;return a.default.createElement(s.ThemeProvider,{theme:n},a.default.createElement(p,null,t))};h.propTypes={children:u.default.any.isRequired,theme:u.default.object},h.defaultProps={theme:o.default},t.default=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i,o,a=(r=["\n  background: ",";\n  width: 100%;\n  height: 100%;\n"],i=["\n  background: ",";\n  width: 100%;\n  height: 100%;\n"],Object.freeze(Object.defineProperties(r,{raw:{value:Object.freeze(i)}}))),u=n(2),s=(o=u)&&o.__esModule?o:{default:o},c=n(14);var l=s.default.div(a,function(e){return e.theme.colors.background});l.defaultProps={theme:c.base},t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Sidebar=t.SidebarContainer=void 0;var r,i=s(["\n  display: flex;\n  flex-direction: row;\n  height: 100%;\n  width: 100%;\n"],["\n  display: flex;\n  flex-direction: row;\n  height: 100%;\n  width: 100%;\n"]),o=s(["\n  background: ",";\n  width: 300px;\n  border-right: 1px solid ",";\n"],["\n  background: ",";\n  width: 300px;\n  border-right: 1px solid ",";\n"]),a=n(2),u=(r=a)&&r.__esModule?r:{default:r};function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var c=u.default.div(i),l=u.default.div(o,function(e){return e.theme.colors.secondaryBackground},function(e){return e.theme.colors.border});t.SidebarContainer=c,t.Sidebar=l},function(e,t,n){"use strict";var r=c(["\n  -webkit-app-region: drag;\n  width: 100%;\n  top: 0;\n  position: fixed;\n  height: ",";\n  background: transparent;\n"],["\n  -webkit-app-region: drag;\n  width: 100%;\n  top: 0;\n  position: fixed;\n  height: ",";\n  background: transparent;\n"]),i=c(["\n  height: 100%;\n"],["\n  height: 100%;\n"]),o=s(n(1)),a=s(n(3)),u=s(n(2));function s(e){return e&&e.__esModule?e:{default:e}}function c(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var l=u.default.div(r,function(e){return e.dragRegionSize}),f=u.default.div(i),p=function(e){var t=e.children,n=e.dragRegionSize;return o.default.createElement(f,null,o.default.createElement(l,{className:"drag-header",dragRegionSize:n,key:"dragHeader"}),t)};p.propTypes={dragRegionSize:a.default.string,children:a.default.element.isRequired},e.exports=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i,o=(r=["\n  .Pane2 {\n    overflow-y: scroll;\n  }\n\n  .Resizer {\n    background: ",";\n    z-index: 1;\n    -moz-box-sizing: border-box;\n    -webkit-box-sizing: border-box;\n    box-sizing: border-box;\n    -moz-background-clip: padding;\n    -webkit-background-clip: padding;\n    background-clip: padding-box;\n  }\n\n  .Resizer:hover {\n    -webkit-transition: all 2s ease;\n    transition: all 2s ease;\n  }\n\n  .Resizer.horizontal {\n    height: 11px;\n    margin: -5px 0;\n    border-top: 5px solid ",";\n    border-bottom: 5px solid ",";\n    cursor: row-resize;\n    width: 100%;\n  }\n\n  .Resizer.horizontal:hover {\n    border-top: 5px solid ",";\n    border-bottom: 5px solid ",";\n  }\n\n  .Resizer.vertical {\n    width: 11px;\n    margin: 0 -5px;\n    border-left: 5px solid ",";\n    border-right: 5px solid ",";\n    cursor: col-resize;\n  }\n\n  .Resizer.vertical:hover {\n    border-left: 5px solid ",";\n    border-right: 5px solid ",";\n  }\n  .Resizer.disabled {\n    cursor: not-allowed;\n  }\n  .Resizer.disabled:hover {\n    border-color: transparent;\n  }\n"],i=["\n  .Pane2 {\n    overflow-y: scroll;\n  }\n\n  .Resizer {\n    background: ",";\n    z-index: 1;\n    -moz-box-sizing: border-box;\n    -webkit-box-sizing: border-box;\n    box-sizing: border-box;\n    -moz-background-clip: padding;\n    -webkit-background-clip: padding;\n    background-clip: padding-box;\n  }\n\n  .Resizer:hover {\n    -webkit-transition: all 2s ease;\n    transition: all 2s ease;\n  }\n\n  .Resizer.horizontal {\n    height: 11px;\n    margin: -5px 0;\n    border-top: 5px solid ",";\n    border-bottom: 5px solid ",";\n    cursor: row-resize;\n    width: 100%;\n  }\n\n  .Resizer.horizontal:hover {\n    border-top: 5px solid ",";\n    border-bottom: 5px solid ",";\n  }\n\n  .Resizer.vertical {\n    width: 11px;\n    margin: 0 -5px;\n    border-left: 5px solid ",";\n    border-right: 5px solid ",";\n    cursor: col-resize;\n  }\n\n  .Resizer.vertical:hover {\n    border-left: 5px solid ",";\n    border-right: 5px solid ",";\n  }\n  .Resizer.disabled {\n    cursor: not-allowed;\n  }\n  .Resizer.disabled:hover {\n    border-color: transparent;\n  }\n"],Object.freeze(Object.defineProperties(r,{raw:{value:Object.freeze(i)}}))),a=s(n(2)),u=s(n(59));function s(e){return e&&e.__esModule?e:{default:e}}var c=function(e,t){return(0,u.default)(e.theme.colors.border).alpha(t).toString()},l=a.default.div(o,function(e){return e.theme.colors.border},function(e){return c(e,0)},function(e){return c(e,0)},function(e){return c(e,.5)},function(e){return c(e,.5)},function(e){return c(e,0)},function(e){return c(e,0)},function(e){return c(e,.5)},function(e){return c(e,.5)});t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=t.INSTALLING="INSTALLING",i=t.INSTALLED="INSTALLED",o=t.UNINSTALL="UNINSTALL",a=t.ERROR="ERROR",u=t.DEFAULT="DEFAULT",s=[u,r,i,o];t.nextState=function(e){if(e||(e=u),e===a)return u;var t=(s.indexOf(e)+1)%s.length;return s[t]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.pkgKey=t.itemArrayToKeyValueObj=t.removePrefix=void 0;var r,i=n(36),o=n(11),a=(r=o)&&r.__esModule?r:{default:r};var u=function(e){return e.name+"@"+e.version};t.removePrefix=function(e){return a.default.replace(e,i.MutationPrefix,"")},t.itemArrayToKeyValueObj=function(e){var t={},n=!0,r=!1,i=void 0;try{for(var o,a=e[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;t[u(s.package)]=s}}catch(e){r=!0,i=e}finally{try{!n&&a.return&&a.return()}finally{if(r)throw i}}return t},t.pkgKey=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.MutationPrefix="aurora-mutation-"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.deleteTagFromDB=t.installMutationFiles=t.createPreferencesIfNotExist=t.updatePreferences=t.savePreferences=t.loadPreferences=t.deleteNote=t.loadNotes=t.saveNote=void 0;var r,i,o,a,u,s=(r=b(regeneratorRuntime.mark(function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:w;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if((0,_.exists)(n)){e.next=3;break}return e.next=3,E(t,n);case 3:case"end":return e.stop()}},e,this)})),function(e){return r.apply(this,arguments)}),c=(i=b(regeneratorRuntime.mark(function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s({});case 2:return e.abrupt("return",new Promise(function(e,n){(0,_.readFromAsync)(t,(0,_.auroraDirContext)(),function(t){var r=(0,g.default)(t);r.error?n(r.error):e(r.value)},n)}));case 3:case"end":return e.stop()}},e,this)})),function(){return i.apply(this,arguments)}),l=(o=b(regeneratorRuntime.mark(function e(t){var n,r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:w;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s(t,i);case 2:return e.next=4,c(i);case 4:return n=e.sent,r=Object.assign({},n,t),e.abrupt("return",E(r,i));case 7:case"end":return e.stop()}},e,this)})),function(e){return o.apply(this,arguments)}),f=(a=b(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,y.installMutations)(t.map(function(e){return e.name}),(0,v.auroraUserPath)()));case 1:case"end":return e.stop()}},e,this)})),function(e){return a.apply(this,arguments)}),p=n(67),h=n(110),d=n(111),_=n(8),v=n(17),y=n(112),m=n(113),g=(u=m)&&u.__esModule?u:{default:u};function b(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function r(i,o){try{var a=t[i](o),u=a.value}catch(e){return void n(e)}if(!a.done)return Promise.resolve(u).then(function(e){r("next",e)},function(e){r("throw",e)});e(u)}("next")})}}var w=(0,v.auroraPreferencesFile)();function E(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:w;return new Promise(function(n,r){(0,_.saveToAsync)(e,t,(0,_.auroraDirContext)(),n,r)})}t.saveNote=function(e){return(0,p.insertNote)(e)},t.loadNotes=function(){return new Promise(function(e,t){(0,h.queryNotes)(e,t)})},t.deleteNote=function(e){return new Promise(function(t,n){(0,d.cascadeDeleteNote)(e,t,n)})},t.loadPreferences=c,t.savePreferences=E,t.updatePreferences=l,t.createPreferencesIfNotExist=s,t.installMutationFiles=f,t.deleteTagFromDB=d.deleteTagFromDB},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=l(n(22)),o=l(n(11)),a=l(n(39)),u=n(15),s=n(72),c=n(40);function l(e){return e&&e.__esModule?e:{default:e}}var f=function(){function e(t,n,r,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),p.call(this),i=i||{};var o={};o[n]=t,this.content=o,this.mutationName=n;var u=(0,a.default)();this.uuid=i.uuid?i.uuid:u,this.id=i.id,this.created_at=i.created_at,this.updated_at=i.updated_at,this.preview=i.preview?i.preview:{text:"New Note"},this.tags=r,this.forceUUIdToBeString()}return r(e,[{key:"isEmpty",value:function(){var e=this.editorState.getCurrentContent().getPlainText();return!e||0===o.default.trim(e).length}}],[{key:"fromDBData",value:function(t){var n=t.toJSON(),r=[];return n.tag.forEach(function(e){r.push(new i.default(e.value,{id:e.id,uuid:e.uuid}))}),new e(null,n.mutationName,r,{uuid:""+n.uuid,id:n.id,created_at:n.created_at,updated_at:n.updated_at,preview:JSON.parse(n.preview)})}}]),e}(),p=function(){var e=this;this.addTag=function(t){var n=Object.assign({},t);e.tags.push(n)},this.getTags=function(){var t=[];return e.tags.forEach(function(e){var n=Object.assign({},e);t.push(n)}),t},this.updateTag=function(t,n){var r=e.tags.findIndex(function(e){return e.uuid===t});if(-1!==r)return e.tags[r].value=n,Object.assign({},e.tags[r])},this.removeTag=function(t){var n=e.tags.findIndex(function(e){return e.uuid===t});-1!==n&&((0,u.deleteTagFromDB)(e.tags[n]),e.tags.splice(n,1))},this.loadContent=function(t,n){(0,u.loadNoteContent)(e,function(n){n?e.content=JSON.parse(n):e.setContent((0,c.emptySerializedEditorState)());var r=Object.assign({},e.content);t(r)},n)},this.getContent=function(){return new Promise(function(t,n){null===e.content[e.mutationName]?e.loadContent(t,n):t(Object.assign({},e.content))})},this.setPreview=function(t){var n=Object.assign({},t);e.preview=n},this.getPreview=function(){return Object.assign({},e.preview)},this.renderPreview=function(){var t=Object.assign({},e.preview);return(0,s.renderPreview)(t)},this.setContent=function(t){var n={},r=Object.assign({},t);n[e.mutationName]=r,e.content=n},this.forceUUIdToBeString=function(){e.uuid=""+e.uuid}};t.default=f},function(e,t,n){var r=n(69),i=n(71);e.exports=function(e,t,n){var o=t&&n||0;"string"==typeof e&&(t="binary"==e?new Array(16):null,e=null);var a=(e=e||{}).random||(e.rng||r)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t)for(var u=0;u<16;++u)t[o+u]=a[u];return t||i(a)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.deSerializeContent=t.serializeContent=t.emptyEditorState=t.emptySerializedEditorState=t.editorStateFromText=void 0;var r=n(16);function i(e){return{contentState:(0,r.convertToRaw)(e.getCurrentContent())}}function o(){return r.EditorState.createEmpty()}var a=function(){return i(o())};void 0===window.editors&&(window.editors={}),window.editors.BaseEditor={emptyEditorState:o(),newNoteContent:a()},t.editorStateFromText=function(e){return r.EditorState.createWithContent(r.ContentState.createFromText(e))},t.emptySerializedEditorState=a,t.emptyEditorState=o,t.serializeContent=i,t.deSerializeContent=function(e){var t=(0,r.convertFromRaw)(e.contentState),n=r.EditorState.createWithContent(t);return n=r.EditorState.moveSelectionToEnd(r.EditorState.createWithContent(n.getCurrentContent()))}},function(e,t,n){"use strict";e.exports=function(e){var t=n(0),r=n(9).keys,i=t.tryCatch,o=t.errorObj;return function(n,a,u){return function(s){var c=u._boundValue();e:for(var l=0;l<n.length;++l){var f=n[l];if(f===Error||null!=f&&f.prototype instanceof Error){if(s instanceof f)return i(a).call(c,s)}else if("function"==typeof f){var p=i(f).call(c,s);if(p===o)return p;if(p)return i(a).call(c,s)}else if(t.isObject(s)){for(var h=r(f),d=0;d<h.length;++d){var _=h[d];if(f[_]!=s[_])continue e}return i(a).call(c,s)}}return e}}}},function(e,t,n){"use strict";var r=n(0),i=r.maybeWrapAsError,o=n(7).OperationalError,a=n(9);var u=/^(?:name|message|stack|cause)$/;function s(e){var t;if(function(e){return e instanceof Error&&a.getPrototypeOf(e)===Error.prototype}(e)){(t=new o(e)).name=e.name,t.message=e.message,t.stack=e.stack;for(var n=a.keys(e),i=0;i<n.length;++i){var s=n[i];u.test(s)||(t[s]=e[s])}return t}return r.markAsOriginatingFromRejection(e),e}e.exports=function(e,t){return function(n,r){if(null!==e){if(n){var o=s(i(n));e._attachExtraTrace(o),e._reject(o)}else if(t){for(var a=arguments.length,u=new Array(Math.max(a-1,0)),c=1;c<a;++c)u[c-1]=arguments[c];e._fulfill(u)}else e._fulfill(r);e=null}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.removeNoteFromAllNotes=t.updateNoteInAllNotes=t.pickPreviousNoteInList=t.indexOfNoteInArray=t.emptyEditorState=t.firstNoteIfDefined=t.updateNote=void 0;var r,i=n(16),o=n(11),a=(r=o)&&r.__esModule?r:{default:r},u=n(23);t.updateNote=function(e,t){t[e.uuid]=e},t.firstNoteIfDefined=function(e){return e.length>0?e[0]:null},t.emptyEditorState=function(){return i.EditorState.createEmpty()};var s=t.indexOfNoteInArray=function(e,t){return e.map(function(e){return e.uuid}).indexOf(t.uuid)};t.pickPreviousNoteInList=function(e,t){var n=(0,u.noteDictToArray)(e);if(0===n.length||1===n.length)return null;var r=s(n,t);if(-1===r)throw new Error("pickPreviousNoteInList called with a note that doesn't exist. Selected note is: "+t+'. Did you try to select a note that you deleted somehow? This may happen if you call \n      a "deleteNote" action before a "selectNote" action.\n      ');return r>0?r-=1:r+=1,n[r]},t.updateNoteInAllNotes=function(e,t){return t[e.uuid]=a.default.clone(e),Object.assign({},t)},t.removeNoteFromAllNotes=function(e,t){return delete t[e.uuid],Object.assign({},t)}},function(e,t){e.exports=require("redux")},function(e,t,n){n(46),e.exports=n(47)},function(e,t){e.exports=require("babel-polyfill")},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=p(n(1)),o=p(n(48)),a=p(n(49)),u=n(4),s=n(5),c=n(15),l=p(n(139)),f=p(n(32));function p(e){return e&&e.__esModule?e:{default:e}}var h=(0,l.default)(),d=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return(0,c.loadPreferences)().then(function(e){h.dispatch((0,s.setPreferences)(e))}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default.Component),r(t,[{key:"render",value:function(){return i.default.createElement(u.Provider,{store:h},i.default.createElement(f.default,{dragRegionSize:"50px"},i.default.createElement(a.default,null)))}}]),t}();document.body.innerHTML='<div id="root"></div>',o.default.render(i.default.createElement(d,null),document.getElementById("root"))},function(e,t){e.exports=require("react-dom")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=f(n(1)),o=f(n(50)),a=n(26),u=n(4),s=f(n(136)),c=n(5),l=n(10);function f(e){return e&&e.__esModule?e:{default:e}}var p=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return s.default.onChangeScreen(function(t,n){e.dispatch((0,c.setScreen)(n))}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default.Component),r(t,[{key:"render",value:function(){return this.props.screen}}]),t}(),h={main:i.default.createElement(o.default,null),store:i.default.createElement(a.Store,null)};t.default=(0,u.connect)(function(e){return{screen:h[(0,l.screen)(e)]||h.main}})(p)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=f(n(1)),o=n(26),a=f(n(119)),u=n(4),s=n(14),c=n(134);n(135);var l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(10));function f(e){return e&&e.__esModule?e:{default:e}}var p=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default.Component),r(t,[{key:"componentWillReceiveProps",value:function(e){this.createToast(e)}},{key:"createToast",value:function(e){e.toast&&(e.toast.type?c.toast[e.toast.type](e.toast.message):(0,c.toast)(e.toast.message))}},{key:"render",value:function(){return i.default.createElement(s.Themed,null,i.default.createElement(c.ToastContainer,{position:"top-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,pauseOnHover:!0}),i.default.createElement(a.default,null))}}]),t}();t.default=(0,u.connect)(function(e){return{toast:l.toast(e)}})((0,o.withMutations)(p))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=u(n(1)),o=n(6),a=u(n(52));function u(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}t.default=function(e){return function(t){function n(){var e,t,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return t=r=s(this,(e=n.__proto__||Object.getPrototypeOf(n)).call.apply(e,[this].concat(o))),r.getMutations=function(){return r.state&&r.state.mutations?r.state.mutations:{}},s(r,t)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,i.default.Component),r(n,[{key:"componentWillMount",value:function(){var e=(0,a.default)();e&&0!==e.length&&e[0]&&this.setState({mutations:e[0].mutations})}},{key:"componentDidMount",value:function(){this.forceUpdate()}},{key:"render",value:function(){return i.default.createElement(o.MutationsProvider,{mutations:this.getMutations()},i.default.createElement(e,this.props))}}]),n}()}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(17),i=function(){return new Promise(function(e,t){})};i=function(){try{var e=function(){try{return window.require((0,r.auroraMutationPackageJSONPath)())}catch(e){return{dependencies:{}}}}();return Object.keys(e.dependencies).map(function(e){return window.require((0,r.auroraMutationFilesPath)(e))})}catch(e){return console.error(e),[]}},t.default=i},function(e,t){e.exports=require("path")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=m(n(1)),o=m(n(55)),a=m(n(62)),u=m(n(63)),s=n(13),c=m(n(64)),l=m(n(66)),f=n(5),p=n(4),h=n(35),d=n(34),_=n(116),v=n(117),y=n(10);function m(e){return e&&e.__esModule?e:{default:e}}var g=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.markItemsAsUninstallable=function(e){var t=[];return n.props.preferences&&n.props.preferences.mutations&&(t=n.props.preferences.mutations.map(function(e){return e.name})),e.objects=e.objects.map(function(e){return t.includes(e.package.name)&&(e.package.installState=d.UNINSTALL),e}),e},n.itemValues=function(){return Array.from(n.state.items.values())},n.searchAndUpdate=function(e){(0,c.default)(e).then(function(e){return e.data}).then(n.markItemsAsUninstallable).then(function(e){n.setState({items:(0,_.Map)((0,h.itemArrayToKeyValueObj)(e.objects))})})},n.onSearch=function(e){var t=e.target.value;n.setState({searchValue:t}),n.searchAndUpdate(t)},n.onBackClick=function(){n.props.dispatch((0,f.setScreen)("main"))},n.bumpPkgInstallState=function(e,t){n.setState(function(n){var r=(0,h.pkgKey)(e);if(t)return n.items.set(r,e);var i=n.items.get(r),o=i.package.installState;return i.package.installState=(0,d.nextState)(o),n.items.set(r,i),n})},n.onInstallClick=function(e){n.bumpPkgInstallState(e),(0,v.installMutation)(e.name,n.props.dispatch).then(function(){return n.bumpPkgInstallState(e)})},n.onUninstallClick=function(e){n.bumpPkgInstallState(e),(0,v.uninstallMutation)(e.name,n.props.dispatch)},n.state={searchValue:"",items:(0,_.Map)()},n.searchAndUpdate=(0,l.default)(n.searchAndUpdate,100),n.searchAndUpdate(),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default.Component),r(t,[{key:"render",value:function(){return i.default.createElement(a.default,null,i.default.createElement(s.Container,null,i.default.createElement("a",{href:"#",onClick:this.onBackClick},"👈 Back"),i.default.createElement(u.default,{value:this.state.searchValue,onChange:this.onSearch}),i.default.createElement(o.default,{items:this.itemValues(),onClick:this.onInstallClick,onUninstallClick:this.onUninstallClick})))}}]),t}();t.default=(0,p.connect)(function(e){return{preferences:(0,y.preferences)(e)}})(g)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=u(n(1)),i=u(n(56)),o=n(35),a=u(n(3));function u(e){return e&&e.__esModule?e:{default:e}}var s=function(e){var t=e.items,n=e.onClick,a=e.onUninstallClick;if(!t)return r.default.createElement("div",null);var u=t.map(function(e){return(0,o.removePrefix)(e.package.name)?r.default.createElement(i.default,{key:e.package.name,title:(0,o.removePrefix)(e.package.name),description:e.package.description,onClick:function(){n(e.package)},onUninstallClick:function(){a(e.package)},installState:e.package.installState}):null});return r.default.createElement("div",null,Array.from(u.values()))};s.propTypes={onClick:a.default.func.isRequired},t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i,o=(r=["\n  margin-top: 0;\n  font-weight: 300;\n"],i=["\n  margin-top: 0;\n  font-weight: 300;\n"],Object.freeze(Object.defineProperties(r,{raw:{value:Object.freeze(i)}}))),a=h(n(1)),u=n(13),s=n(60),c=n(61),l=h(n(2)),f=h(n(3)),p=n(34);function h(e){return e&&e.__esModule?e:{default:e}}var d=l.default.h2(o),_=(0,c.withShadow)(u.Card),v=function(e){var t=e.installState,n=e.onClick,r=e.onUninstallClick;switch(t){case p.INSTALLING:return a.default.createElement("p",null," Installing... This may take a moment 😅 ");case p.INSTALLED:return a.default.createElement("p",null,"🙌 Installed! You may need to restart the app in order to see the effects.");case p.UNINSTALL:return a.default.createElement(s.PrimaryButton,{onClick:r},"Uninstall");case p.ERROR:return a.default.createElement("p",null," Error! ");default:return a.default.createElement(s.PrimaryButton,{onClick:n},"Install")}},y=function(e){var t=e.title,n=e.description,r=e.onClick,i=e.installState,o=e.onUninstallClick;return a.default.createElement(_,null,a.default.createElement(d,null,t),n&&a.default.createElement("p",null,n),a.default.createElement(v,{installState:i,onClick:r,onUninstallClick:o}))};y.propTypes={title:f.default.string.isRequired,description:f.default.string,onClick:f.default.func.isRequired},t.default=y},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=o(n(29)),i=o(n(1));function o(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){return function(t){return i.default.createElement(r.default,null,i.default.createElement(e,t))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i,o,a=(r=["\n  padding: ",";\n  padding-top: 25px;\n  box-sizing: border-box;\n"],i=["\n  padding: ",";\n  padding-top: 25px;\n  box-sizing: border-box;\n"],Object.freeze(Object.defineProperties(r,{raw:{value:Object.freeze(i)}}))),u=n(30);var s=((o=u)&&o.__esModule?o:{default:o}).default.extend(a,function(e){return e.theme.spacing.padding});t.default=s},function(e,t){e.exports=require("color")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DangerButton=t.SuccessButton=t.PrimaryButton=t.Button=void 0;var r,i=u(["\n  border: 0;\n  border-radius: ",";\n  display: inline-block;\n  text-transform: capitalize;\n  line-height: 16px;\n  font-size: 14px;\n  font-weight: 400;\n  text-decoration: none;\n  text-align: center;\n  white-space: nowrap;\n  box-sizing: border-box;\n  cursor: pointer;\n  padding: 10px 20px;\n  transition: 0.2s;\n  transition-property: background-color, color, box-shadow, opacity,\n    -webkit-box-shadow;\n\n  &:hover,\n  &:focus,\n  &:active {\n    outline: 0;\n  }\n"],["\n  border: 0;\n  border-radius: ",";\n  display: inline-block;\n  text-transform: capitalize;\n  line-height: 16px;\n  font-size: 14px;\n  font-weight: 400;\n  text-decoration: none;\n  text-align: center;\n  white-space: nowrap;\n  box-sizing: border-box;\n  cursor: pointer;\n  padding: 10px 20px;\n  transition: 0.2s;\n  transition-property: background-color, color, box-shadow, opacity,\n    -webkit-box-shadow;\n\n  &:hover,\n  &:focus,\n  &:active {\n    outline: 0;\n  }\n"]),o=u(["\n  background: ",";\n  color: white;\n\n  &:hover,\n  &:focus,\n  &:active {\n    background: ",";\n  }\n"],["\n  background: ",";\n  color: white;\n\n  &:hover,\n  &:focus,\n  &:active {\n    background: ",";\n  }\n"]),a=n(2);function u(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var s=((r=a)&&r.__esModule?r:{default:r}).default.button(i,function(e){return e.theme.borderRadius}),c=s.extend(o,function(e){return e.theme.colors.darkPrimary},function(e){return e.theme.colors.primary}),l=s.extend(o,function(e){return e.theme.colors.darkSuccess},function(e){return e.theme.colors.success}),f=s.extend(o,function(e){return e.theme.colors.darkDanger},function(e){return e.theme.colors.danger});t.Button=s,t.PrimaryButton=c,t.SuccessButton=l,t.DangerButton=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i,o=(r=["\n    box-shadow: rgba(0, 0, 0, 0.1) 0px 5px 15px -5px;\n  "],i=["\n    box-shadow: rgba(0, 0, 0, 0.1) 0px 5px 15px -5px;\n  "],Object.freeze(Object.defineProperties(r,{raw:{value:Object.freeze(i)}})));t.withShadow=function(e){if(!e.extend)throw new Error("ui Modifier functions can only be applied to styled components at the moment, sorry!");return e.extend(o)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=f(["\n  background: ",";\n\n  position: absolute;\n  top: 25px;\n  left: 0;\n  min-width: 100%;\n  min-height: 100%;\n"],["\n  background: ",";\n\n  position: absolute;\n  top: 25px;\n  left: 0;\n  min-width: 100%;\n  min-height: 100%;\n"]),i=f(["\n  position: absolute;\n"],["\n  position: absolute;\n"]),o=l(n(1)),a=n(14),u=n(31),s=l(n(2)),c=l(n(3));function l(e){return e&&e.__esModule?e:{default:e}}function f(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var p=s.default.div(r,function(e){return e.theme.colors.secondaryBackground}),h=u.SidebarContainer.extend(i),d=function(e){var t=e.children;return o.default.createElement(a.Themed,null,o.default.createElement(p,null,o.default.createElement(h,null,t)))};d.propTypes={children:c.default.any.isRequired},t.default=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i,o=(r=["\n  margin-bottom: ",";\n  margin-top: ",";\n  width: 100%;\n"],i=["\n  margin-bottom: ",";\n  margin-top: ",";\n  width: 100%;\n"],Object.freeze(Object.defineProperties(r,{raw:{value:Object.freeze(i)}}))),a=s(n(1)),u=s(n(3));function s(e){return e&&e.__esModule?e:{default:e}}var c=n(19).Input.extend(o,function(e){return e.theme.spacing.padding},function(e){return e.theme.spacing.padding}),l=function(e){var t=e.onChange,n=e.value;return a.default.createElement(c,{type:"text",onChange:t,value:n,placeholder:"Type to search for a mutation..."})};l.propTypes={onChange:u.default.func.isRequired,value:u.default.string},t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(n(65)),i=a(n(11)),o=n(36);function a(e){return e&&e.__esModule?e:{default:e}}var u="https://registry.npmjs.org",s="/-/v1/search";t.default=function(e){var t=i.default.trimEnd(o.MutationPrefix,"-");e&&e.includes&&e.includes(t)&&(t="");var n=t;return e&&(n+="-"+e),r.default.get(u+s,{params:{text:n}})}},function(e,t){e.exports=require("axios")},function(e,t){e.exports=require("debounce")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.insertNote=void 0;var r,i,o=(r=l(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=u.Tags.forge(p(t.tags,t.id)),e.abrupt("return",f.all(n.invokeMap("save")).then(function(e){h(t.tags,e)}));case 2:case"end":return e.stop()}},e,this)})),function(e){return r.apply(this,arguments)}),a=(i=l(regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,s.loadDB)().catch(function(e){throw new Error("Failed to load database: "+e)});case 2:return n=(0,u.noteFromNoteModel)(t),(0,c.saveNoteContent)(t),e.next=6,n.save();case 6:return r=e.sent,t.id=r.id,t.created_at=r.attributes.created_at,t.updated_at=r.attributes.updated_at,e.abrupt("return",o(t));case 11:case"end":return e.stop()}},e,this)})),function(e){return i.apply(this,arguments)}),u=n(20),s=n(12),c=n(8);function l(e){return function(){var t=e.apply(this,arguments);return new f(function(e,n){return function r(i,o){try{var a=t[i](o),u=a.value}catch(e){return void n(e)}if(!a.done)return f.resolve(u).then(function(e){r("next",e)},function(e){r("throw",e)});e(u)}("next")})}}var f=n(79);function p(e,t){return e.map(function(e){return(0,u.tagFromTagModel)(e,t)})}function h(e,t){for(var n=0;n<e.length;n++)e[n].id=t[n].id}t.insertNote=a},function(e,t){e.exports=require("fs-jetpack")},function(e,t,n){var r=n(70).randomBytes;e.exports=function(){return r(16)}},function(e,t){e.exports=require("crypto")},function(e,t){for(var n=[],r=0;r<256;++r)n[r]=(r+256).toString(16).substr(1);e.exports=function(e,t){var r=t||0,i=n;return i[e[r++]]+i[e[r++]]+i[e[r++]]+i[e[r++]]+"-"+i[e[r++]]+i[e[r++]]+"-"+i[e[r++]]+i[e[r++]]+"-"+i[e[r++]]+i[e[r++]]+"-"+i[e[r++]]+i[e[r++]]+i[e[r++]]+i[e[r++]]+i[e[r++]]+i[e[r++]]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.renderPreview=void 0;var r=o(n(73)),i=o(n(1));function o(e){return e&&e.__esModule?e:{default:e}}t.renderPreview=function(e){return i.default.createElement(r.default,{preview:e})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=u(n(1)),o=u(n(3));n(74);var a=n(6);function u(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default.Component),r(t,[{key:"render",value:function(){return i.default.createElement("div",null,i.default.createElement("p",null,this.props.preview.text))}}]),t}();s.propTypes={preview:o.default.object.isRequired},t.default=(0,a.mutate)(s,"Preview")},function(e,t){},function(e,t){e.exports=require("db-migrate")},function(e,t){e.exports=require("knex")},function(e,t){e.exports=require("bookshelf")},function(e,t){e.exports=require("bookshelf-cascade-delete")},function(e,t,n){"use strict";var r;"undefined"!=typeof Promise&&(r=Promise);var i=n(80)();i.noConflict=function(){try{Promise===i&&(Promise=r)}catch(e){}return i},e.exports=i},function(e,t,n){"use strict";e.exports=function(){var t=function(){return new h("circular promise resolution chain\n\n    See http://goo.gl/MqrFmX\n")},r=function(){return new k.PromiseInspection(this._target())},i=function(e){return k.reject(new h(e))};function o(){}var a,u={},s=n(0);a=s.isNode?function(){var e=process.domain;return void 0===e&&(e=null),e}:function(){return null},s.notEnumerableProp(k,"_getDomain",a);var c=n(9),l=n(81),f=new l;c.defineProperty(k,"_async",{value:f});var p=n(7),h=k.TypeError=p.TypeError;k.RangeError=p.RangeError;var d=k.CancellationError=p.CancellationError;k.TimeoutError=p.TimeoutError,k.OperationalError=p.OperationalError,k.RejectionError=p.OperationalError,k.AggregateError=p.AggregateError;var _=function(){},v={},y={},m=n(84)(k,_),g=n(85)(k,_,m,i,o),b=n(86)(k),w=b.create,E=n(87)(k,b),x=(E.CapturedTrace,n(88)(k,m,y)),O=n(41)(y),j=n(42),S=s.errorObj,C=s.tryCatch;function k(e){e!==_&&function(e,t){if(null==e||e.constructor!==k)throw new h("the promise constructor cannot be invoked directly\n\n    See http://goo.gl/MqrFmX\n");if("function"!=typeof t)throw new h("expecting a function but got "+s.classString(t))}(this,e),this._bitField=0,this._fulfillmentHandler0=void 0,this._rejectionHandler0=void 0,this._promise0=void 0,this._receiver0=void 0,this._resolveFromExecutor(e),this._promiseCreated(),this._fireEvent("promiseCreated",this)}function P(e){this.promise._resolveCallback(e)}function T(e){this.promise._rejectCallback(e,!1)}function N(e){var t=new k(_);t._fulfillmentHandler0=e,t._rejectionHandler0=e,t._promise0=e,t._receiver0=e}return k.prototype.toString=function(){return"[object Promise]"},k.prototype.caught=k.prototype.catch=function(e){var t=arguments.length;if(t>1){var n,r=new Array(t-1),o=0;for(n=0;n<t-1;++n){var a=arguments[n];if(!s.isObject(a))return i("Catch statement predicate: expecting an object but got "+s.classString(a));r[o++]=a}return r.length=o,e=arguments[n],this.then(void 0,O(r,e,this))}return this.then(void 0,e)},k.prototype.reflect=function(){return this._then(r,r,void 0,this,void 0)},k.prototype.then=function(e,t){if(E.warnings()&&arguments.length>0&&"function"!=typeof e&&"function"!=typeof t){var n=".then() only accepts functions but was passed: "+s.classString(e);arguments.length>1&&(n+=", "+s.classString(t)),this._warn(n)}return this._then(e,t,void 0,void 0,void 0)},k.prototype.done=function(e,t){this._then(e,t,void 0,void 0,void 0)._setIsFinal()},k.prototype.spread=function(e){return"function"!=typeof e?i("expecting a function but got "+s.classString(e)):this.all()._then(e,void 0,void 0,v,void 0)},k.prototype.toJSON=function(){var e={isFulfilled:!1,isRejected:!1,fulfillmentValue:void 0,rejectionReason:void 0};return this.isFulfilled()?(e.fulfillmentValue=this.value(),e.isFulfilled=!0):this.isRejected()&&(e.rejectionReason=this.reason(),e.isRejected=!0),e},k.prototype.all=function(){return arguments.length>0&&this._warn(".all() was passed arguments but it does not take any"),new g(this).promise()},k.prototype.error=function(e){return this.caught(s.originatesFromRejection,e)},k.getNewLibraryCopy=e.exports,k.is=function(e){return e instanceof k},k.fromNode=k.fromCallback=function(e){var t=new k(_);t._captureStackTrace();var n=arguments.length>1&&!!Object(arguments[1]).multiArgs,r=C(e)(j(t,n));return r===S&&t._rejectCallback(r.e,!0),t._isFateSealed()||t._setAsyncGuaranteed(),t},k.all=function(e){return new g(e).promise()},k.cast=function(e){var t=m(e);return t instanceof k||((t=new k(_))._captureStackTrace(),t._setFulfilled(),t._rejectionHandler0=e),t},k.resolve=k.fulfilled=k.cast,k.reject=k.rejected=function(e){var t=new k(_);return t._captureStackTrace(),t._rejectCallback(e,!0),t},k.setScheduler=function(e){if("function"!=typeof e)throw new h("expecting a function but got "+s.classString(e));return f.setScheduler(e)},k.prototype._then=function(e,t,n,r,i){var o=void 0!==i,u=o?i:new k(_),c=this._target(),l=c._bitField;o||(u._propagateFrom(this,3),u._captureStackTrace(),void 0===r&&0!=(2097152&this._bitField)&&(r=0!=(50397184&l)?this._boundValue():c===this?void 0:this._boundTo),this._fireEvent("promiseChained",this,u));var p=a();if(0!=(50397184&l)){var h,v,y=c._settlePromiseCtx;0!=(33554432&l)?(v=c._rejectionHandler0,h=e):0!=(16777216&l)?(v=c._fulfillmentHandler0,h=t,c._unsetRejectionIsUnhandled()):(y=c._settlePromiseLateCancellationObserver,v=new d("late cancellation observer"),c._attachExtraTrace(v),h=t),f.invoke(y,c,{handler:null===p?h:"function"==typeof h&&s.domainBind(p,h),promise:u,receiver:r,value:v})}else c._addCallbacks(e,t,u,r,p);return u},k.prototype._length=function(){return 65535&this._bitField},k.prototype._isFateSealed=function(){return 0!=(117506048&this._bitField)},k.prototype._isFollowing=function(){return 67108864==(67108864&this._bitField)},k.prototype._setLength=function(e){this._bitField=-65536&this._bitField|65535&e},k.prototype._setFulfilled=function(){this._bitField=33554432|this._bitField,this._fireEvent("promiseFulfilled",this)},k.prototype._setRejected=function(){this._bitField=16777216|this._bitField,this._fireEvent("promiseRejected",this)},k.prototype._setFollowing=function(){this._bitField=67108864|this._bitField,this._fireEvent("promiseResolved",this)},k.prototype._setIsFinal=function(){this._bitField=4194304|this._bitField},k.prototype._isFinal=function(){return(4194304&this._bitField)>0},k.prototype._unsetCancelled=function(){this._bitField=-65537&this._bitField},k.prototype._setCancelled=function(){this._bitField=65536|this._bitField,this._fireEvent("promiseCancelled",this)},k.prototype._setWillBeCancelled=function(){this._bitField=8388608|this._bitField},k.prototype._setAsyncGuaranteed=function(){f.hasCustomScheduler()||(this._bitField=134217728|this._bitField)},k.prototype._receiverAt=function(e){var t=0===e?this._receiver0:this[4*e-4+3];if(t!==u)return void 0===t&&this._isBound()?this._boundValue():t},k.prototype._promiseAt=function(e){return this[4*e-4+2]},k.prototype._fulfillmentHandlerAt=function(e){return this[4*e-4+0]},k.prototype._rejectionHandlerAt=function(e){return this[4*e-4+1]},k.prototype._boundValue=function(){},k.prototype._migrateCallback0=function(e){e._bitField;var t=e._fulfillmentHandler0,n=e._rejectionHandler0,r=e._promise0,i=e._receiverAt(0);void 0===i&&(i=u),this._addCallbacks(t,n,r,i,null)},k.prototype._migrateCallbackAt=function(e,t){var n=e._fulfillmentHandlerAt(t),r=e._rejectionHandlerAt(t),i=e._promiseAt(t),o=e._receiverAt(t);void 0===o&&(o=u),this._addCallbacks(n,r,i,o,null)},k.prototype._addCallbacks=function(e,t,n,r,i){var o=this._length();if(o>=65531&&(o=0,this._setLength(0)),0===o)this._promise0=n,this._receiver0=r,"function"==typeof e&&(this._fulfillmentHandler0=null===i?e:s.domainBind(i,e)),"function"==typeof t&&(this._rejectionHandler0=null===i?t:s.domainBind(i,t));else{var a=4*o-4;this[a+2]=n,this[a+3]=r,"function"==typeof e&&(this[a+0]=null===i?e:s.domainBind(i,e)),"function"==typeof t&&(this[a+1]=null===i?t:s.domainBind(i,t))}return this._setLength(o+1),o},k.prototype._proxy=function(e,t){this._addCallbacks(void 0,void 0,t,e,null)},k.prototype._resolveCallback=function(e,n){if(0==(117506048&this._bitField)){if(e===this)return this._rejectCallback(t(),!1);var r=m(e,this);if(!(r instanceof k))return this._fulfill(e);n&&this._propagateFrom(r,2);var i=r._target();if(i!==this){var o=i._bitField;if(0==(50397184&o)){var a=this._length();a>0&&i._migrateCallback0(this);for(var u=1;u<a;++u)i._migrateCallbackAt(this,u);this._setFollowing(),this._setLength(0),this._setFollowee(i)}else if(0!=(33554432&o))this._fulfill(i._value());else if(0!=(16777216&o))this._reject(i._reason());else{var s=new d("late cancellation observer");i._attachExtraTrace(s),this._reject(s)}}else this._reject(t())}},k.prototype._rejectCallback=function(e,t,n){var r=s.ensureErrorObject(e),i=r===e;if(!i&&!n&&E.warnings()){var o="a promise was rejected with a non-error: "+s.classString(e);this._warn(o,!0)}this._attachExtraTrace(r,!!t&&i),this._reject(e)},k.prototype._resolveFromExecutor=function(e){if(e!==_){var t=this;this._captureStackTrace(),this._pushContext();var n=!0,r=this._execute(e,function(e){t._resolveCallback(e)},function(e){t._rejectCallback(e,n)});n=!1,this._popContext(),void 0!==r&&t._rejectCallback(r,!0)}},k.prototype._settlePromiseFromHandler=function(e,t,n,r){var i=r._bitField;if(0==(65536&i)){var o;r._pushContext(),t===v?n&&"number"==typeof n.length?o=C(e).apply(this._boundValue(),n):(o=S).e=new h("cannot .spread() a non-array: "+s.classString(n)):o=C(e).call(t,n);var a=r._popContext();0==(65536&(i=r._bitField))&&(o===y?r._reject(n):o===S?r._rejectCallback(o.e,!1):(E.checkForgottenReturns(o,a,"",r,this),r._resolveCallback(o)))}},k.prototype._target=function(){for(var e=this;e._isFollowing();)e=e._followee();return e},k.prototype._followee=function(){return this._rejectionHandler0},k.prototype._setFollowee=function(e){this._rejectionHandler0=e},k.prototype._settlePromise=function(e,t,n,i){var a=e instanceof k,u=this._bitField,s=0!=(134217728&u);0!=(65536&u)?(a&&e._invokeInternalOnCancel(),n instanceof x&&n.isFinallyHandler()?(n.cancelPromise=e,C(t).call(n,i)===S&&e._reject(S.e)):t===r?e._fulfill(r.call(n)):n instanceof o?n._promiseCancelled(e):a||e instanceof g?e._cancel():n.cancel()):"function"==typeof t?a?(s&&e._setAsyncGuaranteed(),this._settlePromiseFromHandler(t,n,i,e)):t.call(n,i,e):n instanceof o?n._isResolved()||(0!=(33554432&u)?n._promiseFulfilled(i,e):n._promiseRejected(i,e)):a&&(s&&e._setAsyncGuaranteed(),0!=(33554432&u)?e._fulfill(i):e._reject(i))},k.prototype._settlePromiseLateCancellationObserver=function(e){var t=e.handler,n=e.promise,r=e.receiver,i=e.value;"function"==typeof t?n instanceof k?this._settlePromiseFromHandler(t,r,i,n):t.call(r,i,n):n instanceof k&&n._reject(i)},k.prototype._settlePromiseCtx=function(e){this._settlePromise(e.promise,e.handler,e.receiver,e.value)},k.prototype._settlePromise0=function(e,t,n){var r=this._promise0,i=this._receiverAt(0);this._promise0=void 0,this._receiver0=void 0,this._settlePromise(r,e,i,t)},k.prototype._clearCallbackDataAtIndex=function(e){var t=4*e-4;this[t+2]=this[t+3]=this[t+0]=this[t+1]=void 0},k.prototype._fulfill=function(e){var n=this._bitField;if(!((117506048&n)>>>16)){if(e===this){var r=t();return this._attachExtraTrace(r),this._reject(r)}this._setFulfilled(),this._rejectionHandler0=e,(65535&n)>0&&(0!=(134217728&n)?this._settlePromises():f.settlePromises(this))}},k.prototype._reject=function(e){var t=this._bitField;if(!((117506048&t)>>>16)){if(this._setRejected(),this._fulfillmentHandler0=e,this._isFinal())return f.fatalError(e,s.isNode);(65535&t)>0?f.settlePromises(this):this._ensurePossibleRejectionHandled()}},k.prototype._fulfillPromises=function(e,t){for(var n=1;n<e;n++){var r=this._fulfillmentHandlerAt(n),i=this._promiseAt(n),o=this._receiverAt(n);this._clearCallbackDataAtIndex(n),this._settlePromise(i,r,o,t)}},k.prototype._rejectPromises=function(e,t){for(var n=1;n<e;n++){var r=this._rejectionHandlerAt(n),i=this._promiseAt(n),o=this._receiverAt(n);this._clearCallbackDataAtIndex(n),this._settlePromise(i,r,o,t)}},k.prototype._settlePromises=function(){var e=this._bitField,t=65535&e;if(t>0){if(0!=(16842752&e)){var n=this._fulfillmentHandler0;this._settlePromise0(this._rejectionHandler0,n,e),this._rejectPromises(t,n)}else{var r=this._rejectionHandler0;this._settlePromise0(this._fulfillmentHandler0,r,e),this._fulfillPromises(t,r)}this._setLength(0)}this._clearCancellationData()},k.prototype._settledValue=function(){var e=this._bitField;return 0!=(33554432&e)?this._rejectionHandler0:0!=(16777216&e)?this._fulfillmentHandler0:void 0},k.defer=k.pending=function(){return E.deprecated("Promise.defer","new Promise"),{promise:new k(_),resolve:P,reject:T}},s.notEnumerableProp(k,"_makeSelfResolutionError",t),n(89)(k,_,m,i,E),n(90)(k,_,m,E),n(91)(k,g,i,E),n(92)(k),n(93)(k),n(94)(k,g,m,_,f,a),k.Promise=k,k.version="3.5.1",n(95)(k,g,i,m,_,E),n(96)(k),n(97)(k,i,m,w,_,E),n(98)(k,_,E),n(99)(k,i,_,m,o,E),n(100)(k),n(101)(k,_),n(102)(k,g,m,i),n(103)(k,_,m,i),n(104)(k,g,i,m,_,E),n(105)(k,g,E),n(106)(k,g,i),n(107)(k,_),n(108)(k,_),n(109)(k),s.toFastProperties(k),s.toFastProperties(k.prototype),N({a:1}),N({b:2}),N({c:3}),N(1),N(function(){}),N(void 0),N(!1),N(new k(_)),E.setBounds(l.firstLineError,s.lastLineError),k}},function(e,t,n){"use strict";var r;try{throw new Error}catch(e){r=e}var i=n(82),o=n(83),a=n(0);function u(){this._customScheduler=!1,this._isTickUsed=!1,this._lateQueue=new o(16),this._normalQueue=new o(16),this._haveDrainedQueues=!1,this._trampolineEnabled=!0;var e=this;this.drainQueues=function(){e._drainQueues()},this._schedule=i}function s(e,t,n){this._lateQueue.push(e,t,n),this._queueTick()}function c(e,t,n){this._normalQueue.push(e,t,n),this._queueTick()}function l(e){this._normalQueue._pushOne(e),this._queueTick()}u.prototype.setScheduler=function(e){var t=this._schedule;return this._schedule=e,this._customScheduler=!0,t},u.prototype.hasCustomScheduler=function(){return this._customScheduler},u.prototype.enableTrampoline=function(){this._trampolineEnabled=!0},u.prototype.disableTrampolineIfNecessary=function(){a.hasDevTools&&(this._trampolineEnabled=!1)},u.prototype.haveItemsQueued=function(){return this._isTickUsed||this._haveDrainedQueues},u.prototype.fatalError=function(e,t){t?(process.stderr.write("Fatal "+(e instanceof Error?e.stack:e)+"\n"),process.exit(2)):this.throwLater(e)},u.prototype.throwLater=function(e,t){if(1===arguments.length&&(t=e,e=function(){throw t}),"undefined"!=typeof setTimeout)setTimeout(function(){e(t)},0);else try{this._schedule(function(){e(t)})}catch(e){throw new Error("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")}},a.hasDevTools?(u.prototype.invokeLater=function(e,t,n){this._trampolineEnabled?s.call(this,e,t,n):this._schedule(function(){setTimeout(function(){e.call(t,n)},100)})},u.prototype.invoke=function(e,t,n){this._trampolineEnabled?c.call(this,e,t,n):this._schedule(function(){e.call(t,n)})},u.prototype.settlePromises=function(e){this._trampolineEnabled?l.call(this,e):this._schedule(function(){e._settlePromises()})}):(u.prototype.invokeLater=s,u.prototype.invoke=c,u.prototype.settlePromises=l),u.prototype._drainQueue=function(e){for(;e.length()>0;){var t=e.shift();if("function"==typeof t){var n=e.shift(),r=e.shift();t.call(n,r)}else t._settlePromises()}},u.prototype._drainQueues=function(){this._drainQueue(this._normalQueue),this._reset(),this._haveDrainedQueues=!0,this._drainQueue(this._lateQueue)},u.prototype._queueTick=function(){this._isTickUsed||(this._isTickUsed=!0,this._schedule(this.drainQueues))},u.prototype._reset=function(){this._isTickUsed=!1},e.exports=u,e.exports.firstLineError=r},function(e,t,n){"use strict";var r,i=n(0),o=i.getNativePromise();if(i.isNode&&"undefined"==typeof MutationObserver){var a=global.setImmediate,u=process.nextTick;r=i.isRecentNode?function(e){a.call(global,e)}:function(e){u.call(process,e)}}else if("function"==typeof o&&"function"==typeof o.resolve){var s=o.resolve();r=function(e){s.then(e)}}else r="undefined"==typeof MutationObserver||"undefined"!=typeof window&&window.navigator&&(window.navigator.standalone||window.cordova)?"undefined"!=typeof setImmediate?function(e){setImmediate(e)}:"undefined"!=typeof setTimeout?function(e){setTimeout(e,0)}:function(){throw new Error("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")}:function(){var e=document.createElement("div"),t={attributes:!0},n=!1,r=document.createElement("div");new MutationObserver(function(){e.classList.toggle("foo"),n=!1}).observe(r,t);return function(i){var o=new MutationObserver(function(){o.disconnect(),i()});o.observe(e,t),n||(n=!0,r.classList.toggle("foo"))}}();e.exports=r},function(e,t,n){"use strict";function r(e){this._capacity=e,this._length=0,this._front=0}r.prototype._willBeOverCapacity=function(e){return this._capacity<e},r.prototype._pushOne=function(e){var t=this.length();this._checkCapacity(t+1),this[this._front+t&this._capacity-1]=e,this._length=t+1},r.prototype.push=function(e,t,n){var r=this.length()+3;if(this._willBeOverCapacity(r))return this._pushOne(e),this._pushOne(t),void this._pushOne(n);var i=this._front+r-3;this._checkCapacity(r);var o=this._capacity-1;this[i+0&o]=e,this[i+1&o]=t,this[i+2&o]=n,this._length=r},r.prototype.shift=function(){var e=this._front,t=this[e];return this[e]=void 0,this._front=e+1&this._capacity-1,this._length--,t},r.prototype.length=function(){return this._length},r.prototype._checkCapacity=function(e){this._capacity<e&&this._resizeTo(this._capacity<<1)},r.prototype._resizeTo=function(e){var t=this._capacity;this._capacity=e,function(e,t,n,r,i){for(var o=0;o<i;++o)n[o+r]=e[o+t],e[o+t]=void 0}(this,0,this,t,this._front+this._length&t-1)},e.exports=r},function(e,t,n){"use strict";e.exports=function(e,t){var r=n(0),i=r.errorObj,o=r.isObject;var a={}.hasOwnProperty;return function(n,u){if(o(n)){if(n instanceof e)return n;var s=function(e){try{return function(e){return e.then}(e)}catch(e){return i.e=e,i}}(n);if(s===i){u&&u._pushContext();var c=e.reject(s.e);return u&&u._popContext(),c}if("function"==typeof s)return function(e){try{return a.call(e,"_promise0")}catch(e){return!1}}(n)?(c=new e(t),n._then(c._fulfill,c._reject,void 0,c,null),c):function(n,o,a){var u=new e(t),s=u;a&&a._pushContext(),u._captureStackTrace(),a&&a._popContext();var c=!0,l=r.tryCatch(o).call(n,function(e){u&&(u._resolveCallback(e),u=null)},function(e){u&&(u._rejectCallback(e,c,!0),u=null)});return c=!1,u&&l===i&&(u._rejectCallback(l.e,!0,!0),u=null),s}(n,s,u)}return n}}},function(e,t,n){"use strict";e.exports=function(e,t,r,i,o){var a=n(0);a.isArray;function u(n){var r=this._promise=new e(t);n instanceof e&&r._propagateFrom(n,3),r._setOnCancel(this),this._values=n,this._length=0,this._totalResolved=0,this._init(void 0,-2)}return a.inherits(u,o),u.prototype.length=function(){return this._length},u.prototype.promise=function(){return this._promise},u.prototype._init=function t(n,o){var u=r(this._values,this._promise);if(u instanceof e){var s=(u=u._target())._bitField;if(this._values=u,0==(50397184&s))return this._promise._setAsyncGuaranteed(),u._then(t,this._reject,void 0,this,o);if(0==(33554432&s))return 0!=(16777216&s)?this._reject(u._reason()):this._cancel();u=u._value()}if(null!==(u=a.asArray(u)))0!==u.length?this._iterate(u):-5===o?this._resolveEmptyArray():this._resolve(function(e){switch(e){case-2:return[];case-3:return{};case-6:return new Map}}(o));else{var c=i("expecting an array or an iterable object but got "+a.classString(u)).reason();this._promise._rejectCallback(c,!1)}},u.prototype._iterate=function(t){var n=this.getActualLength(t.length);this._length=n,this._values=this.shouldCopyValues()?new Array(n):this._values;for(var i=this._promise,o=!1,a=null,u=0;u<n;++u){var s=r(t[u],i);a=s instanceof e?(s=s._target())._bitField:null,o?null!==a&&s.suppressUnhandledRejections():null!==a?0==(50397184&a)?(s._proxy(this,u),this._values[u]=s):o=0!=(33554432&a)?this._promiseFulfilled(s._value(),u):0!=(16777216&a)?this._promiseRejected(s._reason(),u):this._promiseCancelled(u):o=this._promiseFulfilled(s,u)}o||i._setAsyncGuaranteed()},u.prototype._isResolved=function(){return null===this._values},u.prototype._resolve=function(e){this._values=null,this._promise._fulfill(e)},u.prototype._cancel=function(){!this._isResolved()&&this._promise._isCancellable()&&(this._values=null,this._promise._cancel())},u.prototype._reject=function(e){this._values=null,this._promise._rejectCallback(e,!1)},u.prototype._promiseFulfilled=function(e,t){return this._values[t]=e,++this._totalResolved>=this._length&&(this._resolve(this._values),!0)},u.prototype._promiseCancelled=function(){return this._cancel(),!0},u.prototype._promiseRejected=function(e){return this._totalResolved++,this._reject(e),!0},u.prototype._resultCancelled=function(){if(!this._isResolved()){var t=this._values;if(this._cancel(),t instanceof e)t.cancel();else for(var n=0;n<t.length;++n)t[n]instanceof e&&t[n].cancel()}},u.prototype.shouldCopyValues=function(){return!0},u.prototype.getActualLength=function(e){return e},u}},function(e,t,n){"use strict";e.exports=function(e){var t=!1,n=[];function r(){this._trace=new r.CapturedTrace(i())}function i(){var e=n.length-1;if(e>=0)return n[e]}return e.prototype._promiseCreated=function(){},e.prototype._pushContext=function(){},e.prototype._popContext=function(){return null},e._peekContext=e.prototype._peekContext=function(){},r.prototype._pushContext=function(){void 0!==this._trace&&(this._trace._promiseCreated=null,n.push(this._trace))},r.prototype._popContext=function(){if(void 0!==this._trace){var e=n.pop(),t=e._promiseCreated;return e._promiseCreated=null,t}return null},r.CapturedTrace=null,r.create=function(){if(t)return new r},r.deactivateLongStackTraces=function(){},r.activateLongStackTraces=function(){var n=e.prototype._pushContext,o=e.prototype._popContext,a=e._peekContext,u=e.prototype._peekContext,s=e.prototype._promiseCreated;r.deactivateLongStackTraces=function(){e.prototype._pushContext=n,e.prototype._popContext=o,e._peekContext=a,e.prototype._peekContext=u,e.prototype._promiseCreated=s,t=!1},t=!0,e.prototype._pushContext=r.prototype._pushContext,e.prototype._popContext=r.prototype._popContext,e._peekContext=e.prototype._peekContext=i,e.prototype._promiseCreated=function(){var e=this._peekContext();e&&null==e._promiseCreated&&(e._promiseCreated=this)}},r}},function(e,t,n){"use strict";e.exports=function(e,t){var r,i,o,a=e._getDomain,u=e._async,s=n(7).Warning,c=n(0),l=c.canAttachTrace,f=/[\\\/]bluebird[\\\/]js[\\\/](release|debug|instrumented)/,p=/\((?:timers\.js):\d+:\d+\)/,h=/[\/<\(](.+?):(\d+):(\d+)\)?\s*$/,d=null,_=null,v=!1,y=!(0==c.env("BLUEBIRD_DEBUG")||!c.env("BLUEBIRD_DEBUG")&&"development"!==c.env("NODE_ENV")),m=!(0==c.env("BLUEBIRD_WARNINGS")||!y&&!c.env("BLUEBIRD_WARNINGS")),g=!(0==c.env("BLUEBIRD_LONG_STACK_TRACES")||!y&&!c.env("BLUEBIRD_LONG_STACK_TRACES")),b=0!=c.env("BLUEBIRD_W_FORGOTTEN_RETURN")&&(m||!!c.env("BLUEBIRD_W_FORGOTTEN_RETURN"));e.prototype.suppressUnhandledRejections=function(){var e=this._target();e._bitField=-1048577&e._bitField|524288},e.prototype._ensurePossibleRejectionHandled=function(){if(0==(524288&this._bitField)){this._setRejectionIsUnhandled();var e=this;setTimeout(function(){e._notifyUnhandledRejection()},1)}},e.prototype._notifyUnhandledRejectionIsHandled=function(){U("rejectionHandled",r,void 0,this)},e.prototype._setReturnedNonUndefined=function(){this._bitField=268435456|this._bitField},e.prototype._returnedNonUndefined=function(){return 0!=(268435456&this._bitField)},e.prototype._notifyUnhandledRejection=function(){if(this._isRejectionUnhandled()){var e=this._settledValue();this._setUnhandledRejectionIsNotified(),U("unhandledRejection",i,e,this)}},e.prototype._setUnhandledRejectionIsNotified=function(){this._bitField=262144|this._bitField},e.prototype._unsetUnhandledRejectionIsNotified=function(){this._bitField=-262145&this._bitField},e.prototype._isUnhandledRejectionNotified=function(){return(262144&this._bitField)>0},e.prototype._setRejectionIsUnhandled=function(){this._bitField=1048576|this._bitField},e.prototype._unsetRejectionIsUnhandled=function(){this._bitField=-1048577&this._bitField,this._isUnhandledRejectionNotified()&&(this._unsetUnhandledRejectionIsNotified(),this._notifyUnhandledRejectionIsHandled())},e.prototype._isRejectionUnhandled=function(){return(1048576&this._bitField)>0},e.prototype._warn=function(e,t,n){return D(e,t,n||this)},e.onPossiblyUnhandledRejection=function(e){var t=a();i="function"==typeof e?null===t?e:c.domainBind(t,e):void 0},e.onUnhandledRejectionHandled=function(e){var t=a();r="function"==typeof e?null===t?e:c.domainBind(t,e):void 0};var w=function(){};e.longStackTraces=function(){if(u.haveItemsQueued()&&!J.longStackTraces)throw new Error("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");if(!J.longStackTraces&&H()){var n=e.prototype._captureStackTrace,r=e.prototype._attachExtraTrace;J.longStackTraces=!0,w=function(){if(u.haveItemsQueued()&&!J.longStackTraces)throw new Error("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");e.prototype._captureStackTrace=n,e.prototype._attachExtraTrace=r,t.deactivateLongStackTraces(),u.enableTrampoline(),J.longStackTraces=!1},e.prototype._captureStackTrace=I,e.prototype._attachExtraTrace=A,t.activateLongStackTraces(),u.disableTrampolineIfNecessary()}},e.hasLongStackTraces=function(){return J.longStackTraces&&H()};var E=function(){try{if("function"==typeof CustomEvent){var e=new CustomEvent("CustomEvent");return c.global.dispatchEvent(e),function(e,t){var n=new CustomEvent(e.toLowerCase(),{detail:t,cancelable:!0});return!c.global.dispatchEvent(n)}}if("function"==typeof Event){e=new Event("CustomEvent");return c.global.dispatchEvent(e),function(e,t){var n=new Event(e.toLowerCase(),{cancelable:!0});return n.detail=t,!c.global.dispatchEvent(n)}}return(e=document.createEvent("CustomEvent")).initCustomEvent("testingtheevent",!1,!0,{}),c.global.dispatchEvent(e),function(e,t){var n=document.createEvent("CustomEvent");return n.initCustomEvent(e.toLowerCase(),!1,!0,t),!c.global.dispatchEvent(n)}}catch(e){}return function(){return!1}}(),x=c.isNode?function(){return process.emit.apply(process,arguments)}:c.global?function(e){var t="on"+e.toLowerCase(),n=c.global[t];return!!n&&(n.apply(c.global,[].slice.call(arguments,1)),!0)}:function(){return!1};function O(e,t){return{promise:t}}var j={promiseCreated:O,promiseFulfilled:O,promiseRejected:O,promiseResolved:O,promiseCancelled:O,promiseChained:function(e,t,n){return{promise:t,child:n}},warning:function(e,t){return{warning:t}},unhandledRejection:function(e,t,n){return{reason:t,promise:n}},rejectionHandled:O},S=function(e){var t=!1;try{t=x.apply(null,arguments)}catch(e){u.throwLater(e),t=!0}var n=!1;try{n=E(e,j[e].apply(null,arguments))}catch(e){u.throwLater(e),n=!0}return n||t};function C(){return!1}function k(e,t,n){var r=this;try{e(t,n,function(e){if("function"!=typeof e)throw new TypeError("onCancel must be a function, got: "+c.toString(e));r._attachCancellationCallback(e)})}catch(e){return e}}function P(e){if(!this._isCancellable())return this;var t=this._onCancel();void 0!==t?c.isArray(t)?t.push(e):this._setOnCancel([t,e]):this._setOnCancel(e)}function T(){return this._onCancelField}function N(e){this._onCancelField=e}function M(){this._cancellationParent=void 0,this._onCancelField=void 0}function R(e,t){if(0!=(1&t)){this._cancellationParent=e;var n=e._branchesRemainingToCancel;void 0===n&&(n=0),e._branchesRemainingToCancel=n+1}0!=(2&t)&&e._isBound()&&this._setBoundTo(e._boundTo)}e.config=function(t){if("longStackTraces"in(t=Object(t))&&(t.longStackTraces?e.longStackTraces():!t.longStackTraces&&e.hasLongStackTraces()&&w()),"warnings"in t){var n=t.warnings;J.warnings=!!n,b=J.warnings,c.isObject(n)&&"wForgottenReturn"in n&&(b=!!n.wForgottenReturn)}if("cancellation"in t&&t.cancellation&&!J.cancellation){if(u.haveItemsQueued())throw new Error("cannot enable cancellation after promises are in use");e.prototype._clearCancellationData=M,e.prototype._propagateFrom=R,e.prototype._onCancel=T,e.prototype._setOnCancel=N,e.prototype._attachCancellationCallback=P,e.prototype._execute=k,F=R,J.cancellation=!0}return"monitoring"in t&&(t.monitoring&&!J.monitoring?(J.monitoring=!0,e.prototype._fireEvent=S):!t.monitoring&&J.monitoring&&(J.monitoring=!1,e.prototype._fireEvent=C)),e},e.prototype._fireEvent=C,e.prototype._execute=function(e,t,n){try{e(t,n)}catch(e){return e}},e.prototype._onCancel=function(){},e.prototype._setOnCancel=function(e){},e.prototype._attachCancellationCallback=function(e){},e.prototype._captureStackTrace=function(){},e.prototype._attachExtraTrace=function(){},e.prototype._clearCancellationData=function(){},e.prototype._propagateFrom=function(e,t){};var F=function(e,t){0!=(2&t)&&e._isBound()&&this._setBoundTo(e._boundTo)};function z(){var t=this._boundTo;return void 0!==t&&t instanceof e?t.isFulfilled()?t.value():void 0:t}function I(){this._trace=new G(this._peekContext())}function A(e,t){if(l(e)){var n=this._trace;if(void 0!==n&&t&&(n=n._parent),void 0!==n)n.attachExtraTrace(e);else if(!e.__stackCleaned__){var r=L(e);c.notEnumerableProp(e,"stack",r.message+"\n"+r.stack.join("\n")),c.notEnumerableProp(e,"__stackCleaned__",!0)}}}function D(t,n,r){if(J.warnings){var i,o=new s(t);if(n)r._attachExtraTrace(o);else if(J.longStackTraces&&(i=e._peekContext()))i.attachExtraTrace(o);else{var a=L(o);o.stack=a.message+"\n"+a.stack.join("\n")}S("warning",o)||B(o,"",!0)}}function q(e){for(var t=[],n=0;n<e.length;++n){var r=e[n],i="    (No stack trace)"===r||d.test(r),o=i&&K(r);i&&!o&&(v&&" "!==r.charAt(0)&&(r="    "+r),t.push(r))}return t}function L(e){var t=e.stack,n=e.toString();return t="string"==typeof t&&t.length>0?function(e){for(var t=e.stack.replace(/\s+$/g,"").split("\n"),n=0;n<t.length;++n){var r=t[n];if("    (No stack trace)"===r||d.test(r))break}return n>0&&"SyntaxError"!=e.name&&(t=t.slice(n)),t}(e):["    (No stack trace)"],{message:n,stack:"SyntaxError"==e.name?t:q(t)}}function B(e,t,n){if("undefined"!=typeof console){var r;if(c.isObject(e)){var i=e.stack;r=t+_(i,e)}else r=t+String(e);"function"==typeof o?o(r,n):"function"!=typeof console.log&&"object"!=typeof console.log||console.log(r)}}function U(e,t,n,r){var i=!1;try{"function"==typeof t&&(i=!0,"rejectionHandled"===e?t(r):t(n,r))}catch(e){u.throwLater(e)}"unhandledRejection"===e?S(e,n,r)||i||B(n,"Unhandled rejection "):S(e,r)}function V(e){var t;if("function"==typeof e)t="[function "+(e.name||"anonymous")+"]";else{t=e&&"function"==typeof e.toString?e.toString():c.toString(e);if(/\[object [a-zA-Z0-9$_]+\]/.test(t))try{t=JSON.stringify(e)}catch(e){}0===t.length&&(t="(empty array)")}return"(<"+function(e){if(e.length<41)return e;return e.substr(0,38)+"..."}(t)+">, no stack trace)"}function H(){return"function"==typeof $}var K=function(){return!1},W=/[\/<\(]([^:\/]+):(\d+):(?:\d+)\)?\s*$/;function Q(e){var t=e.match(W);if(t)return{fileName:t[1],line:parseInt(t[2],10)}}function G(e){this._parent=e,this._promisesCreated=0;var t=this._length=1+(void 0===e?0:e._length);$(this,G),t>32&&this.uncycle()}c.inherits(G,Error),t.CapturedTrace=G,G.prototype.uncycle=function(){var e=this._length;if(!(e<2)){for(var t=[],n={},r=0,i=this;void 0!==i;++r)t.push(i),i=i._parent;for(r=(e=this._length=r)-1;r>=0;--r){var o=t[r].stack;void 0===n[o]&&(n[o]=r)}for(r=0;r<e;++r){var a=n[t[r].stack];if(void 0!==a&&a!==r){a>0&&(t[a-1]._parent=void 0,t[a-1]._length=1),t[r]._parent=void 0,t[r]._length=1;var u=r>0?t[r-1]:this;a<e-1?(u._parent=t[a+1],u._parent.uncycle(),u._length=u._parent._length+1):(u._parent=void 0,u._length=1);for(var s=u._length+1,c=r-2;c>=0;--c)t[c]._length=s,s++;return}}}},G.prototype.attachExtraTrace=function(e){if(!e.__stackCleaned__){this.uncycle();for(var t=L(e),n=t.message,r=[t.stack],i=this;void 0!==i;)r.push(q(i.stack.split("\n"))),i=i._parent;!function(e){for(var t=e[0],n=1;n<e.length;++n){for(var r=e[n],i=t.length-1,o=t[i],a=-1,u=r.length-1;u>=0;--u)if(r[u]===o){a=u;break}for(u=a;u>=0;--u){var s=r[u];if(t[i]!==s)break;t.pop(),i--}t=r}}(r),function(e){for(var t=0;t<e.length;++t)(0===e[t].length||t+1<e.length&&e[t][0]===e[t+1][0])&&(e.splice(t,1),t--)}(r),c.notEnumerableProp(e,"stack",function(e,t){for(var n=0;n<t.length-1;++n)t[n].push("From previous event:"),t[n]=t[n].join("\n");return n<t.length&&(t[n]=t[n].join("\n")),e+"\n"+t.join("\n")}(n,r)),c.notEnumerableProp(e,"__stackCleaned__",!0)}};var $=function(){var e=/^\s*at\s*/,t=function(e,t){return"string"==typeof e?e:void 0!==t.name&&void 0!==t.message?t.toString():V(t)};if("number"==typeof Error.stackTraceLimit&&"function"==typeof Error.captureStackTrace){Error.stackTraceLimit+=6,d=e,_=t;var n=Error.captureStackTrace;return K=function(e){return f.test(e)},function(e,t){Error.stackTraceLimit+=6,n(e,t),Error.stackTraceLimit-=6}}var r,i=new Error;if("string"==typeof i.stack&&i.stack.split("\n")[0].indexOf("stackDetection@")>=0)return d=/@/,_=t,v=!0,function(e){e.stack=(new Error).stack};try{throw new Error}catch(e){r="stack"in e}return"stack"in i||!r||"number"!=typeof Error.stackTraceLimit?(_=function(e,t){return"string"==typeof e?e:"object"!=typeof t&&"function"!=typeof t||void 0===t.name||void 0===t.message?V(t):t.toString()},null):(d=e,_=t,function(e){Error.stackTraceLimit+=6;try{throw new Error}catch(t){e.stack=t.stack}Error.stackTraceLimit-=6})}();"undefined"!=typeof console&&void 0!==console.warn&&(o=function(e){console.warn(e)},c.isNode&&process.stderr.isTTY?o=function(e,t){var n=t?"[33m":"[31m";console.warn(n+e+"[0m\n")}:c.isNode||"string"!=typeof(new Error).stack||(o=function(e,t){console.warn("%c"+e,t?"color: darkorange":"color: red")}));var J={warnings:m,longStackTraces:!1,cancellation:!1,monitoring:!1};return g&&e.longStackTraces(),{longStackTraces:function(){return J.longStackTraces},warnings:function(){return J.warnings},cancellation:function(){return J.cancellation},monitoring:function(){return J.monitoring},propagateFromFunction:function(){return F},boundValueFunction:function(){return z},checkForgottenReturns:function(e,t,n,r,i){if(void 0===e&&null!==t&&b){if(void 0!==i&&i._returnedNonUndefined())return;if(0==(65535&r._bitField))return;n&&(n+=" ");var o="",a="";if(t._trace){for(var u=t._trace.stack.split("\n"),s=q(u),c=s.length-1;c>=0;--c){var l=s[c];if(!p.test(l)){var f=l.match(h);f&&(o="at "+f[1]+":"+f[2]+":"+f[3]+" ");break}}if(s.length>0){var d=s[0];for(c=0;c<u.length;++c)if(u[c]===d){c>0&&(a="\n"+u[c-1]);break}}}var _="a promise was created in a "+n+"handler "+o+"but was not returned from it, see http://goo.gl/rRqMUw"+a;r._warn(_,!0,t)}},setBounds:function(e,t){if(H()){for(var n,r,i=e.stack.split("\n"),o=t.stack.split("\n"),a=-1,u=-1,s=0;s<i.length;++s)if(c=Q(i[s])){n=c.fileName,a=c.line;break}for(s=0;s<o.length;++s){var c;if(c=Q(o[s])){r=c.fileName,u=c.line;break}}a<0||u<0||!n||!r||n!==r||a>=u||(K=function(e){if(f.test(e))return!0;var t=Q(e);return!!(t&&t.fileName===n&&a<=t.line&&t.line<=u)})}},warn:D,deprecated:function(e,t){var n=e+" is deprecated and will be removed in a future version.";return t&&(n+=" Use "+t+" instead."),D(n)},CapturedTrace:G,fireDomEvent:E,fireGlobalEvent:x}}},function(e,t,n){"use strict";e.exports=function(e,t,r){var i=n(0),o=e.CancellationError,a=i.errorObj,u=n(41)(r);function s(e,t,n){this.promise=e,this.type=t,this.handler=n,this.called=!1,this.cancelPromise=null}function c(e){this.finallyHandler=e}function l(e,t){return null!=e.cancelPromise&&(arguments.length>1?e.cancelPromise._reject(t):e.cancelPromise._cancel(),e.cancelPromise=null,!0)}function f(){return h.call(this,this.promise._target()._settledValue())}function p(e){if(!l(this,e))return a.e=e,a}function h(n){var i=this.promise,u=this.handler;if(!this.called){this.called=!0;var s=this.isFinallyHandler()?u.call(i._boundValue()):u.call(i._boundValue(),n);if(s===r)return s;if(void 0!==s){i._setReturnedNonUndefined();var h=t(s,i);if(h instanceof e){if(null!=this.cancelPromise){if(h._isCancelled()){var d=new o("late cancellation observer");return i._attachExtraTrace(d),a.e=d,a}h.isPending()&&h._attachCancellationCallback(new c(this))}return h._then(f,p,void 0,this,void 0)}}}return i.isRejected()?(l(this),a.e=n,a):(l(this),n)}return s.prototype.isFinallyHandler=function(){return 0===this.type},c.prototype._resultCancelled=function(){l(this.finallyHandler)},e.prototype._passThrough=function(e,t,n,r){return"function"!=typeof e?this.then():this._then(n,r,void 0,new s(this,t,e),void 0)},e.prototype.lastly=e.prototype.finally=function(e){return this._passThrough(e,0,h,h)},e.prototype.tap=function(e){return this._passThrough(e,1,h)},e.prototype.tapCatch=function(t){var n=arguments.length;if(1===n)return this._passThrough(t,1,void 0,h);var r,o=new Array(n-1),a=0;for(r=0;r<n-1;++r){var s=arguments[r];if(!i.isObject(s))return e.reject(new TypeError("tapCatch statement predicate: expecting an object but got "+i.classString(s)));o[a++]=s}o.length=a;var c=arguments[r];return this._passThrough(u(o,c,this),1,void 0,h)},s}},function(e,t,n){"use strict";e.exports=function(e,t,r,i,o){var a=n(0),u=a.tryCatch;e.method=function(n){if("function"!=typeof n)throw new e.TypeError("expecting a function but got "+a.classString(n));return function(){var r=new e(t);r._captureStackTrace(),r._pushContext();var i=u(n).apply(this,arguments),a=r._popContext();return o.checkForgottenReturns(i,a,"Promise.method",r),r._resolveFromSyncValue(i),r}},e.attempt=e.try=function(n){if("function"!=typeof n)return i("expecting a function but got "+a.classString(n));var r,s=new e(t);if(s._captureStackTrace(),s._pushContext(),arguments.length>1){o.deprecated("calling Promise.try with more than 1 argument");var c=arguments[1],l=arguments[2];r=a.isArray(c)?u(n).apply(l,c):u(n).call(l,c)}else r=u(n)();var f=s._popContext();return o.checkForgottenReturns(r,f,"Promise.try",s),s._resolveFromSyncValue(r),s},e.prototype._resolveFromSyncValue=function(e){e===a.errorObj?this._rejectCallback(e.e,!1):this._resolveCallback(e,!0)}}},function(e,t,n){"use strict";e.exports=function(e,t,n,r){var i=!1,o=function(e,t){this._reject(t)},a=function(e,t){t.promiseRejectionQueued=!0,t.bindingPromise._then(o,o,null,this,e)},u=function(e,t){0==(50397184&this._bitField)&&this._resolveCallback(t.target)},s=function(e,t){t.promiseRejectionQueued||this._reject(e)};e.prototype.bind=function(o){i||(i=!0,e.prototype._propagateFrom=r.propagateFromFunction(),e.prototype._boundValue=r.boundValueFunction());var c=n(o),l=new e(t);l._propagateFrom(this,1);var f=this._target();if(l._setBoundTo(c),c instanceof e){var p={promiseRejectionQueued:!1,promise:l,target:f,bindingPromise:c};f._then(t,a,void 0,l,p),c._then(u,s,void 0,l,p),l._setOnCancel(c)}else l._resolveCallback(f);return l},e.prototype._setBoundTo=function(e){void 0!==e?(this._bitField=2097152|this._bitField,this._boundTo=e):this._bitField=-2097153&this._bitField},e.prototype._isBound=function(){return 2097152==(2097152&this._bitField)},e.bind=function(t,n){return e.resolve(n).bind(t)}}},function(e,t,n){"use strict";e.exports=function(e,t,r,i){var o=n(0),a=o.tryCatch,u=o.errorObj,s=e._async;e.prototype.break=e.prototype.cancel=function(){if(!i.cancellation())return this._warn("cancellation is disabled");for(var e=this,t=e;e._isCancellable();){if(!e._cancelBy(t)){t._isFollowing()?t._followee().cancel():t._cancelBranched();break}var n=e._cancellationParent;if(null==n||!n._isCancellable()){e._isFollowing()?e._followee().cancel():e._cancelBranched();break}e._isFollowing()&&e._followee().cancel(),e._setWillBeCancelled(),t=e,e=n}},e.prototype._branchHasCancelled=function(){this._branchesRemainingToCancel--},e.prototype._enoughBranchesHaveCancelled=function(){return void 0===this._branchesRemainingToCancel||this._branchesRemainingToCancel<=0},e.prototype._cancelBy=function(e){return e===this?(this._branchesRemainingToCancel=0,this._invokeOnCancel(),!0):(this._branchHasCancelled(),!!this._enoughBranchesHaveCancelled()&&(this._invokeOnCancel(),!0))},e.prototype._cancelBranched=function(){this._enoughBranchesHaveCancelled()&&this._cancel()},e.prototype._cancel=function(){this._isCancellable()&&(this._setCancelled(),s.invoke(this._cancelPromises,this,void 0))},e.prototype._cancelPromises=function(){this._length()>0&&this._settlePromises()},e.prototype._unsetOnCancel=function(){this._onCancelField=void 0},e.prototype._isCancellable=function(){return this.isPending()&&!this._isCancelled()},e.prototype.isCancellable=function(){return this.isPending()&&!this.isCancelled()},e.prototype._doInvokeOnCancel=function(e,t){if(o.isArray(e))for(var n=0;n<e.length;++n)this._doInvokeOnCancel(e[n],t);else if(void 0!==e)if("function"==typeof e){if(!t){var r=a(e).call(this._boundValue());r===u&&(this._attachExtraTrace(r.e),s.throwLater(r.e))}}else e._resultCancelled(this)},e.prototype._invokeOnCancel=function(){var e=this._onCancel();this._unsetOnCancel(),s.invoke(this._doInvokeOnCancel,this,e)},e.prototype._invokeInternalOnCancel=function(){this._isCancellable()&&(this._doInvokeOnCancel(this._onCancel(),!0),this._unsetOnCancel())},e.prototype._resultCancelled=function(){this.cancel()}}},function(e,t,n){"use strict";e.exports=function(e){function t(){return this.value}function n(){throw this.reason}e.prototype.return=e.prototype.thenReturn=function(n){return n instanceof e&&n.suppressUnhandledRejections(),this._then(t,void 0,void 0,{value:n},void 0)},e.prototype.throw=e.prototype.thenThrow=function(e){return this._then(n,void 0,void 0,{reason:e},void 0)},e.prototype.catchThrow=function(e){if(arguments.length<=1)return this._then(void 0,n,void 0,{reason:e},void 0);var t=arguments[1];return this.caught(e,function(){throw t})},e.prototype.catchReturn=function(n){if(arguments.length<=1)return n instanceof e&&n.suppressUnhandledRejections(),this._then(void 0,t,void 0,{value:n},void 0);var r=arguments[1];r instanceof e&&r.suppressUnhandledRejections();return this.caught(n,function(){return r})}}},function(e,t,n){"use strict";e.exports=function(e){function t(e){void 0!==e?(e=e._target(),this._bitField=e._bitField,this._settledValueField=e._isFateSealed()?e._settledValue():void 0):(this._bitField=0,this._settledValueField=void 0)}t.prototype._settledValue=function(){return this._settledValueField};var n=t.prototype.value=function(){if(!this.isFulfilled())throw new TypeError("cannot get fulfillment value of a non-fulfilled promise\n\n    See http://goo.gl/MqrFmX\n");return this._settledValue()},r=t.prototype.error=t.prototype.reason=function(){if(!this.isRejected())throw new TypeError("cannot get rejection reason of a non-rejected promise\n\n    See http://goo.gl/MqrFmX\n");return this._settledValue()},i=t.prototype.isFulfilled=function(){return 0!=(33554432&this._bitField)},o=t.prototype.isRejected=function(){return 0!=(16777216&this._bitField)},a=t.prototype.isPending=function(){return 0==(50397184&this._bitField)},u=t.prototype.isResolved=function(){return 0!=(50331648&this._bitField)};t.prototype.isCancelled=function(){return 0!=(8454144&this._bitField)},e.prototype.__isCancelled=function(){return 65536==(65536&this._bitField)},e.prototype._isCancelled=function(){return this._target().__isCancelled()},e.prototype.isCancelled=function(){return 0!=(8454144&this._target()._bitField)},e.prototype.isPending=function(){return a.call(this._target())},e.prototype.isRejected=function(){return o.call(this._target())},e.prototype.isFulfilled=function(){return i.call(this._target())},e.prototype.isResolved=function(){return u.call(this._target())},e.prototype.value=function(){return n.call(this._target())},e.prototype.reason=function(){var e=this._target();return e._unsetRejectionIsUnhandled(),r.call(e)},e.prototype._value=function(){return this._settledValue()},e.prototype._reason=function(){return this._unsetRejectionIsUnhandled(),this._settledValue()},e.PromiseInspection=t}},function(e,t,n){"use strict";e.exports=function(e,t,r,i,o,a){var u,s=n(0),c=s.canEvaluate,l=s.tryCatch,f=s.errorObj;if(c){for(var p=function(e){return new Function("value","holder","                             \n            'use strict';                                                    \n            holder.pIndex = value;                                           \n            holder.checkFulfillment(this);                                   \n            ".replace(/Index/g,e))},h=function(e){return new Function("promise","holder","                           \n            'use strict';                                                    \n            holder.pIndex = promise;                                         \n            ".replace(/Index/g,e))},d=function(t){for(var n=new Array(t),r=0;r<n.length;++r)n[r]="this.p"+(r+1);var i=n.join(" = ")+" = null;",a="var promise;\n"+n.map(function(e){return"                                                         \n                promise = "+e+";                                      \n                if (promise instanceof Promise) {                            \n                    promise.cancel();                                        \n                }                                                            \n            "}).join("\n"),u=n.join(", "),s="Holder$"+t,c="return function(tryCatch, errorObj, Promise, async) {    \n            'use strict';                                                    \n            function [TheName](fn) {                                         \n                [TheProperties]                                              \n                this.fn = fn;                                                \n                this.asyncNeeded = true;                                     \n                this.now = 0;                                                \n            }                                                                \n                                                                             \n            [TheName].prototype._callFunction = function(promise) {          \n                promise._pushContext();                                      \n                var ret = tryCatch(this.fn)([ThePassedArguments]);           \n                promise._popContext();                                       \n                if (ret === errorObj) {                                      \n                    promise._rejectCallback(ret.e, false);                   \n                } else {                                                     \n                    promise._resolveCallback(ret);                           \n                }                                                            \n            };                                                               \n                                                                             \n            [TheName].prototype.checkFulfillment = function(promise) {       \n                var now = ++this.now;                                        \n                if (now === [TheTotal]) {                                    \n                    if (this.asyncNeeded) {                                  \n                        async.invoke(this._callFunction, this, promise);     \n                    } else {                                                 \n                        this._callFunction(promise);                         \n                    }                                                        \n                                                                             \n                }                                                            \n            };                                                               \n                                                                             \n            [TheName].prototype._resultCancelled = function() {              \n                [CancellationCode]                                           \n            };                                                               \n                                                                             \n            return [TheName];                                                \n        }(tryCatch, errorObj, Promise, async);                               \n        ";return c=c.replace(/\[TheName\]/g,s).replace(/\[TheTotal\]/g,t).replace(/\[ThePassedArguments\]/g,u).replace(/\[TheProperties\]/g,i).replace(/\[CancellationCode\]/g,a),new Function("tryCatch","errorObj","Promise","async",c)(l,f,e,o)},_=[],v=[],y=[],m=0;m<8;++m)_.push(d(m+1)),v.push(p(m+1)),y.push(h(m+1));u=function(e){this._reject(e)}}e.join=function(){var n,o=arguments.length-1;if(o>0&&"function"==typeof arguments[o]&&(n=arguments[o],o<=8&&c)){(E=new e(i))._captureStackTrace();for(var l=new(0,_[o-1])(n),f=v,p=0;p<o;++p){var h=r(arguments[p],E);if(h instanceof e){var d=(h=h._target())._bitField;0==(50397184&d)?(h._then(f[p],u,void 0,E,l),y[p](h,l),l.asyncNeeded=!1):0!=(33554432&d)?f[p].call(E,h._value(),l):0!=(16777216&d)?E._reject(h._reason()):E._cancel()}else f[p].call(E,h,l)}if(!E._isFateSealed()){if(l.asyncNeeded){var m=a();null!==m&&(l.fn=s.domainBind(m,l.fn))}E._setAsyncGuaranteed(),E._setOnCancel(l)}return E}for(var g=arguments.length,b=new Array(g),w=0;w<g;++w)b[w]=arguments[w];n&&b.pop();var E=new t(b).promise();return void 0!==n?E.spread(n):E}}},function(e,t,n){"use strict";e.exports=function(e,t,r,i,o,a){var u=e._getDomain,s=n(0),c=s.tryCatch,l=s.errorObj,f=e._async;function p(e,t,n,r){this.constructor$(e),this._promise._captureStackTrace();var i=u();this._callback=null===i?t:s.domainBind(i,t),this._preservedValues=r===o?new Array(this.length()):null,this._limit=n,this._inFlight=0,this._queue=[],f.invoke(this._asyncInit,this,void 0)}function h(t,n,i,o){if("function"!=typeof n)return r("expecting a function but got "+s.classString(n));var a=0;if(void 0!==i){if("object"!=typeof i||null===i)return e.reject(new TypeError("options argument must be an object but it is "+s.classString(i)));if("number"!=typeof i.concurrency)return e.reject(new TypeError("'concurrency' must be a number but it is "+s.classString(i.concurrency)));a=i.concurrency}return new p(t,n,a="number"==typeof a&&isFinite(a)&&a>=1?a:0,o).promise()}s.inherits(p,t),p.prototype._asyncInit=function(){this._init$(void 0,-2)},p.prototype._init=function(){},p.prototype._promiseFulfilled=function(t,n){var r=this._values,o=this.length(),u=this._preservedValues,s=this._limit;if(n<0){if(r[n=-1*n-1]=t,s>=1&&(this._inFlight--,this._drainQueue(),this._isResolved()))return!0}else{if(s>=1&&this._inFlight>=s)return r[n]=t,this._queue.push(n),!1;null!==u&&(u[n]=t);var f=this._promise,p=this._callback,h=f._boundValue();f._pushContext();var d=c(p).call(h,t,n,o),_=f._popContext();if(a.checkForgottenReturns(d,_,null!==u?"Promise.filter":"Promise.map",f),d===l)return this._reject(d.e),!0;var v=i(d,this._promise);if(v instanceof e){var y=(v=v._target())._bitField;if(0==(50397184&y))return s>=1&&this._inFlight++,r[n]=v,v._proxy(this,-1*(n+1)),!1;if(0==(33554432&y))return 0!=(16777216&y)?(this._reject(v._reason()),!0):(this._cancel(),!0);d=v._value()}r[n]=d}return++this._totalResolved>=o&&(null!==u?this._filter(r,u):this._resolve(r),!0)},p.prototype._drainQueue=function(){for(var e=this._queue,t=this._limit,n=this._values;e.length>0&&this._inFlight<t;){if(this._isResolved())return;var r=e.pop();this._promiseFulfilled(n[r],r)}},p.prototype._filter=function(e,t){for(var n=t.length,r=new Array(n),i=0,o=0;o<n;++o)e[o]&&(r[i++]=t[o]);r.length=i,this._resolve(r)},p.prototype.preservedValues=function(){return this._preservedValues},e.prototype.map=function(e,t){return h(this,e,t,null)},e.map=function(e,t,n,r){return h(e,t,n,r)}}},function(e,t,n){"use strict";var r=Object.create;if(r){var i=r(null),o=r(null);i[" size"]=o[" size"]=0}e.exports=function(e){var t,r,a=n(0),u=a.canEvaluate,s=a.isIdentifier,c=function(e){return new Function("ensureMethod","                                    \n        return function(obj) {                                               \n            'use strict'                                                     \n            var len = this.length;                                           \n            ensureMethod(obj, 'methodName');                                 \n            switch(len) {                                                    \n                case 1: return obj.methodName(this[0]);                      \n                case 2: return obj.methodName(this[0], this[1]);             \n                case 3: return obj.methodName(this[0], this[1], this[2]);    \n                case 0: return obj.methodName();                             \n                default:                                                     \n                    return obj.methodName.apply(obj, this);                  \n            }                                                                \n        };                                                                   \n        ".replace(/methodName/g,e))(p)},l=function(e){return new Function("obj","                                             \n        'use strict';                                                        \n        return obj.propertyName;                                             \n        ".replace("propertyName",e))},f=function(e,t,n){var r=n[e];if("function"!=typeof r){if(!s(e))return null;if(r=t(e),n[e]=r,n[" size"]++,n[" size"]>512){for(var i=Object.keys(n),o=0;o<256;++o)delete n[i[o]];n[" size"]=i.length-256}}return r};function p(t,n){var r;if(null!=t&&(r=t[n]),"function"!=typeof r){var i="Object "+a.classString(t)+" has no method '"+a.toString(n)+"'";throw new e.TypeError(i)}return r}function h(e){return p(e,this.pop()).apply(e,this)}function d(e){return e[this]}function _(e){var t=+this;return t<0&&(t=Math.max(0,t+e.length)),e[t]}t=function(e){return f(e,c,i)},r=function(e){return f(e,l,o)},e.prototype.call=function(e){for(var n=arguments.length,r=new Array(Math.max(n-1,0)),i=1;i<n;++i)r[i-1]=arguments[i];if(u){var o=t(e);if(null!==o)return this._then(o,void 0,void 0,r,void 0)}return r.push(e),this._then(h,void 0,void 0,r,void 0)},e.prototype.get=function(e){var t;if("number"==typeof e)t=_;else if(u){var n=r(e);t=null!==n?n:d}else t=d;return this._then(t,void 0,void 0,e,void 0)}}},function(e,t,n){"use strict";e.exports=function(e,t,r,i,o,a){var u=n(0),s=n(7).TypeError,c=n(0).inherits,l=u.errorObj,f=u.tryCatch,p={};function h(e){setTimeout(function(){throw e},0)}function d(t,n){var i=0,a=t.length,u=new e(o);return function o(){if(i>=a)return u._fulfill();var s=function(e){var t=r(e);return t!==e&&"function"==typeof e._isDisposable&&"function"==typeof e._getDisposer&&e._isDisposable()&&t._setDisposable(e._getDisposer()),t}(t[i++]);if(s instanceof e&&s._isDisposable()){try{s=r(s._getDisposer().tryDispose(n),t.promise)}catch(e){return h(e)}if(s instanceof e)return s._then(o,h,null,null,null)}o()}(),u}function _(e,t,n){this._data=e,this._promise=t,this._context=n}function v(e,t,n){this.constructor$(e,t,n)}function y(e){return _.isDisposer(e)?(this.resources[this.index]._setDisposable(e),e.promise()):e}function m(e){this.length=e,this.promise=null,this[e-1]=null}_.prototype.data=function(){return this._data},_.prototype.promise=function(){return this._promise},_.prototype.resource=function(){return this.promise().isFulfilled()?this.promise().value():p},_.prototype.tryDispose=function(e){var t=this.resource(),n=this._context;void 0!==n&&n._pushContext();var r=t!==p?this.doDispose(t,e):null;return void 0!==n&&n._popContext(),this._promise._unsetDisposable(),this._data=null,r},_.isDisposer=function(e){return null!=e&&"function"==typeof e.resource&&"function"==typeof e.tryDispose},c(v,_),v.prototype.doDispose=function(e,t){return this.data().call(e,e,t)},m.prototype._resultCancelled=function(){for(var t=this.length,n=0;n<t;++n){var r=this[n];r instanceof e&&r.cancel()}},e.using=function(){var n=arguments.length;if(n<2)return t("you must pass at least 2 arguments to Promise.using");var i,o=arguments[n-1];if("function"!=typeof o)return t("expecting a function but got "+u.classString(o));var s=!0;2===n&&Array.isArray(arguments[0])?(n=(i=arguments[0]).length,s=!1):(i=arguments,n--);for(var c=new m(n),p=0;p<n;++p){var h=i[p];if(_.isDisposer(h)){var v=h;(h=h.promise())._setDisposable(v)}else{var g=r(h);g instanceof e&&(h=g._then(y,null,null,{resources:c,index:p},void 0))}c[p]=h}var b=new Array(c.length);for(p=0;p<b.length;++p)b[p]=e.resolve(c[p]).reflect();var w=e.all(b).then(function(e){for(var t=0;t<e.length;++t){var n=e[t];if(n.isRejected())return l.e=n.error(),l;if(!n.isFulfilled())return void w.cancel();e[t]=n.value()}E._pushContext(),o=f(o);var r=s?o.apply(void 0,e):o(e),i=E._popContext();return a.checkForgottenReturns(r,i,"Promise.using",E),r}),E=w.lastly(function(){var t=new e.PromiseInspection(w);return d(c,t)});return c.promise=E,E._setOnCancel(c),E},e.prototype._setDisposable=function(e){this._bitField=131072|this._bitField,this._disposer=e},e.prototype._isDisposable=function(){return(131072&this._bitField)>0},e.prototype._getDisposer=function(){return this._disposer},e.prototype._unsetDisposable=function(){this._bitField=-131073&this._bitField,this._disposer=void 0},e.prototype.disposer=function(e){if("function"==typeof e)return new v(e,this,i());throw new s}}},function(e,t,n){"use strict";e.exports=function(e,t,r){var i=n(0),o=e.TimeoutError;function a(e){this.handle=e}a.prototype._resultCancelled=function(){clearTimeout(this.handle)};var u=function(e){return s(+this).thenReturn(e)},s=e.delay=function(n,i){var o,s;return void 0!==i?(o=e.resolve(i)._then(u,null,null,n,void 0),r.cancellation()&&i instanceof e&&o._setOnCancel(i)):(o=new e(t),s=setTimeout(function(){o._fulfill()},+n),r.cancellation()&&o._setOnCancel(new a(s)),o._captureStackTrace()),o._setAsyncGuaranteed(),o};e.prototype.delay=function(e){return s(e,this)};function c(e){return clearTimeout(this.handle),e}function l(e){throw clearTimeout(this.handle),e}e.prototype.timeout=function(e,t){var n,u;e=+e;var s=new a(setTimeout(function(){n.isPending()&&function(e,t,n){var r;r="string"!=typeof t?t instanceof Error?t:new o("operation timed out"):new o(t),i.markAsOriginatingFromRejection(r),e._attachExtraTrace(r),e._reject(r),null!=n&&n.cancel()}(n,t,u)},e));return r.cancellation()?(u=this.then(),(n=u._then(c,l,void 0,s,void 0))._setOnCancel(s)):n=this._then(c,l,void 0,s,void 0),n}}},function(e,t,n){"use strict";e.exports=function(e,t,r,i,o,a){var u=n(7).TypeError,s=n(0),c=s.errorObj,l=s.tryCatch,f=[];function p(t,n,i,o){if(a.cancellation()){var u=new e(r),s=this._finallyPromise=new e(r);this._promise=u.lastly(function(){return s}),u._captureStackTrace(),u._setOnCancel(this)}else{(this._promise=new e(r))._captureStackTrace()}this._stack=o,this._generatorFunction=t,this._receiver=n,this._generator=void 0,this._yieldHandlers="function"==typeof i?[i].concat(f):f,this._yieldedPromise=null,this._cancellationPhase=!1}s.inherits(p,o),p.prototype._isResolved=function(){return null===this._promise},p.prototype._cleanup=function(){this._promise=this._generator=null,a.cancellation()&&null!==this._finallyPromise&&(this._finallyPromise._fulfill(),this._finallyPromise=null)},p.prototype._promiseCancelled=function(){if(!this._isResolved()){var t;if(void 0!==this._generator.return)this._promise._pushContext(),t=l(this._generator.return).call(this._generator,void 0),this._promise._popContext();else{var n=new e.CancellationError("generator .return() sentinel");e.coroutine.returnSentinel=n,this._promise._attachExtraTrace(n),this._promise._pushContext(),t=l(this._generator.throw).call(this._generator,n),this._promise._popContext()}this._cancellationPhase=!0,this._yieldedPromise=null,this._continue(t)}},p.prototype._promiseFulfilled=function(e){this._yieldedPromise=null,this._promise._pushContext();var t=l(this._generator.next).call(this._generator,e);this._promise._popContext(),this._continue(t)},p.prototype._promiseRejected=function(e){this._yieldedPromise=null,this._promise._attachExtraTrace(e),this._promise._pushContext();var t=l(this._generator.throw).call(this._generator,e);this._promise._popContext(),this._continue(t)},p.prototype._resultCancelled=function(){if(this._yieldedPromise instanceof e){var t=this._yieldedPromise;this._yieldedPromise=null,t.cancel()}},p.prototype.promise=function(){return this._promise},p.prototype._run=function(){this._generator=this._generatorFunction.call(this._receiver),this._receiver=this._generatorFunction=void 0,this._promiseFulfilled(void 0)},p.prototype._continue=function(t){var n=this._promise;if(t===c)return this._cleanup(),this._cancellationPhase?n.cancel():n._rejectCallback(t.e,!1);var r=t.value;if(!0===t.done)return this._cleanup(),this._cancellationPhase?n.cancel():n._resolveCallback(r);var o=i(r,this._promise);if(o instanceof e||null!==(o=function(t,n,r){for(var o=0;o<n.length;++o){r._pushContext();var a=l(n[o])(t);if(r._popContext(),a===c){r._pushContext();var u=e.reject(c.e);return r._popContext(),u}var s=i(a,r);if(s instanceof e)return s}return null}(o,this._yieldHandlers,this._promise))){var a=(o=o._target())._bitField;0==(50397184&a)?(this._yieldedPromise=o,o._proxy(this,null)):0!=(33554432&a)?e._async.invoke(this._promiseFulfilled,this,o._value()):0!=(16777216&a)?e._async.invoke(this._promiseRejected,this,o._reason()):this._promiseCancelled()}else this._promiseRejected(new u("A value %s was yielded that could not be treated as a promise\n\n    See http://goo.gl/MqrFmX\n\n".replace("%s",String(r))+"From coroutine:\n"+this._stack.split("\n").slice(1,-7).join("\n")))},e.coroutine=function(e,t){if("function"!=typeof e)throw new u("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");var n=Object(t).yieldHandler,r=p,i=(new Error).stack;return function(){var t=e.apply(this,arguments),o=new r(void 0,void 0,n,i),a=o.promise();return o._generator=t,o._promiseFulfilled(void 0),a}},e.coroutine.addYieldHandler=function(e){if("function"!=typeof e)throw new u("expecting a function but got "+s.classString(e));f.push(e)},e.spawn=function(n){if(a.deprecated("Promise.spawn()","Promise.coroutine()"),"function"!=typeof n)return t("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");var r=new p(n,this),i=r.promise();return r._run(e.spawn),i}}},function(e,t,n){"use strict";e.exports=function(e){var t=n(0),r=e._async,i=t.tryCatch,o=t.errorObj;function a(e,n){if(!t.isArray(e))return u.call(this,e,n);var a=i(n).apply(this._boundValue(),[null].concat(e));a===o&&r.throwLater(a.e)}function u(e,t){var n=this._boundValue(),a=void 0===e?i(t).call(n,null):i(t).call(n,null,e);a===o&&r.throwLater(a.e)}function s(e,t){if(!e){var n=new Error(e+"");n.cause=e,e=n}var a=i(t).call(this._boundValue(),e);a===o&&r.throwLater(a.e)}e.prototype.asCallback=e.prototype.nodeify=function(e,t){if("function"==typeof e){var n=u;void 0!==t&&Object(t).spread&&(n=a),this._then(n,s,void 0,this,e)}return this}}},function(e,t,n){"use strict";e.exports=function(e,t){var r={},i=n(0),o=n(42),a=i.withAppended,u=i.maybeWrapAsError,s=i.canEvaluate,c=n(7).TypeError,l={__isPromisified__:!0},f=new RegExp("^(?:"+["arity","length","name","arguments","caller","callee","prototype","__isPromisified__"].join("|")+")$"),p=function(e){return i.isIdentifier(e)&&"_"!==e.charAt(0)&&"constructor"!==e};function h(e){return!f.test(e)}function d(e){try{return!0===e.__isPromisified__}catch(e){return!1}}function _(e,t,n){var r=i.getDataPropertyOrDefault(e,t+n,l);return!!r&&d(r)}function v(e,t,n,r){for(var o=i.inheritedDataKeys(e),a=[],u=0;u<o.length;++u){var s=o[u],l=e[s],f=r===p||p(s,l,e);"function"!=typeof l||d(l)||_(e,s,t)||!r(s,l,e,f)||a.push(s,l)}return function(e,t,n){for(var r=0;r<e.length;r+=2){var i=e[r];if(n.test(i))for(var o=i.replace(n,""),a=0;a<e.length;a+=2)if(e[a]===o)throw new c("Cannot promisify an API that has normal methods with '%s'-suffix\n\n    See http://goo.gl/MqrFmX\n".replace("%s",t))}}(a,t,n),a}var y=function(e){return e.replace(/([$])/,"\\$")},m=function(e){return i.filledRange(e,"_arg","")};var g=s?function(n,s,c,l,f,p){var h=Math.max(0,function(e){return"number"==typeof e.length?Math.max(Math.min(e.length,1024),0):0}(l)-1),d=function(e){for(var t=[e],n=Math.max(0,e-1-3),r=e-1;r>=n;--r)t.push(r);for(r=e+1;r<=3;++r)t.push(r);return t}(h),_="string"==typeof n||s===r;var v="string"==typeof n?"this != null ? this['"+n+"'] : fn":"fn",y="'use strict';                                                \n        var ret = function (Parameters) {                                    \n            'use strict';                                                    \n            var len = arguments.length;                                      \n            var promise = new Promise(INTERNAL);                             \n            promise._captureStackTrace();                                    \n            var nodeback = nodebackForPromise(promise, "+p+");   \n            var ret;                                                         \n            var callback = tryCatch([GetFunctionCode]);                      \n            switch(len) {                                                    \n                [CodeForSwitchCase]                                          \n            }                                                                \n            if (ret === errorObj) {                                          \n                promise._rejectCallback(maybeWrapAsError(ret.e), true, true);\n            }                                                                \n            if (!promise._isFateSealed()) promise._setAsyncGuaranteed();     \n            return promise;                                                  \n        };                                                                   \n        notEnumerableProp(ret, '__isPromisified__', true);                   \n        return ret;                                                          \n    ".replace("[CodeForSwitchCase]",function(){for(var e,t,n,r="",i=0;i<d.length;++i)r+="case "+d[i]+":"+(e=d[i],t=m(e).join(", "),n=e>0?", ":"",(_?"ret = callback.call(this, {{args}}, nodeback); break;\n":void 0===s?"ret = callback({{args}}, nodeback); break;\n":"ret = callback.call(receiver, {{args}}, nodeback); break;\n").replace("{{args}}",t).replace(", ",n));return r+="                                                             \n        default:                                                             \n            var args = new Array(len + 1);                                   \n            var i = 0;                                                       \n            for (var i = 0; i < len; ++i) {                                  \n               args[i] = arguments[i];                                       \n            }                                                                \n            args[i] = nodeback;                                              \n            [CodeForCall]                                                    \n            break;                                                           \n        ".replace("[CodeForCall]",_?"ret = callback.apply(this, args);\n":"ret = callback.apply(receiver, args);\n")}()).replace("[GetFunctionCode]",v);return y=y.replace("Parameters",function(e){return i.filledRange(Math.max(e,3),"_arg","")}(h)),new Function("Promise","fn","receiver","withAppended","maybeWrapAsError","nodebackForPromise","tryCatch","errorObj","notEnumerableProp","INTERNAL",y)(e,l,s,a,u,o,i.tryCatch,i.errorObj,i.notEnumerableProp,t)}:function(n,s,c,l,f,p){var h=function(){return this}(),d=n;function _(){var i=s;s===r&&(i=this);var c=new e(t);c._captureStackTrace();var l="string"==typeof d&&this!==h?this[d]:n,f=o(c,p);try{l.apply(i,a(arguments,f))}catch(e){c._rejectCallback(u(e),!0,!0)}return c._isFateSealed()||c._setAsyncGuaranteed(),c}return"string"==typeof d&&(n=l),i.notEnumerableProp(_,"__isPromisified__",!0),_};function b(e,t,n,o,a){for(var u=new RegExp(y(t)+"$"),s=v(e,t,u,n),c=0,l=s.length;c<l;c+=2){var f=s[c],p=s[c+1],h=f+t;if(o===g)e[h]=g(f,r,f,p,t,a);else{var d=o(p,function(){return g(f,r,f,p,t,a)});i.notEnumerableProp(d,"__isPromisified__",!0),e[h]=d}}return i.toFastProperties(e),e}e.promisify=function(e,t){if("function"!=typeof e)throw new c("expecting a function but got "+i.classString(e));if(d(e))return e;var n=function(e,t,n){return g(e,t,void 0,e,null,n)}(e,void 0===(t=Object(t)).context?r:t.context,!!t.multiArgs);return i.copyDescriptors(e,n,h),n},e.promisifyAll=function(e,t){if("function"!=typeof e&&"object"!=typeof e)throw new c("the target of promisifyAll must be an object or a function\n\n    See http://goo.gl/MqrFmX\n");var n=!!(t=Object(t)).multiArgs,r=t.suffix;"string"!=typeof r&&(r="Async");var o=t.filter;"function"!=typeof o&&(o=p);var a=t.promisifier;if("function"!=typeof a&&(a=g),!i.isIdentifier(r))throw new RangeError("suffix must be a valid identifier\n\n    See http://goo.gl/MqrFmX\n");for(var u=i.inheritedDataKeys(e),s=0;s<u.length;++s){var l=e[u[s]];"constructor"!==u[s]&&i.isClass(l)&&(b(l.prototype,r,o,a,n),b(l,r,o,a,n))}return b(e,r,o,a,n)}}},function(e,t,n){"use strict";e.exports=function(e,t,r,i){var o,a=n(0),u=a.isObject,s=n(9);"function"==typeof Map&&(o=Map);var c=function(){var e=0,t=0;function n(n,r){this[e]=n,this[e+t]=r,e++}return function(r){t=r.size,e=0;var i=new Array(2*r.size);return r.forEach(n,i),i}}();function l(e){var t,n=!1;if(void 0!==o&&e instanceof o)t=c(e),n=!0;else{var r=s.keys(e),i=r.length;t=new Array(2*i);for(var a=0;a<i;++a){var u=r[a];t[a]=e[u],t[a+i]=u}}this.constructor$(t),this._isMap=n,this._init$(void 0,n?-6:-3)}function f(t){var n,o=r(t);return u(o)?(n=o instanceof e?o._then(e.props,void 0,void 0,void 0,void 0):new l(o).promise(),o instanceof e&&n._propagateFrom(o,2),n):i("cannot await properties of a non-object\n\n    See http://goo.gl/MqrFmX\n")}a.inherits(l,t),l.prototype._init=function(){},l.prototype._promiseFulfilled=function(e,t){if(this._values[t]=e,++this._totalResolved>=this._length){var n;if(this._isMap)n=function(e){for(var t=new o,n=e.length/2|0,r=0;r<n;++r){var i=e[n+r],a=e[r];t.set(i,a)}return t}(this._values);else{n={};for(var r=this.length(),i=0,a=this.length();i<a;++i)n[this._values[i+r]]=this._values[i]}return this._resolve(n),!0}return!1},l.prototype.shouldCopyValues=function(){return!1},l.prototype.getActualLength=function(e){return e>>1},e.prototype.props=function(){return f(this)},e.props=function(e){return f(e)}}},function(e,t,n){"use strict";e.exports=function(e,t,r,i){var o=n(0),a=function(e){return e.then(function(t){return u(t,e)})};function u(n,u){var s=r(n);if(s instanceof e)return a(s);if(null===(n=o.asArray(n)))return i("expecting an array or an iterable object but got "+o.classString(n));var c=new e(t);void 0!==u&&c._propagateFrom(u,3);for(var l=c._fulfill,f=c._reject,p=0,h=n.length;p<h;++p){var d=n[p];(void 0!==d||p in n)&&e.cast(d)._then(l,f,void 0,c,null)}return c}e.race=function(e){return u(e,void 0)},e.prototype.race=function(){return u(this,void 0)}}},function(e,t,n){"use strict";e.exports=function(e,t,r,i,o,a){var u=e._getDomain,s=n(0),c=s.tryCatch;function l(t,n,r,i){this.constructor$(t);var a=u();this._fn=null===a?n:s.domainBind(a,n),void 0!==r&&(r=e.resolve(r))._attachCancellationCallback(this),this._initialValue=r,this._currentCancellable=null,this._eachValues=i===o?Array(this._length):0===i?null:void 0,this._promise._captureStackTrace(),this._init$(void 0,-5)}function f(e,t){this.isFulfilled()?t._resolve(e):t._reject(e)}function p(e,t,n,i){return"function"!=typeof t?r("expecting a function but got "+s.classString(t)):new l(e,t,n,i).promise()}function h(t){this.accum=t,this.array._gotAccum(t);var n=i(this.value,this.array._promise);return n instanceof e?(this.array._currentCancellable=n,n._then(d,void 0,void 0,this,void 0)):d.call(this,n)}function d(t){var n,r=this.array,i=r._promise,o=c(r._fn);i._pushContext(),(n=void 0!==r._eachValues?o.call(i._boundValue(),t,this.index,this.length):o.call(i._boundValue(),this.accum,t,this.index,this.length))instanceof e&&(r._currentCancellable=n);var u=i._popContext();return a.checkForgottenReturns(n,u,void 0!==r._eachValues?"Promise.each":"Promise.reduce",i),n}s.inherits(l,t),l.prototype._gotAccum=function(e){void 0!==this._eachValues&&null!==this._eachValues&&e!==o&&this._eachValues.push(e)},l.prototype._eachComplete=function(e){return null!==this._eachValues&&this._eachValues.push(e),this._eachValues},l.prototype._init=function(){},l.prototype._resolveEmptyArray=function(){this._resolve(void 0!==this._eachValues?this._eachValues:this._initialValue)},l.prototype.shouldCopyValues=function(){return!1},l.prototype._resolve=function(e){this._promise._resolveCallback(e),this._values=null},l.prototype._resultCancelled=function(t){if(t===this._initialValue)return this._cancel();this._isResolved()||(this._resultCancelled$(),this._currentCancellable instanceof e&&this._currentCancellable.cancel(),this._initialValue instanceof e&&this._initialValue.cancel())},l.prototype._iterate=function(t){var n,r;this._values=t;var i=t.length;if(void 0!==this._initialValue?(n=this._initialValue,r=0):(n=e.resolve(t[0]),r=1),this._currentCancellable=n,!n.isRejected())for(;r<i;++r){var o={accum:null,value:t[r],index:r,length:i,array:this};n=n._then(h,void 0,void 0,o,void 0)}void 0!==this._eachValues&&(n=n._then(this._eachComplete,void 0,void 0,this,void 0)),n._then(f,f,void 0,n,this)},e.prototype.reduce=function(e,t){return p(this,e,t,null)},e.reduce=function(e,t,n,r){return p(e,t,n,r)}}},function(e,t,n){"use strict";e.exports=function(e,t,r){var i=e.PromiseInspection;function o(e){this.constructor$(e)}n(0).inherits(o,t),o.prototype._promiseResolved=function(e,t){return this._values[e]=t,++this._totalResolved>=this._length&&(this._resolve(this._values),!0)},o.prototype._promiseFulfilled=function(e,t){var n=new i;return n._bitField=33554432,n._settledValueField=e,this._promiseResolved(t,n)},o.prototype._promiseRejected=function(e,t){var n=new i;return n._bitField=16777216,n._settledValueField=e,this._promiseResolved(t,n)},e.settle=function(e){return r.deprecated(".settle()",".reflect()"),new o(e).promise()},e.prototype.settle=function(){return e.settle(this)}}},function(e,t,n){"use strict";e.exports=function(e,t,r){var i=n(0),o=n(7).RangeError,a=n(7).AggregateError,u=i.isArray,s={};function c(e){this.constructor$(e),this._howMany=0,this._unwrap=!1,this._initialized=!1}function l(e,t){if((0|t)!==t||t<0)return r("expecting a positive integer\n\n    See http://goo.gl/MqrFmX\n");var n=new c(e),i=n.promise();return n.setHowMany(t),n.init(),i}i.inherits(c,t),c.prototype._init=function(){if(this._initialized)if(0!==this._howMany){this._init$(void 0,-5);var e=u(this._values);!this._isResolved()&&e&&this._howMany>this._canPossiblyFulfill()&&this._reject(this._getRangeError(this.length()))}else this._resolve([])},c.prototype.init=function(){this._initialized=!0,this._init()},c.prototype.setUnwrap=function(){this._unwrap=!0},c.prototype.howMany=function(){return this._howMany},c.prototype.setHowMany=function(e){this._howMany=e},c.prototype._promiseFulfilled=function(e){return this._addFulfilled(e),this._fulfilled()===this.howMany()&&(this._values.length=this.howMany(),1===this.howMany()&&this._unwrap?this._resolve(this._values[0]):this._resolve(this._values),!0)},c.prototype._promiseRejected=function(e){return this._addRejected(e),this._checkOutcome()},c.prototype._promiseCancelled=function(){return this._values instanceof e||null==this._values?this._cancel():(this._addRejected(s),this._checkOutcome())},c.prototype._checkOutcome=function(){if(this.howMany()>this._canPossiblyFulfill()){for(var e=new a,t=this.length();t<this._values.length;++t)this._values[t]!==s&&e.push(this._values[t]);return e.length>0?this._reject(e):this._cancel(),!0}return!1},c.prototype._fulfilled=function(){return this._totalResolved},c.prototype._rejected=function(){return this._values.length-this.length()},c.prototype._addRejected=function(e){this._values.push(e)},c.prototype._addFulfilled=function(e){this._values[this._totalResolved++]=e},c.prototype._canPossiblyFulfill=function(){return this.length()-this._rejected()},c.prototype._getRangeError=function(e){var t="Input array must contain at least "+this._howMany+" items but contains only "+e+" items";return new o(t)},c.prototype._resolveEmptyArray=function(){this._reject(this._getRangeError(0))},e.some=function(e,t){return l(e,t)},e.prototype.some=function(e){return l(this,e)},e._SomePromiseArray=c}},function(e,t,n){"use strict";e.exports=function(e,t){var n=e.map;e.prototype.filter=function(e,r){return n(this,e,r,t)},e.filter=function(e,r,i){return n(e,r,i,t)}}},function(e,t,n){"use strict";e.exports=function(e,t){var n=e.reduce,r=e.all;function i(){return r(this)}e.prototype.each=function(e){return n(this,e,t,0)._then(i,void 0,void 0,this,void 0)},e.prototype.mapSeries=function(e){return n(this,e,t,t)},e.each=function(e,r){return n(e,r,t,0)._then(i,void 0,void 0,e,void 0)},e.mapSeries=function(e,r){return n(e,r,t,t)}}},function(e,t,n){"use strict";e.exports=function(e){var t=e._SomePromiseArray;function n(e){var n=new t(e),r=n.promise();return n.setHowMany(1),n.setUnwrap(),n.init(),r}e.any=function(e){return n(e)},e.prototype.any=function(){return n(this)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.queryNotes=void 0;var r=n(20),i=n(21),o=n(12),a=n(8);t.queryNotes=function(e,t){(0,o.loadDB)().then(function(){r.Note.query(function(e){e.orderBy("updated_at","DESC")}).fetchAll({withRelated:["tag"]}).then(function(t){var n=[];t.forEach(function(e){n.push(i.NoteModel.fromDBData(e))}),e(n)}).catch(function(e){(0,a.executeIfDefined)(t,e)})}).catch(function(e){throw new Error("Failed to load database: "+e)})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.deleteTagFromDB=t.cascadeDeleteNote=void 0;var r=n(12),i=n(20),o=n(8);function a(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function r(i,o){try{var a=t[i](o),u=a.value}catch(e){return void n(e)}if(!a.done)return Promise.resolve(u).then(function(e){r("next",e)},function(e){r("throw",e)});e(u)}("next")})}}t.cascadeDeleteNote=function(e,t,n){var u=this;if(!e.id)throw new Error("Attempting to delete a note that has never recieved an SQLite id. This is probably bad.");(0,r.loadDB)().then(a(regeneratorRuntime.mark(function r(){return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,i.Note.forge({id:e.id}).destroy().catch(function(e){(0,o.executeIfDefined)(n,e)});case 2:(0,o.deleteNoteContent)(e),(0,o.executeIfDefined)(t);case 4:case"end":return r.stop()}},r,u)}))).catch(function(e){throw new Error("Failed to load database: "+e)})},t.deleteTagFromDB=function(e,t,n){var u=this;if(!e.id)throw new Error("Attempting to delete a tag that has never recieved an SQLite id. This is probably bad.");(0,r.loadDB)().then(a(regeneratorRuntime.mark(function r(){return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,i.Tag.forge({id:e.id}).destroy().catch(function(e){(0,o.executeIfDefined)(n,e)});case 2:(0,o.executeIfDefined)(t);case 3:case"end":return r.stop()}},r,u)}))).catch(function(e){throw new Error("Failed to load database: "+e)})}},function(e,t){e.exports=require("@react-mutate/loader")},function(e,t){e.exports=require("json-parse-safe")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=(r=["\n  padding: ",";\n  .public-DraftEditorPlaceholder-inner {\n    pointer-events: none;\n    color: #aaaaaa;\n  }\n"],i=["\n  padding: ",";\n  .public-DraftEditorPlaceholder-inner {\n    pointer-events: none;\n    color: #aaaaaa;\n  }\n"],Object.freeze(Object.defineProperties(r,{raw:{value:Object.freeze(i)}}))),s=v(n(1)),c=v(n(3)),l=n(16),f=n(6),p=v(n(2)),h=n(4),d=n(24),_=n(115);function v(e){return e&&e.__esModule?e:{default:e}}var y=p.default.div(u,function(e){return e.theme.spacing.padding}),m=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleFocus=function(){n.domEditor&&n.props.focused&&n.domEditor.focus()},n.finishedLoadingContent=function(){n.props.note.getContent().then(function(e){var t=(0,d.deSerializeContent)(e[n.props.note.mutationName]);n.props.onContentLoaded&&n.props.onContentLoaded(t)})},n.onChange=function(e){var t=(0,d.serializeContent)(e),r=(0,_.serializePreview)(e);n.props.onChangeEx&&n.props.onChangeEx(e,t,r)},n.onBlur=function(){n.props.onBlurEx&&n.props.onBlurEx()},n.setDomEditorRef=function(e){return n.domEditor=e},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.default.Component),a(t,[{key:"componentDidUpdate",value:function(e){!0===e.isLoadingContent&&!1===this.props.isLoadingContent&&this.finishedLoadingContent()}},{key:"componentDidMount",value:function(){this.handleFocus()}},{key:"render",value:function(){return s.default.createElement(y,null,s.default.createElement(l.Editor,o({className:"editor",ref:this.setDomEditorRef,onChange:this.onChange,onBlur:this.onBlur,onFocus:this.onFocus,editorState:this.props.ourEditorState,handleKeyCommand:this.handleKeyCommand},this.props)))}}]),t}();m.propTypes={onChangeEx:c.default.func,onBlurEx:c.default.func,onContentLoaded:c.default.func,selectNote:c.default.object,ourEditorState:c.default.object.isRequired,isLoadingContent:c.default.bool.isRequired},t.default=(0,h.connect)()((0,f.mutate)(m,"BaseEditor"))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.serializePreview=function(e){if(null===e)return{text:"No preview"};return{text:function(e){var t=e||"New Note";return t.length>r?t.substring(0,r-3)+"...":t}(e.getCurrentContent().getFirstBlock().text)}};var r=40},function(e,t,n){var r;r=function(){"use strict";var e=Array.prototype.slice;function t(e,t){t&&(e.prototype=Object.create(t.prototype)),e.prototype.constructor=e}function n(e){return a(e)?e:W(e)}function r(e){return u(e)?e:Q(e)}function i(e){return s(e)?e:G(e)}function o(e){return a(e)&&!c(e)?e:$(e)}function a(e){return!(!e||!e[f])}function u(e){return!(!e||!e[p])}function s(e){return!(!e||!e[h])}function c(e){return u(e)||s(e)}function l(e){return!(!e||!e[d])}t(r,n),t(i,n),t(o,n),n.isIterable=a,n.isKeyed=u,n.isIndexed=s,n.isAssociative=c,n.isOrdered=l,n.Keyed=r,n.Indexed=i,n.Set=o;var f="@@__IMMUTABLE_ITERABLE__@@",p="@@__IMMUTABLE_KEYED__@@",h="@@__IMMUTABLE_INDEXED__@@",d="@@__IMMUTABLE_ORDERED__@@",_=5,v=1<<_,y=v-1,m={},g={value:!1},b={value:!1};function w(e){return e.value=!1,e}function E(e){e&&(e.value=!0)}function x(){}function O(e,t){t=t||0;for(var n=Math.max(0,e.length-t),r=new Array(n),i=0;i<n;i++)r[i]=e[i+t];return r}function j(e){return void 0===e.size&&(e.size=e.__iterate(C)),e.size}function S(e,t){if("number"!=typeof t){var n=t>>>0;if(""+n!==t||4294967295===n)return NaN;t=n}return t<0?j(e)+t:t}function C(){return!0}function k(e,t,n){return(0===e||void 0!==n&&e<=-n)&&(void 0===t||void 0!==n&&t>=n)}function P(e,t){return N(e,t,0)}function T(e,t){return N(e,t,t)}function N(e,t,n){return void 0===e?n:e<0?Math.max(0,t+e):void 0===t?e:Math.min(t,e)}var M=0,R=1,F=2,z="function"==typeof Symbol&&Symbol.iterator,I="@@iterator",A=z||I;function D(e){this.next=e}function q(e,t,n,r){var i=0===e?t:1===e?n:[t,n];return r?r.value=i:r={value:i,done:!1},r}function L(){return{value:void 0,done:!0}}function B(e){return!!H(e)}function U(e){return e&&"function"==typeof e.next}function V(e){var t=H(e);return t&&t.call(e)}function H(e){var t=e&&(z&&e[z]||e[I]);if("function"==typeof t)return t}function K(e){return e&&"number"==typeof e.length}function W(e){return null===e||void 0===e?oe():a(e)?e.toSeq():function(e){var t=se(e)||"object"==typeof e&&new te(e);if(!t)throw new TypeError("Expected Array or iterable object of values, or keyed object: "+e);return t}(e)}function Q(e){return null===e||void 0===e?oe().toKeyedSeq():a(e)?u(e)?e.toSeq():e.fromEntrySeq():ae(e)}function G(e){return null===e||void 0===e?oe():a(e)?u(e)?e.entrySeq():e.toIndexedSeq():ue(e)}function $(e){return(null===e||void 0===e?oe():a(e)?u(e)?e.entrySeq():e:ue(e)).toSetSeq()}D.prototype.toString=function(){return"[Iterator]"},D.KEYS=M,D.VALUES=R,D.ENTRIES=F,D.prototype.inspect=D.prototype.toSource=function(){return this.toString()},D.prototype[A]=function(){return this},t(W,n),W.of=function(){return W(arguments)},W.prototype.toSeq=function(){return this},W.prototype.toString=function(){return this.__toString("Seq {","}")},W.prototype.cacheResult=function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},W.prototype.__iterate=function(e,t){return ce(this,e,t,!0)},W.prototype.__iterator=function(e,t){return le(this,e,t,!0)},t(Q,W),Q.prototype.toKeyedSeq=function(){return this},t(G,W),G.of=function(){return G(arguments)},G.prototype.toIndexedSeq=function(){return this},G.prototype.toString=function(){return this.__toString("Seq [","]")},G.prototype.__iterate=function(e,t){return ce(this,e,t,!1)},G.prototype.__iterator=function(e,t){return le(this,e,t,!1)},t($,W),$.of=function(){return $(arguments)},$.prototype.toSetSeq=function(){return this},W.isSeq=ie,W.Keyed=Q,W.Set=$,W.Indexed=G;var J,X,Y,Z="@@__IMMUTABLE_SEQ__@@";function ee(e){this._array=e,this.size=e.length}function te(e){var t=Object.keys(e);this._object=e,this._keys=t,this.size=t.length}function ne(e){this._iterable=e,this.size=e.length||e.size}function re(e){this._iterator=e,this._iteratorCache=[]}function ie(e){return!(!e||!e[Z])}function oe(){return J||(J=new ee([]))}function ae(e){var t=Array.isArray(e)?new ee(e).fromEntrySeq():U(e)?new re(e).fromEntrySeq():B(e)?new ne(e).fromEntrySeq():"object"==typeof e?new te(e):void 0;if(!t)throw new TypeError("Expected Array or iterable object of [k, v] entries, or keyed object: "+e);return t}function ue(e){var t=se(e);if(!t)throw new TypeError("Expected Array or iterable object of values: "+e);return t}function se(e){return K(e)?new ee(e):U(e)?new re(e):B(e)?new ne(e):void 0}function ce(e,t,n,r){var i=e._cache;if(i){for(var o=i.length-1,a=0;a<=o;a++){var u=i[n?o-a:a];if(!1===t(u[1],r?u[0]:a,e))return a+1}return a}return e.__iterateUncached(t,n)}function le(e,t,n,r){var i=e._cache;if(i){var o=i.length-1,a=0;return new D(function(){var e=i[n?o-a:a];return a++>o?{value:void 0,done:!0}:q(t,r?e[0]:a-1,e[1])})}return e.__iteratorUncached(t,n)}function fe(e,t){return t?function e(t,n,r,i){if(Array.isArray(n))return t.call(i,r,G(n).map(function(r,i){return e(t,r,i,n)}));if(he(n))return t.call(i,r,Q(n).map(function(r,i){return e(t,r,i,n)}));return n}(t,e,"",{"":e}):pe(e)}function pe(e){return Array.isArray(e)?G(e).map(pe).toList():he(e)?Q(e).map(pe).toMap():e}function he(e){return e&&(e.constructor===Object||void 0===e.constructor)}function de(e,t){if(e===t||e!=e&&t!=t)return!0;if(!e||!t)return!1;if("function"==typeof e.valueOf&&"function"==typeof t.valueOf){if((e=e.valueOf())===(t=t.valueOf())||e!=e&&t!=t)return!0;if(!e||!t)return!1}return!("function"!=typeof e.equals||"function"!=typeof t.equals||!e.equals(t))}function _e(e,t){if(e===t)return!0;if(!a(t)||void 0!==e.size&&void 0!==t.size&&e.size!==t.size||void 0!==e.__hash&&void 0!==t.__hash&&e.__hash!==t.__hash||u(e)!==u(t)||s(e)!==s(t)||l(e)!==l(t))return!1;if(0===e.size&&0===t.size)return!0;var n=!c(e);if(l(e)){var r=e.entries();return t.every(function(e,t){var i=r.next().value;return i&&de(i[1],e)&&(n||de(i[0],t))})&&r.next().done}var i=!1;if(void 0===e.size)if(void 0===t.size)"function"==typeof e.cacheResult&&e.cacheResult();else{i=!0;var o=e;e=t,t=o}var f=!0,p=t.__iterate(function(t,r){if(n?!e.has(t):i?!de(t,e.get(r,m)):!de(e.get(r,m),t))return f=!1,!1});return f&&e.size===p}function ve(e,t){if(!(this instanceof ve))return new ve(e,t);if(this._value=e,this.size=void 0===t?1/0:Math.max(0,t),0===this.size){if(X)return X;X=this}}function ye(e,t){if(!e)throw new Error(t)}function me(e,t,n){if(!(this instanceof me))return new me(e,t,n);if(ye(0!==n,"Cannot step a Range by 0"),e=e||0,void 0===t&&(t=1/0),n=void 0===n?1:Math.abs(n),t<e&&(n=-n),this._start=e,this._end=t,this._step=n,this.size=Math.max(0,Math.ceil((t-e)/n-1)+1),0===this.size){if(Y)return Y;Y=this}}function ge(){throw TypeError("Abstract")}function be(){}function we(){}function Ee(){}W.prototype[Z]=!0,t(ee,G),ee.prototype.get=function(e,t){return this.has(e)?this._array[S(this,e)]:t},ee.prototype.__iterate=function(e,t){for(var n=this._array,r=n.length-1,i=0;i<=r;i++)if(!1===e(n[t?r-i:i],i,this))return i+1;return i},ee.prototype.__iterator=function(e,t){var n=this._array,r=n.length-1,i=0;return new D(function(){return i>r?{value:void 0,done:!0}:q(e,i,n[t?r-i++:i++])})},t(te,Q),te.prototype.get=function(e,t){return void 0===t||this.has(e)?this._object[e]:t},te.prototype.has=function(e){return this._object.hasOwnProperty(e)},te.prototype.__iterate=function(e,t){for(var n=this._object,r=this._keys,i=r.length-1,o=0;o<=i;o++){var a=r[t?i-o:o];if(!1===e(n[a],a,this))return o+1}return o},te.prototype.__iterator=function(e,t){var n=this._object,r=this._keys,i=r.length-1,o=0;return new D(function(){var a=r[t?i-o:o];return o++>i?{value:void 0,done:!0}:q(e,a,n[a])})},te.prototype[d]=!0,t(ne,G),ne.prototype.__iterateUncached=function(e,t){if(t)return this.cacheResult().__iterate(e,t);var n=V(this._iterable),r=0;if(U(n))for(var i;!(i=n.next()).done&&!1!==e(i.value,r++,this););return r},ne.prototype.__iteratorUncached=function(e,t){if(t)return this.cacheResult().__iterator(e,t);var n=V(this._iterable);if(!U(n))return new D(L);var r=0;return new D(function(){var t=n.next();return t.done?t:q(e,r++,t.value)})},t(re,G),re.prototype.__iterateUncached=function(e,t){if(t)return this.cacheResult().__iterate(e,t);for(var n,r=this._iterator,i=this._iteratorCache,o=0;o<i.length;)if(!1===e(i[o],o++,this))return o;for(;!(n=r.next()).done;){var a=n.value;if(i[o]=a,!1===e(a,o++,this))break}return o},re.prototype.__iteratorUncached=function(e,t){if(t)return this.cacheResult().__iterator(e,t);var n=this._iterator,r=this._iteratorCache,i=0;return new D(function(){if(i>=r.length){var t=n.next();if(t.done)return t;r[i]=t.value}return q(e,i,r[i++])})},t(ve,G),ve.prototype.toString=function(){return 0===this.size?"Repeat []":"Repeat [ "+this._value+" "+this.size+" times ]"},ve.prototype.get=function(e,t){return this.has(e)?this._value:t},ve.prototype.includes=function(e){return de(this._value,e)},ve.prototype.slice=function(e,t){var n=this.size;return k(e,t,n)?this:new ve(this._value,T(t,n)-P(e,n))},ve.prototype.reverse=function(){return this},ve.prototype.indexOf=function(e){return de(this._value,e)?0:-1},ve.prototype.lastIndexOf=function(e){return de(this._value,e)?this.size:-1},ve.prototype.__iterate=function(e,t){for(var n=0;n<this.size;n++)if(!1===e(this._value,n,this))return n+1;return n},ve.prototype.__iterator=function(e,t){var n=this,r=0;return new D(function(){return r<n.size?q(e,r++,n._value):{value:void 0,done:!0}})},ve.prototype.equals=function(e){return e instanceof ve?de(this._value,e._value):_e(e)},t(me,G),me.prototype.toString=function(){return 0===this.size?"Range []":"Range [ "+this._start+"..."+this._end+(this._step>1?" by "+this._step:"")+" ]"},me.prototype.get=function(e,t){return this.has(e)?this._start+S(this,e)*this._step:t},me.prototype.includes=function(e){var t=(e-this._start)/this._step;return t>=0&&t<this.size&&t===Math.floor(t)},me.prototype.slice=function(e,t){return k(e,t,this.size)?this:(e=P(e,this.size),(t=T(t,this.size))<=e?new me(0,0):new me(this.get(e,this._end),this.get(t,this._end),this._step))},me.prototype.indexOf=function(e){var t=e-this._start;if(t%this._step==0){var n=t/this._step;if(n>=0&&n<this.size)return n}return-1},me.prototype.lastIndexOf=function(e){return this.indexOf(e)},me.prototype.__iterate=function(e,t){for(var n=this.size-1,r=this._step,i=t?this._start+n*r:this._start,o=0;o<=n;o++){if(!1===e(i,o,this))return o+1;i+=t?-r:r}return o},me.prototype.__iterator=function(e,t){var n=this.size-1,r=this._step,i=t?this._start+n*r:this._start,o=0;return new D(function(){var a=i;return i+=t?-r:r,o>n?{value:void 0,done:!0}:q(e,o++,a)})},me.prototype.equals=function(e){return e instanceof me?this._start===e._start&&this._end===e._end&&this._step===e._step:_e(this,e)},t(ge,n),t(be,ge),t(we,ge),t(Ee,ge),ge.Keyed=be,ge.Indexed=we,ge.Set=Ee;var xe="function"==typeof Math.imul&&-2===Math.imul(4294967295,2)?Math.imul:function(e,t){var n=65535&(e|=0),r=65535&(t|=0);return n*r+((e>>>16)*r+n*(t>>>16)<<16>>>0)|0};function Oe(e){return e>>>1&1073741824|3221225471&e}function je(e){if(!1===e||null===e||void 0===e)return 0;if("function"==typeof e.valueOf&&(!1===(e=e.valueOf())||null===e||void 0===e))return 0;if(!0===e)return 1;var t=typeof e;if("number"===t){var n=0|e;for(n!==e&&(n^=4294967295*e);e>4294967295;)n^=e/=4294967295;return Oe(n)}if("string"===t)return e.length>Re?function(e){var t=Ie[e];void 0===t&&(t=Se(e),ze===Fe&&(ze=0,Ie={}),ze++,Ie[e]=t);return t}(e):Se(e);if("function"==typeof e.hashCode)return e.hashCode();if("object"===t)return function(e){var t;if(Te&&void 0!==(t=Pe.get(e)))return t;if(void 0!==(t=e[Me]))return t;if(!ke){if(void 0!==(t=e.propertyIsEnumerable&&e.propertyIsEnumerable[Me]))return t;if(void 0!==(t=function(e){if(e&&e.nodeType>0)switch(e.nodeType){case 1:return e.uniqueID;case 9:return e.documentElement&&e.documentElement.uniqueID}}(e)))return t}t=++Ne,1073741824&Ne&&(Ne=0);if(Te)Pe.set(e,t);else{if(void 0!==Ce&&!1===Ce(e))throw new Error("Non-extensible objects are not allowed as keys.");if(ke)Object.defineProperty(e,Me,{enumerable:!1,configurable:!1,writable:!1,value:t});else if(void 0!==e.propertyIsEnumerable&&e.propertyIsEnumerable===e.constructor.prototype.propertyIsEnumerable)e.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},e.propertyIsEnumerable[Me]=t;else{if(void 0===e.nodeType)throw new Error("Unable to set a non-enumerable property on object.");e[Me]=t}}return t}(e);if("function"==typeof e.toString)return Se(e.toString());throw new Error("Value type "+t+" cannot be hashed.")}function Se(e){for(var t=0,n=0;n<e.length;n++)t=31*t+e.charCodeAt(n)|0;return Oe(t)}var Ce=Object.isExtensible,ke=function(){try{return Object.defineProperty({},"@",{}),!0}catch(e){return!1}}();var Pe,Te="function"==typeof WeakMap;Te&&(Pe=new WeakMap);var Ne=0,Me="__immutablehash__";"function"==typeof Symbol&&(Me=Symbol(Me));var Re=16,Fe=255,ze=0,Ie={};function Ae(e){ye(e!==1/0,"Cannot perform this action with an infinite size.")}function De(e){return null===e||void 0===e?Ye():qe(e)&&!l(e)?e:Ye().withMutations(function(t){var n=r(e);Ae(n.size),n.forEach(function(e,n){return t.set(n,e)})})}function qe(e){return!(!e||!e[Be])}t(De,be),De.prototype.toString=function(){return this.__toString("Map {","}")},De.prototype.get=function(e,t){return this._root?this._root.get(0,void 0,e,t):t},De.prototype.set=function(e,t){return Ze(this,e,t)},De.prototype.setIn=function(e,t){return this.updateIn(e,m,function(){return t})},De.prototype.remove=function(e){return Ze(this,e,m)},De.prototype.deleteIn=function(e){return this.updateIn(e,function(){return m})},De.prototype.update=function(e,t,n){return 1===arguments.length?e(this):this.updateIn([e],t,n)},De.prototype.updateIn=function(e,t,n){n||(n=t,t=void 0);var r=function e(t,n,r,i){var o=t===m;var a=n.next();if(a.done){var u=o?r:t,s=i(u);return s===u?t:s}ye(o||t&&t.set,"invalid keyPath");var c=a.value;var l=o?m:t.get(c,m);var f=e(l,n,r,i);return f===l?t:f===m?t.remove(c):(o?Ye():t).set(c,f)}(this,nn(e),t,n);return r===m?void 0:r},De.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=void 0,this.__altered=!0,this):Ye()},De.prototype.merge=function(){return rt(this,void 0,arguments)},De.prototype.mergeWith=function(t){return rt(this,t,e.call(arguments,1))},De.prototype.mergeIn=function(t){var n=e.call(arguments,1);return this.updateIn(t,Ye(),function(e){return"function"==typeof e.merge?e.merge.apply(e,n):n[n.length-1]})},De.prototype.mergeDeep=function(){return rt(this,it,arguments)},De.prototype.mergeDeepWith=function(t){var n=e.call(arguments,1);return rt(this,ot(t),n)},De.prototype.mergeDeepIn=function(t){var n=e.call(arguments,1);return this.updateIn(t,Ye(),function(e){return"function"==typeof e.mergeDeep?e.mergeDeep.apply(e,n):n[n.length-1]})},De.prototype.sort=function(e){return Pt(Kt(this,e))},De.prototype.sortBy=function(e,t){return Pt(Kt(this,t,e))},De.prototype.withMutations=function(e){var t=this.asMutable();return e(t),t.wasAltered()?t.__ensureOwner(this.__ownerID):this},De.prototype.asMutable=function(){return this.__ownerID?this:this.__ensureOwner(new x)},De.prototype.asImmutable=function(){return this.__ensureOwner()},De.prototype.wasAltered=function(){return this.__altered},De.prototype.__iterator=function(e,t){return new Ge(this,e,t)},De.prototype.__iterate=function(e,t){var n=this,r=0;return this._root&&this._root.iterate(function(t){return r++,e(t[1],t[0],n)},t),r},De.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?Xe(this.size,this._root,e,this.__hash):(this.__ownerID=e,this.__altered=!1,this)},De.isMap=qe;var Le,Be="@@__IMMUTABLE_MAP__@@",Ue=De.prototype;function Ve(e,t){this.ownerID=e,this.entries=t}function He(e,t,n){this.ownerID=e,this.bitmap=t,this.nodes=n}function Ke(e,t,n){this.ownerID=e,this.count=t,this.nodes=n}function We(e,t,n){this.ownerID=e,this.keyHash=t,this.entries=n}function Qe(e,t,n){this.ownerID=e,this.keyHash=t,this.entry=n}function Ge(e,t,n){this._type=t,this._reverse=n,this._stack=e._root&&Je(e._root)}function $e(e,t){return q(e,t[0],t[1])}function Je(e,t){return{node:e,index:0,__prev:t}}function Xe(e,t,n,r){var i=Object.create(Ue);return i.size=e,i._root=t,i.__ownerID=n,i.__hash=r,i.__altered=!1,i}function Ye(){return Le||(Le=Xe(0))}function Ze(e,t,n){var r,i;if(e._root){var o=w(g),a=w(b);if(r=et(e._root,e.__ownerID,0,void 0,t,n,o,a),!a.value)return e;i=e.size+(o.value?n===m?-1:1:0)}else{if(n===m)return e;i=1,r=new Ve(e.__ownerID,[[t,n]])}return e.__ownerID?(e.size=i,e._root=r,e.__hash=void 0,e.__altered=!0,e):r?Xe(i,r):Ye()}function et(e,t,n,r,i,o,a,u){return e?e.update(t,n,r,i,o,a,u):o===m?e:(E(u),E(a),new Qe(t,r,[i,o]))}function tt(e){return e.constructor===Qe||e.constructor===We}function nt(e,t,n,r,i){if(e.keyHash===r)return new We(t,r,[e.entry,i]);var o,a=(0===n?e.keyHash:e.keyHash>>>n)&y,u=(0===n?r:r>>>n)&y;return new He(t,1<<a|1<<u,a===u?[nt(e,t,n+_,r,i)]:(o=new Qe(t,r,i),a<u?[e,o]:[o,e]))}function rt(e,t,n){for(var i=[],o=0;o<n.length;o++){var u=n[o],s=r(u);a(u)||(s=s.map(function(e){return fe(e)})),i.push(s)}return at(e,t,i)}function it(e,t,n){return e&&e.mergeDeep&&a(t)?e.mergeDeep(t):de(e,t)?e:t}function ot(e){return function(t,n,r){if(t&&t.mergeDeepWith&&a(n))return t.mergeDeepWith(e,n);var i=e(t,n,r);return de(t,i)?t:i}}function at(e,t,n){return 0===(n=n.filter(function(e){return 0!==e.size})).length?e:0!==e.size||e.__ownerID||1!==n.length?e.withMutations(function(e){for(var r=t?function(n,r){e.update(r,m,function(e){return e===m?n:t(e,n,r)})}:function(t,n){e.set(n,t)},i=0;i<n.length;i++)n[i].forEach(r)}):e.constructor(n[0])}function ut(e){return e=(e=(858993459&(e-=e>>1&1431655765))+(e>>2&858993459))+(e>>4)&252645135,e+=e>>8,127&(e+=e>>16)}function st(e,t,n,r){var i=r?e:O(e);return i[t]=n,i}Ue[Be]=!0,Ue.delete=Ue.remove,Ue.removeIn=Ue.deleteIn,Ve.prototype.get=function(e,t,n,r){for(var i=this.entries,o=0,a=i.length;o<a;o++)if(de(n,i[o][0]))return i[o][1];return r},Ve.prototype.update=function(e,t,n,r,i,o,a){for(var u=i===m,s=this.entries,c=0,l=s.length;c<l&&!de(r,s[c][0]);c++);var f=c<l;if(f?s[c][1]===i:u)return this;if(E(a),(u||!f)&&E(o),!u||1!==s.length){if(!f&&!u&&s.length>=ct)return function(e,t,n,r){e||(e=new x);for(var i=new Qe(e,je(n),[n,r]),o=0;o<t.length;o++){var a=t[o];i=i.update(e,0,void 0,a[0],a[1])}return i}(e,s,r,i);var p=e&&e===this.ownerID,h=p?s:O(s);return f?u?c===l-1?h.pop():h[c]=h.pop():h[c]=[r,i]:h.push([r,i]),p?(this.entries=h,this):new Ve(e,h)}},He.prototype.get=function(e,t,n,r){void 0===t&&(t=je(n));var i=1<<((0===e?t:t>>>e)&y),o=this.bitmap;return 0==(o&i)?r:this.nodes[ut(o&i-1)].get(e+_,t,n,r)},He.prototype.update=function(e,t,n,r,i,o,a){void 0===n&&(n=je(r));var u=(0===t?n:n>>>t)&y,s=1<<u,c=this.bitmap,l=0!=(c&s);if(!l&&i===m)return this;var f=ut(c&s-1),p=this.nodes,h=l?p[f]:void 0,d=et(h,e,t+_,n,r,i,o,a);if(d===h)return this;if(!l&&d&&p.length>=lt)return function(e,t,n,r,i){for(var o=0,a=new Array(v),u=0;0!==n;u++,n>>>=1)a[u]=1&n?t[o++]:void 0;return a[r]=i,new Ke(e,o+1,a)}(e,p,c,u,d);if(l&&!d&&2===p.length&&tt(p[1^f]))return p[1^f];if(l&&d&&1===p.length&&tt(d))return d;var g=e&&e===this.ownerID,b=l?d?c:c^s:c|s,w=l?d?st(p,f,d,g):function(e,t,n){var r=e.length-1;if(n&&t===r)return e.pop(),e;for(var i=new Array(r),o=0,a=0;a<r;a++)a===t&&(o=1),i[a]=e[a+o];return i}(p,f,g):function(e,t,n,r){var i=e.length+1;if(r&&t+1===i)return e[t]=n,e;for(var o=new Array(i),a=0,u=0;u<i;u++)u===t?(o[u]=n,a=-1):o[u]=e[u+a];return o}(p,f,d,g);return g?(this.bitmap=b,this.nodes=w,this):new He(e,b,w)},Ke.prototype.get=function(e,t,n,r){void 0===t&&(t=je(n));var i=(0===e?t:t>>>e)&y,o=this.nodes[i];return o?o.get(e+_,t,n,r):r},Ke.prototype.update=function(e,t,n,r,i,o,a){void 0===n&&(n=je(r));var u=(0===t?n:n>>>t)&y,s=i===m,c=this.nodes,l=c[u];if(s&&!l)return this;var f=et(l,e,t+_,n,r,i,o,a);if(f===l)return this;var p=this.count;if(l){if(!f&&--p<ft)return function(e,t,n,r){for(var i=0,o=0,a=new Array(n),u=0,s=1,c=t.length;u<c;u++,s<<=1){var l=t[u];void 0!==l&&u!==r&&(i|=s,a[o++]=l)}return new He(e,i,a)}(e,c,p,u)}else p++;var h=e&&e===this.ownerID,d=st(c,u,f,h);return h?(this.count=p,this.nodes=d,this):new Ke(e,p,d)},We.prototype.get=function(e,t,n,r){for(var i=this.entries,o=0,a=i.length;o<a;o++)if(de(n,i[o][0]))return i[o][1];return r},We.prototype.update=function(e,t,n,r,i,o,a){void 0===n&&(n=je(r));var u=i===m;if(n!==this.keyHash)return u?this:(E(a),E(o),nt(this,e,t,n,[r,i]));for(var s=this.entries,c=0,l=s.length;c<l&&!de(r,s[c][0]);c++);var f=c<l;if(f?s[c][1]===i:u)return this;if(E(a),(u||!f)&&E(o),u&&2===l)return new Qe(e,this.keyHash,s[1^c]);var p=e&&e===this.ownerID,h=p?s:O(s);return f?u?c===l-1?h.pop():h[c]=h.pop():h[c]=[r,i]:h.push([r,i]),p?(this.entries=h,this):new We(e,this.keyHash,h)},Qe.prototype.get=function(e,t,n,r){return de(n,this.entry[0])?this.entry[1]:r},Qe.prototype.update=function(e,t,n,r,i,o,a){var u=i===m,s=de(r,this.entry[0]);return(s?i===this.entry[1]:u)?this:(E(a),u?void E(o):s?e&&e===this.ownerID?(this.entry[1]=i,this):new Qe(e,this.keyHash,[r,i]):(E(o),nt(this,e,t,je(r),[r,i])))},Ve.prototype.iterate=We.prototype.iterate=function(e,t){for(var n=this.entries,r=0,i=n.length-1;r<=i;r++)if(!1===e(n[t?i-r:r]))return!1},He.prototype.iterate=Ke.prototype.iterate=function(e,t){for(var n=this.nodes,r=0,i=n.length-1;r<=i;r++){var o=n[t?i-r:r];if(o&&!1===o.iterate(e,t))return!1}},Qe.prototype.iterate=function(e,t){return e(this.entry)},t(Ge,D),Ge.prototype.next=function(){for(var e=this._type,t=this._stack;t;){var n,r=t.node,i=t.index++;if(r.entry){if(0===i)return $e(e,r.entry)}else if(r.entries){if(i<=(n=r.entries.length-1))return $e(e,r.entries[this._reverse?n-i:i])}else if(i<=(n=r.nodes.length-1)){var o=r.nodes[this._reverse?n-i:i];if(o){if(o.entry)return $e(e,o.entry);t=this._stack=Je(o,t)}continue}t=this._stack=this._stack.__prev}return{value:void 0,done:!0}};var ct=v/4,lt=v/2,ft=v/4;function pt(e){var t=Et();if(null===e||void 0===e)return t;if(ht(e))return e;var n=i(e),r=n.size;return 0===r?t:(Ae(r),r>0&&r<v?wt(0,r,_,null,new vt(n.toArray())):t.withMutations(function(e){e.setSize(r),n.forEach(function(t,n){return e.set(n,t)})}))}function ht(e){return!(!e||!e[dt])}t(pt,we),pt.of=function(){return this(arguments)},pt.prototype.toString=function(){return this.__toString("List [","]")},pt.prototype.get=function(e,t){if((e=S(this,e))>=0&&e<this.size){var n=jt(this,e+=this._origin);return n&&n.array[e&y]}return t},pt.prototype.set=function(e,t){return function(e,t,n){if((t=S(e,t))!=t)return e;if(t>=e.size||t<0)return e.withMutations(function(e){t<0?St(e,t).set(0,n):St(e,0,t+1).set(t,n)});t+=e._origin;var r=e._tail,i=e._root,o=w(b);t>=kt(e._capacity)?r=xt(r,e.__ownerID,0,t,n,o):i=xt(i,e.__ownerID,e._level,t,n,o);if(!o.value)return e;if(e.__ownerID)return e._root=i,e._tail=r,e.__hash=void 0,e.__altered=!0,e;return wt(e._origin,e._capacity,e._level,i,r)}(this,e,t)},pt.prototype.remove=function(e){return this.has(e)?0===e?this.shift():e===this.size-1?this.pop():this.splice(e,1):this},pt.prototype.insert=function(e,t){return this.splice(e,0,t)},pt.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=_,this._root=this._tail=null,this.__hash=void 0,this.__altered=!0,this):Et()},pt.prototype.push=function(){var e=arguments,t=this.size;return this.withMutations(function(n){St(n,0,t+e.length);for(var r=0;r<e.length;r++)n.set(t+r,e[r])})},pt.prototype.pop=function(){return St(this,0,-1)},pt.prototype.unshift=function(){var e=arguments;return this.withMutations(function(t){St(t,-e.length);for(var n=0;n<e.length;n++)t.set(n,e[n])})},pt.prototype.shift=function(){return St(this,1)},pt.prototype.merge=function(){return Ct(this,void 0,arguments)},pt.prototype.mergeWith=function(t){return Ct(this,t,e.call(arguments,1))},pt.prototype.mergeDeep=function(){return Ct(this,it,arguments)},pt.prototype.mergeDeepWith=function(t){var n=e.call(arguments,1);return Ct(this,ot(t),n)},pt.prototype.setSize=function(e){return St(this,0,e)},pt.prototype.slice=function(e,t){var n=this.size;return k(e,t,n)?this:St(this,P(e,n),T(t,n))},pt.prototype.__iterator=function(e,t){var n=0,r=bt(this,t);return new D(function(){var t=r();return t===gt?{value:void 0,done:!0}:q(e,n++,t)})},pt.prototype.__iterate=function(e,t){for(var n,r=0,i=bt(this,t);(n=i())!==gt&&!1!==e(n,r++,this););return r},pt.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?wt(this._origin,this._capacity,this._level,this._root,this._tail,e,this.__hash):(this.__ownerID=e,this)},pt.isList=ht;var dt="@@__IMMUTABLE_LIST__@@",_t=pt.prototype;function vt(e,t){this.array=e,this.ownerID=t}_t[dt]=!0,_t.delete=_t.remove,_t.setIn=Ue.setIn,_t.deleteIn=_t.removeIn=Ue.removeIn,_t.update=Ue.update,_t.updateIn=Ue.updateIn,_t.mergeIn=Ue.mergeIn,_t.mergeDeepIn=Ue.mergeDeepIn,_t.withMutations=Ue.withMutations,_t.asMutable=Ue.asMutable,_t.asImmutable=Ue.asImmutable,_t.wasAltered=Ue.wasAltered,vt.prototype.removeBefore=function(e,t,n){if(n===t?1<<t:0===this.array.length)return this;var r=n>>>t&y;if(r>=this.array.length)return new vt([],e);var i,o=0===r;if(t>0){var a=this.array[r];if((i=a&&a.removeBefore(e,t-_,n))===a&&o)return this}if(o&&!i)return this;var u=Ot(this,e);if(!o)for(var s=0;s<r;s++)u.array[s]=void 0;return i&&(u.array[r]=i),u},vt.prototype.removeAfter=function(e,t,n){if(n===(t?1<<t:0)||0===this.array.length)return this;var r,i=n-1>>>t&y;if(i>=this.array.length)return this;if(t>0){var o=this.array[i];if((r=o&&o.removeAfter(e,t-_,n))===o&&i===this.array.length-1)return this}var a=Ot(this,e);return a.array.splice(i+1),r&&(a.array[i]=r),a};var yt,mt,gt={};function bt(e,t){var n=e._origin,r=e._capacity,i=kt(r),o=e._tail;return a(e._root,e._level,0);function a(e,u,s){return 0===u?function(e,a){var u=a===i?o&&o.array:e&&e.array,s=a>n?0:n-a,c=r-a;c>v&&(c=v);return function(){if(s===c)return gt;var e=t?--c:s++;return u&&u[e]}}(e,s):function(e,i,o){var u,s=e&&e.array,c=o>n?0:n-o>>i,l=1+(r-o>>i);l>v&&(l=v);return function(){for(;;){if(u){var e=u();if(e!==gt)return e;u=null}if(c===l)return gt;var n=t?--l:c++;u=a(s&&s[n],i-_,o+(n<<i))}}}(e,u,s)}}function wt(e,t,n,r,i,o,a){var u=Object.create(_t);return u.size=t-e,u._origin=e,u._capacity=t,u._level=n,u._root=r,u._tail=i,u.__ownerID=o,u.__hash=a,u.__altered=!1,u}function Et(){return yt||(yt=wt(0,0,_))}function xt(e,t,n,r,i,o){var a,u=r>>>n&y,s=e&&u<e.array.length;if(!s&&void 0===i)return e;if(n>0){var c=e&&e.array[u],l=xt(c,t,n-_,r,i,o);return l===c?e:((a=Ot(e,t)).array[u]=l,a)}return s&&e.array[u]===i?e:(E(o),a=Ot(e,t),void 0===i&&u===a.array.length-1?a.array.pop():a.array[u]=i,a)}function Ot(e,t){return t&&e&&t===e.ownerID?e:new vt(e?e.array.slice():[],t)}function jt(e,t){if(t>=kt(e._capacity))return e._tail;if(t<1<<e._level+_){for(var n=e._root,r=e._level;n&&r>0;)n=n.array[t>>>r&y],r-=_;return n}}function St(e,t,n){void 0!==t&&(t|=0),void 0!==n&&(n|=0);var r=e.__ownerID||new x,i=e._origin,o=e._capacity,a=i+t,u=void 0===n?o:n<0?o+n:i+n;if(a===i&&u===o)return e;if(a>=u)return e.clear();for(var s=e._level,c=e._root,l=0;a+l<0;)c=new vt(c&&c.array.length?[void 0,c]:[],r),l+=1<<(s+=_);l&&(a+=l,i+=l,u+=l,o+=l);for(var f=kt(o),p=kt(u);p>=1<<s+_;)c=new vt(c&&c.array.length?[c]:[],r),s+=_;var h=e._tail,d=p<f?jt(e,u-1):p>f?new vt([],r):h;if(h&&p>f&&a<o&&h.array.length){for(var v=c=Ot(c,r),m=s;m>_;m-=_){var g=f>>>m&y;v=v.array[g]=Ot(v.array[g],r)}v.array[f>>>_&y]=h}if(u<o&&(d=d&&d.removeAfter(r,0,u)),a>=p)a-=p,u-=p,s=_,c=null,d=d&&d.removeBefore(r,0,a);else if(a>i||p<f){for(l=0;c;){var b=a>>>s&y;if(b!==p>>>s&y)break;b&&(l+=(1<<s)*b),s-=_,c=c.array[b]}c&&a>i&&(c=c.removeBefore(r,s,a-l)),c&&p<f&&(c=c.removeAfter(r,s,p-l)),l&&(a-=l,u-=l)}return e.__ownerID?(e.size=u-a,e._origin=a,e._capacity=u,e._level=s,e._root=c,e._tail=d,e.__hash=void 0,e.__altered=!0,e):wt(a,u,s,c,d)}function Ct(e,t,n){for(var r=[],o=0,u=0;u<n.length;u++){var s=n[u],c=i(s);c.size>o&&(o=c.size),a(s)||(c=c.map(function(e){return fe(e)})),r.push(c)}return o>e.size&&(e=e.setSize(o)),at(e,t,r)}function kt(e){return e<v?0:e-1>>>_<<_}function Pt(e){return null===e||void 0===e?Mt():Tt(e)?e:Mt().withMutations(function(t){var n=r(e);Ae(n.size),n.forEach(function(e,n){return t.set(n,e)})})}function Tt(e){return qe(e)&&l(e)}function Nt(e,t,n,r){var i=Object.create(Pt.prototype);return i.size=e?e.size:0,i._map=e,i._list=t,i.__ownerID=n,i.__hash=r,i}function Mt(){return mt||(mt=Nt(Ye(),Et()))}function Rt(e,t,n){var r,i,o=e._map,a=e._list,u=o.get(t),s=void 0!==u;if(n===m){if(!s)return e;a.size>=v&&a.size>=2*o.size?(r=(i=a.filter(function(e,t){return void 0!==e&&u!==t})).toKeyedSeq().map(function(e){return e[0]}).flip().toMap(),e.__ownerID&&(r.__ownerID=i.__ownerID=e.__ownerID)):(r=o.remove(t),i=u===a.size-1?a.pop():a.set(u,void 0))}else if(s){if(n===a.get(u)[1])return e;r=o,i=a.set(u,[t,n])}else r=o.set(t,a.size),i=a.set(a.size,[t,n]);return e.__ownerID?(e.size=r.size,e._map=r,e._list=i,e.__hash=void 0,e):Nt(r,i)}function Ft(e,t){this._iter=e,this._useKeys=t,this.size=e.size}function zt(e){this._iter=e,this.size=e.size}function It(e){this._iter=e,this.size=e.size}function At(e){this._iter=e,this.size=e.size}function Dt(e){var t=Zt(e);return t._iter=e,t.size=e.size,t.flip=function(){return e},t.reverse=function(){var t=e.reverse.apply(this);return t.flip=function(){return e.reverse()},t},t.has=function(t){return e.includes(t)},t.includes=function(t){return e.has(t)},t.cacheResult=en,t.__iterateUncached=function(t,n){var r=this;return e.__iterate(function(e,n){return!1!==t(n,e,r)},n)},t.__iteratorUncached=function(t,n){if(t===F){var r=e.__iterator(t,n);return new D(function(){var e=r.next();if(!e.done){var t=e.value[0];e.value[0]=e.value[1],e.value[1]=t}return e})}return e.__iterator(t===R?M:R,n)},t}function qt(e,t,n){var r=Zt(e);return r.size=e.size,r.has=function(t){return e.has(t)},r.get=function(r,i){var o=e.get(r,m);return o===m?i:t.call(n,o,r,e)},r.__iterateUncached=function(r,i){var o=this;return e.__iterate(function(e,i,a){return!1!==r(t.call(n,e,i,a),i,o)},i)},r.__iteratorUncached=function(r,i){var o=e.__iterator(F,i);return new D(function(){var i=o.next();if(i.done)return i;var a=i.value,u=a[0];return q(r,u,t.call(n,a[1],u,e),i)})},r}function Lt(e,t){var n=Zt(e);return n._iter=e,n.size=e.size,n.reverse=function(){return e},e.flip&&(n.flip=function(){var t=Dt(e);return t.reverse=function(){return e.flip()},t}),n.get=function(n,r){return e.get(t?n:-1-n,r)},n.has=function(n){return e.has(t?n:-1-n)},n.includes=function(t){return e.includes(t)},n.cacheResult=en,n.__iterate=function(t,n){var r=this;return e.__iterate(function(e,n){return t(e,n,r)},!n)},n.__iterator=function(t,n){return e.__iterator(t,!n)},n}function Bt(e,t,n,r){var i=Zt(e);return r&&(i.has=function(r){var i=e.get(r,m);return i!==m&&!!t.call(n,i,r,e)},i.get=function(r,i){var o=e.get(r,m);return o!==m&&t.call(n,o,r,e)?o:i}),i.__iterateUncached=function(i,o){var a=this,u=0;return e.__iterate(function(e,o,s){if(t.call(n,e,o,s))return u++,i(e,r?o:u-1,a)},o),u},i.__iteratorUncached=function(i,o){var a=e.__iterator(F,o),u=0;return new D(function(){for(;;){var o=a.next();if(o.done)return o;var s=o.value,c=s[0],l=s[1];if(t.call(n,l,c,e))return q(i,r?c:u++,l,o)}})},i}function Ut(e,t,n,r){var i=e.size;if(void 0!==t&&(t|=0),void 0!==n&&(n|=0),k(t,n,i))return e;var o=P(t,i),a=T(n,i);if(o!=o||a!=a)return Ut(e.toSeq().cacheResult(),t,n,r);var u,s=a-o;s==s&&(u=s<0?0:s);var c=Zt(e);return c.size=0===u?u:e.size&&u||void 0,!r&&ie(e)&&u>=0&&(c.get=function(t,n){return(t=S(this,t))>=0&&t<u?e.get(t+o,n):n}),c.__iterateUncached=function(t,n){var i=this;if(0===u)return 0;if(n)return this.cacheResult().__iterate(t,n);var a=0,s=!0,c=0;return e.__iterate(function(e,n){if(!s||!(s=a++<o))return c++,!1!==t(e,r?n:c-1,i)&&c!==u}),c},c.__iteratorUncached=function(t,n){if(0!==u&&n)return this.cacheResult().__iterator(t,n);var i=0!==u&&e.__iterator(t,n),a=0,s=0;return new D(function(){for(;a++<o;)i.next();if(++s>u)return{value:void 0,done:!0};var e=i.next();return r||t===R?e:q(t,s-1,t===M?void 0:e.value[1],e)})},c}function Vt(e,t,n,r){var i=Zt(e);return i.__iterateUncached=function(i,o){var a=this;if(o)return this.cacheResult().__iterate(i,o);var u=!0,s=0;return e.__iterate(function(e,o,c){if(!u||!(u=t.call(n,e,o,c)))return s++,i(e,r?o:s-1,a)}),s},i.__iteratorUncached=function(i,o){var a=this;if(o)return this.cacheResult().__iterator(i,o);var u=e.__iterator(F,o),s=!0,c=0;return new D(function(){var e,o,l;do{if((e=u.next()).done)return r||i===R?e:q(i,c++,i===M?void 0:e.value[1],e);var f=e.value;o=f[0],l=f[1],s&&(s=t.call(n,l,o,a))}while(s);return i===F?e:q(i,o,l,e)})},i}function Ht(e,t,n){var r=Zt(e);return r.__iterateUncached=function(r,i){var o=0,u=!1;return function e(s,c){var l=this;s.__iterate(function(i,s){return(!t||c<t)&&a(i)?e(i,c+1):!1===r(i,n?s:o++,l)&&(u=!0),!u},i)}(e,0),o},r.__iteratorUncached=function(r,i){var o=e.__iterator(r,i),u=[],s=0;return new D(function(){for(;o;){var e=o.next();if(!1===e.done){var c=e.value;if(r===F&&(c=c[1]),t&&!(u.length<t)||!a(c))return n?e:q(r,s++,c,e);u.push(o),o=c.__iterator(r,i)}else o=u.pop()}return{value:void 0,done:!0}})},r}function Kt(e,t,n){t||(t=tn);var r=u(e),i=0,o=e.toSeq().map(function(t,r){return[r,t,i++,n?n(t,r,e):t]}).toArray();return o.sort(function(e,n){return t(e[3],n[3])||e[2]-n[2]}).forEach(r?function(e,t){o[t].length=2}:function(e,t){o[t]=e[1]}),r?Q(o):s(e)?G(o):$(o)}function Wt(e,t,n){if(t||(t=tn),n){var r=e.toSeq().map(function(t,r){return[t,n(t,r,e)]}).reduce(function(e,n){return Qt(t,e[1],n[1])?n:e});return r&&r[0]}return e.reduce(function(e,n){return Qt(t,e,n)?n:e})}function Qt(e,t,n){var r=e(n,t);return 0===r&&n!==t&&(void 0===n||null===n||n!=n)||r>0}function Gt(e,t,r){var i=Zt(e);return i.size=new ee(r).map(function(e){return e.size}).min(),i.__iterate=function(e,t){for(var n,r=this.__iterator(R,t),i=0;!(n=r.next()).done&&!1!==e(n.value,i++,this););return i},i.__iteratorUncached=function(e,i){var o=r.map(function(e){return e=n(e),V(i?e.reverse():e)}),a=0,u=!1;return new D(function(){var n;return u||(n=o.map(function(e){return e.next()}),u=n.some(function(e){return e.done})),u?{value:void 0,done:!0}:q(e,a++,t.apply(null,n.map(function(e){return e.value})))})},i}function $t(e,t){return ie(e)?t:e.constructor(t)}function Jt(e){if(e!==Object(e))throw new TypeError("Expected [K, V] tuple: "+e)}function Xt(e){return Ae(e.size),j(e)}function Yt(e){return u(e)?r:s(e)?i:o}function Zt(e){return Object.create((u(e)?Q:s(e)?G:$).prototype)}function en(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):W.prototype.cacheResult.call(this)}function tn(e,t){return e>t?1:e<t?-1:0}function nn(e){var t=V(e);if(!t){if(!K(e))throw new TypeError("Expected iterable or array-like: "+e);t=V(n(e))}return t}function rn(e,t){var n,r=function(o){if(o instanceof r)return o;if(!(this instanceof r))return new r(o);if(!n){n=!0;var a=Object.keys(e);!function(e,t){try{t.forEach(function(e,t){Object.defineProperty(e,t,{get:function(){return this.get(t)},set:function(e){ye(this.__ownerID,"Cannot set on an immutable record."),this.set(t,e)}})}.bind(void 0,e))}catch(e){}}(i,a),i.size=a.length,i._name=t,i._keys=a,i._defaultValues=e}this._map=De(o)},i=r.prototype=Object.create(on);return i.constructor=r,r}t(Pt,De),Pt.of=function(){return this(arguments)},Pt.prototype.toString=function(){return this.__toString("OrderedMap {","}")},Pt.prototype.get=function(e,t){var n=this._map.get(e);return void 0!==n?this._list.get(n)[1]:t},Pt.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this):Mt()},Pt.prototype.set=function(e,t){return Rt(this,e,t)},Pt.prototype.remove=function(e){return Rt(this,e,m)},Pt.prototype.wasAltered=function(){return this._map.wasAltered()||this._list.wasAltered()},Pt.prototype.__iterate=function(e,t){var n=this;return this._list.__iterate(function(t){return t&&e(t[1],t[0],n)},t)},Pt.prototype.__iterator=function(e,t){return this._list.fromEntrySeq().__iterator(e,t)},Pt.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._map.__ensureOwner(e),n=this._list.__ensureOwner(e);return e?Nt(t,n,e,this.__hash):(this.__ownerID=e,this._map=t,this._list=n,this)},Pt.isOrderedMap=Tt,Pt.prototype[d]=!0,Pt.prototype.delete=Pt.prototype.remove,t(Ft,Q),Ft.prototype.get=function(e,t){return this._iter.get(e,t)},Ft.prototype.has=function(e){return this._iter.has(e)},Ft.prototype.valueSeq=function(){return this._iter.valueSeq()},Ft.prototype.reverse=function(){var e=this,t=Lt(this,!0);return this._useKeys||(t.valueSeq=function(){return e._iter.toSeq().reverse()}),t},Ft.prototype.map=function(e,t){var n=this,r=qt(this,e,t);return this._useKeys||(r.valueSeq=function(){return n._iter.toSeq().map(e,t)}),r},Ft.prototype.__iterate=function(e,t){var n,r=this;return this._iter.__iterate(this._useKeys?function(t,n){return e(t,n,r)}:(n=t?Xt(this):0,function(i){return e(i,t?--n:n++,r)}),t)},Ft.prototype.__iterator=function(e,t){if(this._useKeys)return this._iter.__iterator(e,t);var n=this._iter.__iterator(R,t),r=t?Xt(this):0;return new D(function(){var i=n.next();return i.done?i:q(e,t?--r:r++,i.value,i)})},Ft.prototype[d]=!0,t(zt,G),zt.prototype.includes=function(e){return this._iter.includes(e)},zt.prototype.__iterate=function(e,t){var n=this,r=0;return this._iter.__iterate(function(t){return e(t,r++,n)},t)},zt.prototype.__iterator=function(e,t){var n=this._iter.__iterator(R,t),r=0;return new D(function(){var t=n.next();return t.done?t:q(e,r++,t.value,t)})},t(It,$),It.prototype.has=function(e){return this._iter.includes(e)},It.prototype.__iterate=function(e,t){var n=this;return this._iter.__iterate(function(t){return e(t,t,n)},t)},It.prototype.__iterator=function(e,t){var n=this._iter.__iterator(R,t);return new D(function(){var t=n.next();return t.done?t:q(e,t.value,t.value,t)})},t(At,Q),At.prototype.entrySeq=function(){return this._iter.toSeq()},At.prototype.__iterate=function(e,t){var n=this;return this._iter.__iterate(function(t){if(t){Jt(t);var r=a(t);return e(r?t.get(1):t[1],r?t.get(0):t[0],n)}},t)},At.prototype.__iterator=function(e,t){var n=this._iter.__iterator(R,t);return new D(function(){for(;;){var t=n.next();if(t.done)return t;var r=t.value;if(r){Jt(r);var i=a(r);return q(e,i?r.get(0):r[0],i?r.get(1):r[1],t)}}})},zt.prototype.cacheResult=Ft.prototype.cacheResult=It.prototype.cacheResult=At.prototype.cacheResult=en,t(rn,be),rn.prototype.toString=function(){return this.__toString(un(this)+" {","}")},rn.prototype.has=function(e){return this._defaultValues.hasOwnProperty(e)},rn.prototype.get=function(e,t){if(!this.has(e))return t;var n=this._defaultValues[e];return this._map?this._map.get(e,n):n},rn.prototype.clear=function(){if(this.__ownerID)return this._map&&this._map.clear(),this;var e=this.constructor;return e._empty||(e._empty=an(this,Ye()))},rn.prototype.set=function(e,t){if(!this.has(e))throw new Error('Cannot set unknown key "'+e+'" on '+un(this));var n=this._map&&this._map.set(e,t);return this.__ownerID||n===this._map?this:an(this,n)},rn.prototype.remove=function(e){if(!this.has(e))return this;var t=this._map&&this._map.remove(e);return this.__ownerID||t===this._map?this:an(this,t)},rn.prototype.wasAltered=function(){return this._map.wasAltered()},rn.prototype.__iterator=function(e,t){var n=this;return r(this._defaultValues).map(function(e,t){return n.get(t)}).__iterator(e,t)},rn.prototype.__iterate=function(e,t){var n=this;return r(this._defaultValues).map(function(e,t){return n.get(t)}).__iterate(e,t)},rn.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._map&&this._map.__ensureOwner(e);return e?an(this,t,e):(this.__ownerID=e,this._map=t,this)};var on=rn.prototype;function an(e,t,n){var r=Object.create(Object.getPrototypeOf(e));return r._map=t,r.__ownerID=n,r}function un(e){return e._name||e.constructor.name||"Record"}function sn(e){return null===e||void 0===e?_n():cn(e)&&!l(e)?e:_n().withMutations(function(t){var n=o(e);Ae(n.size),n.forEach(function(e){return t.add(e)})})}function cn(e){return!(!e||!e[fn])}on.delete=on.remove,on.deleteIn=on.removeIn=Ue.removeIn,on.merge=Ue.merge,on.mergeWith=Ue.mergeWith,on.mergeIn=Ue.mergeIn,on.mergeDeep=Ue.mergeDeep,on.mergeDeepWith=Ue.mergeDeepWith,on.mergeDeepIn=Ue.mergeDeepIn,on.setIn=Ue.setIn,on.update=Ue.update,on.updateIn=Ue.updateIn,on.withMutations=Ue.withMutations,on.asMutable=Ue.asMutable,on.asImmutable=Ue.asImmutable,t(sn,Ee),sn.of=function(){return this(arguments)},sn.fromKeys=function(e){return this(r(e).keySeq())},sn.prototype.toString=function(){return this.__toString("Set {","}")},sn.prototype.has=function(e){return this._map.has(e)},sn.prototype.add=function(e){return hn(this,this._map.set(e,!0))},sn.prototype.remove=function(e){return hn(this,this._map.remove(e))},sn.prototype.clear=function(){return hn(this,this._map.clear())},sn.prototype.union=function(){var t=e.call(arguments,0);return 0===(t=t.filter(function(e){return 0!==e.size})).length?this:0!==this.size||this.__ownerID||1!==t.length?this.withMutations(function(e){for(var n=0;n<t.length;n++)o(t[n]).forEach(function(t){return e.add(t)})}):this.constructor(t[0])},sn.prototype.intersect=function(){var t=e.call(arguments,0);if(0===t.length)return this;t=t.map(function(e){return o(e)});var n=this;return this.withMutations(function(e){n.forEach(function(n){t.every(function(e){return e.includes(n)})||e.remove(n)})})},sn.prototype.subtract=function(){var t=e.call(arguments,0);if(0===t.length)return this;t=t.map(function(e){return o(e)});var n=this;return this.withMutations(function(e){n.forEach(function(n){t.some(function(e){return e.includes(n)})&&e.remove(n)})})},sn.prototype.merge=function(){return this.union.apply(this,arguments)},sn.prototype.mergeWith=function(t){var n=e.call(arguments,1);return this.union.apply(this,n)},sn.prototype.sort=function(e){return vn(Kt(this,e))},sn.prototype.sortBy=function(e,t){return vn(Kt(this,t,e))},sn.prototype.wasAltered=function(){return this._map.wasAltered()},sn.prototype.__iterate=function(e,t){var n=this;return this._map.__iterate(function(t,r){return e(r,r,n)},t)},sn.prototype.__iterator=function(e,t){return this._map.map(function(e,t){return t}).__iterator(e,t)},sn.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._map.__ensureOwner(e);return e?this.__make(t,e):(this.__ownerID=e,this._map=t,this)},sn.isSet=cn;var ln,fn="@@__IMMUTABLE_SET__@@",pn=sn.prototype;function hn(e,t){return e.__ownerID?(e.size=t.size,e._map=t,e):t===e._map?e:0===t.size?e.__empty():e.__make(t)}function dn(e,t){var n=Object.create(pn);return n.size=e?e.size:0,n._map=e,n.__ownerID=t,n}function _n(){return ln||(ln=dn(Ye()))}function vn(e){return null===e||void 0===e?wn():yn(e)?e:wn().withMutations(function(t){var n=o(e);Ae(n.size),n.forEach(function(e){return t.add(e)})})}function yn(e){return cn(e)&&l(e)}pn[fn]=!0,pn.delete=pn.remove,pn.mergeDeep=pn.merge,pn.mergeDeepWith=pn.mergeWith,pn.withMutations=Ue.withMutations,pn.asMutable=Ue.asMutable,pn.asImmutable=Ue.asImmutable,pn.__empty=_n,pn.__make=dn,t(vn,sn),vn.of=function(){return this(arguments)},vn.fromKeys=function(e){return this(r(e).keySeq())},vn.prototype.toString=function(){return this.__toString("OrderedSet {","}")},vn.isOrderedSet=yn;var mn,gn=vn.prototype;function bn(e,t){var n=Object.create(gn);return n.size=e?e.size:0,n._map=e,n.__ownerID=t,n}function wn(){return mn||(mn=bn(Mt()))}function En(e){return null===e||void 0===e?kn():xn(e)?e:kn().unshiftAll(e)}function xn(e){return!(!e||!e[jn])}gn[d]=!0,gn.__empty=wn,gn.__make=bn,t(En,we),En.of=function(){return this(arguments)},En.prototype.toString=function(){return this.__toString("Stack [","]")},En.prototype.get=function(e,t){var n=this._head;for(e=S(this,e);n&&e--;)n=n.next;return n?n.value:t},En.prototype.peek=function(){return this._head&&this._head.value},En.prototype.push=function(){if(0===arguments.length)return this;for(var e=this.size+arguments.length,t=this._head,n=arguments.length-1;n>=0;n--)t={value:arguments[n],next:t};return this.__ownerID?(this.size=e,this._head=t,this.__hash=void 0,this.__altered=!0,this):Cn(e,t)},En.prototype.pushAll=function(e){if(0===(e=i(e)).size)return this;Ae(e.size);var t=this.size,n=this._head;return e.reverse().forEach(function(e){t++,n={value:e,next:n}}),this.__ownerID?(this.size=t,this._head=n,this.__hash=void 0,this.__altered=!0,this):Cn(t,n)},En.prototype.pop=function(){return this.slice(1)},En.prototype.unshift=function(){return this.push.apply(this,arguments)},En.prototype.unshiftAll=function(e){return this.pushAll(e)},En.prototype.shift=function(){return this.pop.apply(this,arguments)},En.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._head=void 0,this.__hash=void 0,this.__altered=!0,this):kn()},En.prototype.slice=function(e,t){if(k(e,t,this.size))return this;var n=P(e,this.size);if(T(t,this.size)!==this.size)return we.prototype.slice.call(this,e,t);for(var r=this.size-n,i=this._head;n--;)i=i.next;return this.__ownerID?(this.size=r,this._head=i,this.__hash=void 0,this.__altered=!0,this):Cn(r,i)},En.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?Cn(this.size,this._head,e,this.__hash):(this.__ownerID=e,this.__altered=!1,this)},En.prototype.__iterate=function(e,t){if(t)return this.reverse().__iterate(e);for(var n=0,r=this._head;r&&!1!==e(r.value,n++,this);)r=r.next;return n},En.prototype.__iterator=function(e,t){if(t)return this.reverse().__iterator(e);var n=0,r=this._head;return new D(function(){if(r){var t=r.value;return r=r.next,q(e,n++,t)}return{value:void 0,done:!0}})},En.isStack=xn;var On,jn="@@__IMMUTABLE_STACK__@@",Sn=En.prototype;function Cn(e,t,n,r){var i=Object.create(Sn);return i.size=e,i._head=t,i.__ownerID=n,i.__hash=r,i.__altered=!1,i}function kn(){return On||(On=Cn(0))}function Pn(e,t){var n=function(n){e.prototype[n]=t[n]};return Object.keys(t).forEach(n),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(t).forEach(n),e}Sn[jn]=!0,Sn.withMutations=Ue.withMutations,Sn.asMutable=Ue.asMutable,Sn.asImmutable=Ue.asImmutable,Sn.wasAltered=Ue.wasAltered,n.Iterator=D,Pn(n,{toArray:function(){Ae(this.size);var e=new Array(this.size||0);return this.valueSeq().__iterate(function(t,n){e[n]=t}),e},toIndexedSeq:function(){return new zt(this)},toJS:function(){return this.toSeq().map(function(e){return e&&"function"==typeof e.toJS?e.toJS():e}).__toJS()},toJSON:function(){return this.toSeq().map(function(e){return e&&"function"==typeof e.toJSON?e.toJSON():e}).__toJS()},toKeyedSeq:function(){return new Ft(this,!0)},toMap:function(){return De(this.toKeyedSeq())},toObject:function(){Ae(this.size);var e={};return this.__iterate(function(t,n){e[n]=t}),e},toOrderedMap:function(){return Pt(this.toKeyedSeq())},toOrderedSet:function(){return vn(u(this)?this.valueSeq():this)},toSet:function(){return sn(u(this)?this.valueSeq():this)},toSetSeq:function(){return new It(this)},toSeq:function(){return s(this)?this.toIndexedSeq():u(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return En(u(this)?this.valueSeq():this)},toList:function(){return pt(u(this)?this.valueSeq():this)},toString:function(){return"[Iterable]"},__toString:function(e,t){return 0===this.size?e+t:e+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+t},concat:function(){return $t(this,function(e,t){var n=u(e),i=[e].concat(t).map(function(e){return a(e)?n&&(e=r(e)):e=n?ae(e):ue(Array.isArray(e)?e:[e]),e}).filter(function(e){return 0!==e.size});if(0===i.length)return e;if(1===i.length){var o=i[0];if(o===e||n&&u(o)||s(e)&&s(o))return o}var c=new ee(i);return n?c=c.toKeyedSeq():s(e)||(c=c.toSetSeq()),(c=c.flatten(!0)).size=i.reduce(function(e,t){if(void 0!==e){var n=t.size;if(void 0!==n)return e+n}},0),c}(this,e.call(arguments,0)))},includes:function(e){return this.some(function(t){return de(t,e)})},entries:function(){return this.__iterator(F)},every:function(e,t){Ae(this.size);var n=!0;return this.__iterate(function(r,i,o){if(!e.call(t,r,i,o))return n=!1,!1}),n},filter:function(e,t){return $t(this,Bt(this,e,t,!0))},find:function(e,t,n){var r=this.findEntry(e,t);return r?r[1]:n},findEntry:function(e,t){var n;return this.__iterate(function(r,i,o){if(e.call(t,r,i,o))return n=[i,r],!1}),n},findLastEntry:function(e,t){return this.toSeq().reverse().findEntry(e,t)},forEach:function(e,t){return Ae(this.size),this.__iterate(t?e.bind(t):e)},join:function(e){Ae(this.size),e=void 0!==e?""+e:",";var t="",n=!0;return this.__iterate(function(r){n?n=!1:t+=e,t+=null!==r&&void 0!==r?r.toString():""}),t},keys:function(){return this.__iterator(M)},map:function(e,t){return $t(this,qt(this,e,t))},reduce:function(e,t,n){var r,i;return Ae(this.size),arguments.length<2?i=!0:r=t,this.__iterate(function(t,o,a){i?(i=!1,r=t):r=e.call(n,r,t,o,a)}),r},reduceRight:function(e,t,n){var r=this.toKeyedSeq().reverse();return r.reduce.apply(r,arguments)},reverse:function(){return $t(this,Lt(this,!0))},slice:function(e,t){return $t(this,Ut(this,e,t,!0))},some:function(e,t){return!this.every(Fn(e),t)},sort:function(e){return $t(this,Kt(this,e))},values:function(){return this.__iterator(R)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return void 0!==this.size?0===this.size:!this.some(function(){return!0})},count:function(e,t){return j(e?this.toSeq().filter(e,t):this)},countBy:function(e,t){return function(e,t,n){var r=De().asMutable();return e.__iterate(function(i,o){r.update(t.call(n,i,o,e),0,function(e){return e+1})}),r.asImmutable()}(this,e,t)},equals:function(e){return _e(this,e)},entrySeq:function(){var e=this;if(e._cache)return new ee(e._cache);var t=e.toSeq().map(Rn).toIndexedSeq();return t.fromEntrySeq=function(){return e.toSeq()},t},filterNot:function(e,t){return this.filter(Fn(e),t)},findLast:function(e,t,n){return this.toKeyedSeq().reverse().find(e,t,n)},first:function(){return this.find(C)},flatMap:function(e,t){return $t(this,function(e,t,n){var r=Yt(e);return e.toSeq().map(function(i,o){return r(t.call(n,i,o,e))}).flatten(!0)}(this,e,t))},flatten:function(e){return $t(this,Ht(this,e,!0))},fromEntrySeq:function(){return new At(this)},get:function(e,t){return this.find(function(t,n){return de(n,e)},void 0,t)},getIn:function(e,t){for(var n,r=this,i=nn(e);!(n=i.next()).done;){var o=n.value;if((r=r&&r.get?r.get(o,m):m)===m)return t}return r},groupBy:function(e,t){return function(e,t,n){var r=u(e),i=(l(e)?Pt():De()).asMutable();e.__iterate(function(o,a){i.update(t.call(n,o,a,e),function(e){return(e=e||[]).push(r?[a,o]:o),e})});var o=Yt(e);return i.map(function(t){return $t(e,o(t))})}(this,e,t)},has:function(e){return this.get(e,m)!==m},hasIn:function(e){return this.getIn(e,m)!==m},isSubset:function(e){return e="function"==typeof e.includes?e:n(e),this.every(function(t){return e.includes(t)})},isSuperset:function(e){return(e="function"==typeof e.isSubset?e:n(e)).isSubset(this)},keySeq:function(){return this.toSeq().map(Mn).toIndexedSeq()},last:function(){return this.toSeq().reverse().first()},max:function(e){return Wt(this,e)},maxBy:function(e,t){return Wt(this,t,e)},min:function(e){return Wt(this,e?zn(e):Dn)},minBy:function(e,t){return Wt(this,t?zn(t):Dn,e)},rest:function(){return this.slice(1)},skip:function(e){return this.slice(Math.max(0,e))},skipLast:function(e){return $t(this,this.toSeq().reverse().skip(e).reverse())},skipWhile:function(e,t){return $t(this,Vt(this,e,t,!0))},skipUntil:function(e,t){return this.skipWhile(Fn(e),t)},sortBy:function(e,t){return $t(this,Kt(this,t,e))},take:function(e){return this.slice(0,Math.max(0,e))},takeLast:function(e){return $t(this,this.toSeq().reverse().take(e).reverse())},takeWhile:function(e,t){return $t(this,function(e,t,n){var r=Zt(e);return r.__iterateUncached=function(r,i){var o=this;if(i)return this.cacheResult().__iterate(r,i);var a=0;return e.__iterate(function(e,i,u){return t.call(n,e,i,u)&&++a&&r(e,i,o)}),a},r.__iteratorUncached=function(r,i){var o=this;if(i)return this.cacheResult().__iterator(r,i);var a=e.__iterator(F,i),u=!0;return new D(function(){if(!u)return{value:void 0,done:!0};var e=a.next();if(e.done)return e;var i=e.value,s=i[0],c=i[1];return t.call(n,c,s,o)?r===F?e:q(r,s,c,e):(u=!1,{value:void 0,done:!0})})},r}(this,e,t))},takeUntil:function(e,t){return this.takeWhile(Fn(e),t)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=function(e){if(e.size===1/0)return 0;var t=l(e),n=u(e),r=t?1:0;return function(e,t){return t=xe(t,3432918353),t=xe(t<<15|t>>>-15,461845907),t=xe(t<<13|t>>>-13,5),t=xe((t=(t+3864292196|0)^e)^t>>>16,2246822507),t=Oe((t=xe(t^t>>>13,3266489909))^t>>>16)}(e.__iterate(n?t?function(e,t){r=31*r+qn(je(e),je(t))|0}:function(e,t){r=r+qn(je(e),je(t))|0}:t?function(e){r=31*r+je(e)|0}:function(e){r=r+je(e)|0}),r)}(this))}});var Tn=n.prototype;Tn[f]=!0,Tn[A]=Tn.values,Tn.__toJS=Tn.toArray,Tn.__toStringMapper=In,Tn.inspect=Tn.toSource=function(){return this.toString()},Tn.chain=Tn.flatMap,Tn.contains=Tn.includes,function(){try{Object.defineProperty(Tn,"length",{get:function(){if(!n.noLengthWarning){var e;try{throw new Error}catch(t){e=t.stack}if(-1===e.indexOf("_wrapObject"))return console&&console.warn&&console.warn("iterable.length has been deprecated, use iterable.size or iterable.count(). This warning will become a silent error in a future version. "+e),this.size}}})}catch(e){}}(),Pn(r,{flip:function(){return $t(this,Dt(this))},findKey:function(e,t){var n=this.findEntry(e,t);return n&&n[0]},findLastKey:function(e,t){return this.toSeq().reverse().findKey(e,t)},keyOf:function(e){return this.findKey(function(t){return de(t,e)})},lastKeyOf:function(e){return this.findLastKey(function(t){return de(t,e)})},mapEntries:function(e,t){var n=this,r=0;return $t(this,this.toSeq().map(function(i,o){return e.call(t,[o,i],r++,n)}).fromEntrySeq())},mapKeys:function(e,t){var n=this;return $t(this,this.toSeq().flip().map(function(r,i){return e.call(t,r,i,n)}).flip())}});var Nn=r.prototype;function Mn(e,t){return t}function Rn(e,t){return[t,e]}function Fn(e){return function(){return!e.apply(this,arguments)}}function zn(e){return function(){return-e.apply(this,arguments)}}function In(e){return"string"==typeof e?JSON.stringify(e):e}function An(){return O(arguments)}function Dn(e,t){return e<t?1:e>t?-1:0}function qn(e,t){return e^t+2654435769+(e<<6)+(e>>2)|0}return Nn[p]=!0,Nn[A]=Tn.entries,Nn.__toJS=Tn.toObject,Nn.__toStringMapper=function(e,t){return JSON.stringify(t)+": "+In(e)},Pn(i,{toKeyedSeq:function(){return new Ft(this,!1)},filter:function(e,t){return $t(this,Bt(this,e,t,!1))},findIndex:function(e,t){var n=this.findEntry(e,t);return n?n[0]:-1},indexOf:function(e){var t=this.toKeyedSeq().keyOf(e);return void 0===t?-1:t},lastIndexOf:function(e){var t=this.toKeyedSeq().reverse().keyOf(e);return void 0===t?-1:t},reverse:function(){return $t(this,Lt(this,!1))},slice:function(e,t){return $t(this,Ut(this,e,t,!1))},splice:function(e,t){var n=arguments.length;if(t=Math.max(0|t,0),0===n||2===n&&!t)return this;e=P(e,e<0?this.count():this.size);var r=this.slice(0,e);return $t(this,1===n?r:r.concat(O(arguments,2),this.slice(e+t)))},findLastIndex:function(e,t){var n=this.toKeyedSeq().findLastKey(e,t);return void 0===n?-1:n},first:function(){return this.get(0)},flatten:function(e){return $t(this,Ht(this,e,!1))},get:function(e,t){return(e=S(this,e))<0||this.size===1/0||void 0!==this.size&&e>this.size?t:this.find(function(t,n){return n===e},void 0,t)},has:function(e){return(e=S(this,e))>=0&&(void 0!==this.size?this.size===1/0||e<this.size:-1!==this.indexOf(e))},interpose:function(e){return $t(this,function(e,t){var n=Zt(e);return n.size=e.size&&2*e.size-1,n.__iterateUncached=function(n,r){var i=this,o=0;return e.__iterate(function(e,r){return(!o||!1!==n(t,o++,i))&&!1!==n(e,o++,i)},r),o},n.__iteratorUncached=function(n,r){var i,o=e.__iterator(R,r),a=0;return new D(function(){return(!i||a%2)&&(i=o.next()).done?i:a%2?q(n,a++,t):q(n,a++,i.value,i)})},n}(this,e))},interleave:function(){var e=[this].concat(O(arguments)),t=Gt(this.toSeq(),G.of,e),n=t.flatten(!0);return t.size&&(n.size=t.size*e.length),$t(this,n)},last:function(){return this.get(-1)},skipWhile:function(e,t){return $t(this,Vt(this,e,t,!1))},zip:function(){return $t(this,Gt(this,An,[this].concat(O(arguments))))},zipWith:function(e){var t=O(arguments);return t[0]=this,$t(this,Gt(this,e,t))}}),i.prototype[h]=!0,i.prototype[d]=!0,Pn(o,{get:function(e,t){return this.has(e)?e:t},includes:function(e){return this.has(e)},keySeq:function(){return this.valueSeq()}}),o.prototype.has=Tn.includes,Pn(Q,r.prototype),Pn(G,i.prototype),Pn($,o.prototype),Pn(be,r.prototype),Pn(we,i.prototype),Pn(Ee,o.prototype),{Iterable:n,Seq:W,Collection:ge,Map:De,OrderedMap:Pt,List:pt,Stack:En,Set:sn,OrderedSet:vn,Record:rn,Range:me,Repeat:ve,is:de,fromJS:fe}},e.exports=r()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.uninstallMutation=t.installMutation=t.updateMutations=t.removeMutationPreference=t.addMutationPreference=void 0;var r,i,o,a,u,s=t.addMutationPreference=(r=_(regeneratorRuntime.mark(function e(t,n){var r,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.default.get();case 2:return r=e.sent,(i=r.mutations||[]).push({name:t}),r.mutations=i,e.abrupt("return",f.default.update(r,n));case 7:case"end":return e.stop()}},e,this)})),function(e,t){return r.apply(this,arguments)}),c=t.removeMutationPreference=(i=_(regeneratorRuntime.mark(function e(t,n){var r,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.default.get();case 2:return r=e.sent,i=r.mutations||[],r.mutations=h.default.reject(i,{name:t}),e.abrupt("return",f.default.update(r,n));case 6:case"end":return e.stop()}},e,this)})),function(e,t){return i.apply(this,arguments)}),l=t.updateMutations=(o=_(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.default.get();case 2:return t=e.sent,n=t.mutations||[],e.abrupt("return",(0,p.installMutationFiles)(n));case 5:case"end":return e.stop()}},e,this)})),function(){return o.apply(this,arguments)}),f=(t.installMutation=(a=_(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s(t,n);case 2:return e.abrupt("return",l());case 3:case"end":return e.stop()}},e,this)})),function(e,t){return a.apply(this,arguments)}),t.uninstallMutation=(u=_(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c(t,n);case 2:return e.abrupt("return",l());case 3:case"end":return e.stop()}},e,this)})),function(e,t){return u.apply(this,arguments)}),d(n(118))),p=n(37),h=d(n(11));function d(e){return e&&e.__esModule?e:{default:e}}function _(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function r(i,o){try{var a=t[i](o),u=a.value}catch(e){return void n(e)}if(!a.done)return Promise.resolve(u).then(function(e){r("next",e)},function(e){r("throw",e)});e(u)}("next")})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i,o=(r=c(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,u.loadPreferences)());case 1:case"end":return e.stop()}},e,this)})),function(){return r.apply(this,arguments)}),a=(i=c(regeneratorRuntime.mark(function e(t,n){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,u.updatePreferences)(t);case 2:return e.next=4,(0,u.loadPreferences)();case 4:return r=e.sent,n((0,s.setPreferences)(r)),e.abrupt("return",r);case 7:case"end":return e.stop()}},e,this)})),function(e,t){return i.apply(this,arguments)}),u=n(15),s=n(5);function c(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function r(i,o){try{var a=t[i](o),u=a.value}catch(e){return void n(e)}if(!a.done)return Promise.resolve(u).then(function(e){r("next",e)},function(e){r("throw",e)});e(u)}("next")})}}t.default={update:a,get:o}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i,o=(r=["\n  background: ",";\n  height: 100%;\n  overflow: scroll;\n"],i=["\n  background: ",";\n  height: 100%;\n  overflow: scroll;\n"],Object.freeze(Object.defineProperties(r,{raw:{value:Object.freeze(i)}}))),a=_(n(1)),u=n(6),s=_(n(3)),c=_(n(120)),l=_(n(33)),f=n(121),p=_(n(123)),h=_(n(126)),d=n(4);function _(e){return e&&e.__esModule?e:{default:e}}var v=f.FixedWidthDiv.extend(o,function(e){return e.theme.colors.secondaryBackground}),y=function(e){return a.default.createElement(l.default,null,a.default.createElement(c.default,{split:"vertical",minSize:200,maxSize:400,defaultSize:250},a.default.createElement(v,null,a.default.createElement(p.default,null)),a.default.createElement(f.FixedWidthDiv,null,a.default.createElement(h.default,null),e.children)))};y.propTypes={children:s.default.any},t.default=(0,d.connect)()((0,u.mutate)(y,"Frame"))},function(e,t){e.exports=require("react-split-pane")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FixedWidthDiv=void 0;var r,i=n(122),o=(r=i)&&r.__esModule?r:{default:r};t.FixedWidthDiv=o.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i,o,a=(r=["\n  display: grid;\n  grid-auto-columns: minmax(0, 100%);\n"],i=["\n  display: grid;\n  grid-auto-columns: minmax(0, 100%);\n"],Object.freeze(Object.defineProperties(r,{raw:{value:Object.freeze(i)}}))),u=n(2);var s=((o=u)&&o.__esModule?o:{default:o}).default.div(a);t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=d(["\n  padding-top: ",";\n"],["\n  padding-top: ",";\n"]),o=d(["\n  margin-top: 8px;\n  margin-bottom: 16px;\n"],["\n  margin-top: 8px;\n  margin-bottom: 16px;\n"]),a=h(n(1)),u=n(6),s=n(4),c=n(5),l=n(25),f=h(n(124)),p=n(19);function h(e){return e&&e.__esModule?e:{default:e}}function d(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var _=l.Menu.extend(i,function(e){return e.theme.spacing.header}),v=p.Input.extend(o),y=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onInput=function(e){var t=e.target.value;n.props.dispatch((0,c.setQuery)(t))},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default.Component),r(t,[{key:"render",value:function(){return a.default.createElement("div",null,a.default.createElement(_,null,a.default.createElement(v,{onInput:this.onInput,placeholder:"Search"}),a.default.createElement(f.default,null)))}}]),t}();y.propTypes={},t.default=(0,s.connect)()((0,u.mutate)(y,"Sidebar"))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=p(n(1)),a=n(4),u=n(5),s=p(n(125)),c=n(25),l=n(10),f=n(23);function p(e){return e&&e.__esModule?e:{default:e}}var h=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.filterNotesBasedOnQuery=function(e){var t=n.props.query.split(" "),i=e.getTags(),o=function(e){var t=e.trim().replace(/\W/g,"");if(0===i.filter(function(e){return e.value.toLowerCase().includes(t.toLowerCase())}).length)return{v:!1}},a=!0,u=!1,s=void 0;try{for(var c,l=t[Symbol.iterator]();!(a=(c=l.next()).done);a=!0){var f=o(c.value);if("object"===(void 0===f?"undefined":r(f)))return f.v}}catch(e){u=!0,s=e}finally{try{!a&&l.return&&l.return()}finally{if(u)throw s}}return!0},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.Component),i(t,[{key:"componentDidMount",value:function(){this.props.dispatch((0,u.loadNotes)())}},{key:"render",value:function(){var e=(0,f.noteDictToArray)(this.props.allNotes);0!==this.props.query.length&&(e=e.filter(this.filterNotesBasedOnQuery));var t=e.map(function(e){return o.default.createElement(s.default,{key:e.uuid,note:e})});return o.default.createElement("div",null,o.default.createElement(c.MenuCardList,null," ",t," "))}}]),t}();h.propTypes={};t.default=(0,a.connect)(function(e){return{allNotes:(0,l.allNotes)(e),query:(0,l.query)(e)}})(h)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=l(n(1)),o=l(n(3)),a=n(5),u=n(4),s=n(25),c=n(10);function l(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onClick=function(){n.props.dispatch((0,a.selectAndLoadNote)(n.props.note))},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default.Component),r(t,[{key:"render",value:function(){var e=this.props.selectedNote&&this.props.selectedNote.uuid===this.props.note.uuid,t=this.props.note.renderPreview();return i.default.createElement(s.MenuCard,{onClick:this.onClick,key:this.props.note.uuid+"-note",active:e},t)}}]),t}();f.propTypes={note:o.default.object.isRequired};t.default=(0,u.connect)(function(e){return{selectedNote:(0,c.selectedNote)(e)}})(f)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=(r=["\n  display: flex;\n  width: 100%;\n  justify-content: flex-end;\n"],i=["\n  display: flex;\n  width: 100%;\n  justify-content: flex-end;\n"],Object.freeze(Object.defineProperties(r,{raw:{value:Object.freeze(i)}}))),s=y(n(1)),c=n(4),l=n(6),f=n(10),p=n(127),h=y(n(2)),d=n(5),_=n(13),v=n(21);function y(e){return e&&e.__esModule?e:{default:e}}var m=h.default.div(u),g=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.newNote=function(e){return new v.NoteModel(window.editors[e].emptySerializedEditorState,e,[])},n.handleOnChange=function(e){var t=n.newNote(e.target.value);n.props.dispatch((0,d.newNote)(t)),n.props.dispatch((0,d.selectNote)(t)),e.target.value=""},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.default.Component),a(t,[{key:"render",value:function(){return s.default.createElement(_.Container,null,s.default.createElement(m,null,s.default.createElement("select",{onChange:this.handleOnChange},s.default.createElement("option",{value:"",selected:!0,disabled:!0,hidden:!0},"New Note"),Object.keys(window.editors).map(function(e,t){return s.default.createElement("option",{key:t,value:e},e)}))),s.default.createElement(p.NoteView,o({ourEditorState:this.props.editorState,note:this.props.selectedNote,placeholder:"Change me!"},this.props)))}}]),t}();g.propTypes={};t.default=(0,c.connect)(function(e){return{selectedNote:(0,f.selectedNote)(e),editorState:(0,f.editorState)(e),isLoadingContent:(0,f.isLoadingContent)(e)}})((0,l.mutate)(g,"Feed"))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NoteView=void 0;var r,i=n(128),o=(r=i)&&r.__esModule?r:{default:r};t.NoteView=o.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=w(["\n  float: right;\n  background: transparent;\n  border: none;\n  position: relative;\n  top: -",";\n  font-size: ",";\n"],["\n  float: right;\n  background: transparent;\n  border: none;\n  position: relative;\n  top: -",";\n  font-size: ",";\n"]),a=w(["\n  color: ",";\n"],["\n  color: ",";\n"]),u=w(["\n  padding-top: ",";\n  padding: 0;\n"],["\n  padding-top: ",";\n  padding: 0;\n"]),s=w(["\n  padding: 0;\n"],["\n  padding: 0;\n"]),c=w(["\n  padding: ",";\n"],["\n  padding: ",";\n"]),l=b(n(1)),f=n(4),p=n(6),h=b(n(2)),d=b(n(3)),_=b(n(129)),v=n(13),y=n(5),m=b(n(130)),g=b(n(22));function b(e){return e&&e.__esModule?e:{default:e}}function w(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var E=h.default.button(o,function(e){return 2*e.theme.spacing.padding},function(e){return e.theme.fontSize}),x=h.default.div(a,function(e){return e.theme.colors.insetText}),O=v.Container.extend(u,function(e){return e.theme.spacing.header}),j=v.Card.extend(s),S=h.default.div(c,function(e){return e.theme.spacing.padding}),C=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onDelete=function(){null!==n.props.note&&(n.props.delete(n.props.note),n.setState({tagInputValue:""}),n.removeNote(n.props.note))},n._getTags=function(){return n.props.note?n.props.note.getTags():[]},n.onTagInputChange=function(e){n.setState({tagInputValue:e.target.value})},n.onTagSubmit=function(){var e=n.props.note;e.addTag(new g.default(n.state.tagInputValue)),n.props.updateAndSaveNote(e),n.setState({tagInputValue:""})},n.onTagDelete=function(e){var t=n.props.note;t.removeTag(e.uuid),n.props.updateAndSaveNote(t)},n.removeNote=function(e){n.props.dispatch((0,y.deleteNote)(e)),n.props.dispatch((0,y.selectNote)(null))},n.onEditorChange=function(e,t,r){var i=n.props.note;n.props.dispatch((0,y.setEditorState)(e)),t&&i.setContent(t),r&&i.setPreview(r),n.props.dispatch((0,y.updateNote)(i))},n.onEditorContentLoaded=function(e){n.props.dispatch((0,y.setEditorState)(e))},n.checkAndSaveNote=function(){var e=n.props.note;null!==e&&(0,y.saveNote)(e)},n.onEditorBlur=function(){n.checkAndSaveNote()},n.state={tagInputValue:""},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.default.Component),i(t,[{key:"render",value:function(){if(null===this.props.note)return l.default.createElement(x,null,"Create new note or select note from sidebar.");var e=this._getTags();return l.default.createElement(O,null,l.default.createElement(j,null,l.default.createElement(S,null,l.default.createElement(E,{onClick:this.onDelete},"🗑"),l.default.createElement(_.default,r({},this.props,{onChangeEx:this.onEditorChange,onBlurEx:this.onEditorBlur,onContentLoaded:this.onEditorContentLoaded}))),l.default.createElement(m.default,{tags:e,tagInputValue:this.state.tagInputValue,onChange:this.onTagInputChange,onEnterPress:this.onTagSubmit,onTagDelete:this.onTagDelete})))}}]),t}();C.propTypes={note:d.default.object};t.default=(0,f.connect)(null,function(e){return{updateAndSaveNote:function(t){return e((0,y.updateAndSaveNote)(t))},delete:function(t){return e((0,y.deleteNote)(t))}}})((0,p.mutate)(C,"NoteView"))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=s(n(1)),o=n(6),a=n(24),u=s(n(3));function s(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default.Component),r(t,[{key:"render",value:function(){return i.default.createElement("div",null,i.default.createElement(a.Editor,this.props))}}]),t}();c.propTypes={onChangeEx:u.default.func,onBlurEx:u.default.func,onContentLoaded:u.default.func,selectNote:u.default.object,ourEditorState:u.default.object.isRequired,isLoadingContent:u.default.bool.isRequired},t.default=(0,o.mutate)(c,"ContentView")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i,o=(r=["\n  border-top: 1px solid ",";\n  width: 100%;\n  padding: ",";\n"],i=["\n  border-top: 1px solid ",";\n  width: 100%;\n  padding: ",";\n"],Object.freeze(Object.defineProperties(r,{raw:{value:Object.freeze(i)}}))),a=f(n(1)),u=f(n(2)),s=n(19),c=f(n(131)),l=f(n(133));function f(e){return e&&e.__esModule?e:{default:e}}var p=u.default.div(o,function(e){return e.theme.colors.border},function(e){return e.theme.spacing.padding});t.default=function(e){var t=e.tags,n=e.tagInputValue,r=e.onEnterPress,i=e.onChange,o=e.onTagDelete;return a.default.createElement(p,null,a.default.createElement(s.Input,{placeholder:"Add a tag",value:n,onChange:i,onKeyPress:function(e){!function(e,t){e.charCode===l.default.ENTER&&t()}(e,r)}}),t.map(function(e){return a.default.createElement(c.default,{text:e.value,key:e.id+"-tag",onDelete:function(){o(e)}})}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=l(["\n  display: inline-block;\n  background: ",";\n  text-transform: lowercase;\n  border-radius: ",";\n  padding: ",";\n  margin: ",";\n"],["\n  display: inline-block;\n  background: ",";\n  text-transform: lowercase;\n  border-radius: ",";\n  padding: ",";\n  margin: ",";\n"]),i=l(["\n  height: 100%;\n  line-height: ",";\n  display: inline-block;\n  vertical-align: bottom;\n  padding: 1px 2px 0px 2px;\n  cursor: pointer;\n  border-radius: 100px;\n  margin-left: ",";\n\n  &:hover {\n    background: ",";\n\n    & > svg {\n      stroke: white;\n    }\n  }\n"],["\n  height: 100%;\n  line-height: ",";\n  display: inline-block;\n  vertical-align: bottom;\n  padding: 1px 2px 0px 2px;\n  cursor: pointer;\n  border-radius: 100px;\n  margin-left: ",";\n\n  &:hover {\n    background: ",";\n\n    & > svg {\n      stroke: white;\n    }\n  }\n"]),o=c(n(1)),a=c(n(2)),u=c(n(18)),s=n(132);function c(e){return e&&e.__esModule?e:{default:e}}function l(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var f=a.default.div(r,function(e){return e.theme.colors.lightPrimary},function(e){return e.theme.borderRadius},function(e){return e.theme.spacing.lessPadding},function(e){return e.theme.spacing.lessPadding}),p=a.default.div(i,function(e){return e.theme.iconSizes.small},function(e){return e.theme.spacing.padding},function(e){return e.theme.colors.primary});t.default=function(e){return o.default.createElement(f,{key:e.key+"-container"},e.text,o.default.createElement(p,{onClick:e.onDelete},o.default.createElement(s.X,{size:u.default.iconSizes.small})))}},function(e,t){e.exports=require("react-feather")},function(e,t){e.exports=require("key-code")},function(e,t){e.exports=require("react-toastify")},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(137),o=(r=i)&&r.__esModule?r:{default:r},a=n(138);t.default={onChangeScreen:function(e){return a.ipcRenderer.on(o.default.CHANGE_SCREEN,e)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={CHANGE_SCREEN:"CHANGE_SCREEN"}},function(e,t){e.exports=require("electron")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=[i.default];if(process.env.LOG_REDUX&&"true"===process.env.LOG_REDUX){var a=n(142),u=a.logger;t.push(u)}return(0,r.createStore)(o.default,e,r.applyMiddleware.apply(void 0,t))};var r=n(44),i=a(n(140)),o=a(n(141));function a(e){return e&&e.__esModule?e:{default:e}}},function(e,t){e.exports=require("redux-thunk")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(44),i=n(5),o=n(43),a=n(23);var u=(0,r.combineReducers)({app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];switch(t.type){case i.SET_SCREEN:return Object.assign({},e,{screen:t.screen});case i.SET_TOAST:return Object.assign({},e,{toast:{message:t.message,type:t.toastType}});case i.SET_PREFERENCES:return Object.assign({},e,{preferences:t.preferences});default:return e}},notes:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isLoadingNotes:!1,allNotes:{},selectedNote:null,editorState:(0,o.emptyEditorState)(),isLoadingContent:!1,query:""},t=arguments[1];switch(t.type){case i.LOAD_NOTES:return Object.assign({},e,{isLoadingNotes:!0});case i.RECEIVED_NOTES:return Object.assign({},e,{isLoadingNotes:!1,allNotes:(0,a.noteArrayToDict)(t.notes)});case i.SELECT_NOTE:return t.note===e.selectedNote?e:null===t.note?Object.assign({},e,{selectedNote:t.note,editorState:(0,o.emptyEditorState)()}):Object.assign({},e,{selectedNote:t.note,editorState:window.editors[t.note.mutationName].emptyEditorState});case i.LOAD_NOTE_CONTENT:return Object.assign({},e,{isLoadingContent:!0});case i.RECEIVED_NOTE_CONTENT:return Object.assign({},e,{isLoadingContent:!1});case i.SET_EDITOR_STATE:return Object.assign({},e,{editorState:t.editorState});case i.UPDATE_NOTE:return t.note.uuid===e.selectedNote.uuid?Object.assign({},e,{allNotes:(0,o.updateNoteInAllNotes)(t.note,e.allNotes),selectedNote:Object.assign({},t.note)}):Object.assign({},e,{allNotes:(0,o.updateNoteInAllNotes)(t.note,e.allNotes)});case i.DELETE_NOTE:return Object.assign({},e,{allNotes:(0,o.removeNoteFromAllNotes)(t.note,e.allNotes)});case i.SEARCH_NOTE:return Object.assign({},e,{query:t.query});default:return e}}});t.default=u},function(e,t){e.exports=require("redux-logger")}]);
//# sourceMappingURL=main.js.map